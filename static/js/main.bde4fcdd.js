/*! For license information please see main.bde4fcdd.js.LICENSE.txt */
(()=>{var e={8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,u="[DecimalError] ",c=u+"Invalid argument: ",l=u+"Exponent out of range: ",h=Math.floor,d=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=7,g=9007199254740991,y=h(g/m),v={};function b(e,t){var n,r,i,o,a,u,c,l,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),s?A(t,d):t;if(c=e.d,l=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,u=l.length):(r=l,i=a,u=c.length),o>(u=(a=Math.ceil(d/m))>u?a+1:u+1)&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((u=c.length)-(o=l.length)<0&&(o=u,r=l,l=c,c=r),n=0;o;)n=(c[--o]=c[o]+l[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),u=c.length;0==c[--u];)c.pop();return t.d=c,t.e=i,s?A(t,d):t}function w(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",(n=m-r.length)&&(o+=O(n)),o+=r;a=e[t],(n=m-(r=a+"").length)&&(o+=O(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*m;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return S(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return A(S(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return E(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=S(T(n,a),T(e,a),a),s=!0,A(t,o))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):b(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(u+"NaN");return n.s?(s=!1,t=S(n,e,0,1).times(e),s=!0,n.minus(t)):A(new r(n),i)},v.naturalExponential=v.exp=function(){return _(this)},v.naturalLogarithm=v.ln=function(){return T(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):C(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=E(i)+1,n=(r=i.d.length-1)*m+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,o,a,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(u+"NaN")}for(e=E(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(S(c,o,a+2)).times(.5),x(o.d).slice(0,a)===(t=x(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(A(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,A(r,n)},v.times=v.mul=function(e){var t,n,r,i,o,a,u,c,l,h=this,d=h.constructor,f=h.d,m=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,n=h.e+e.e,(c=f.length)<(l=m.length)&&(o=f,f=m,m=o,a=c,c=l,l=a),o=[],r=a=c+l;r--;)o.push(0);for(r=l;--r>=0;){for(t=0,i=c+r;i>r;)u=o[i]+m[r]*f[i-r-1]+t,o[i--]=u%p|0,t=u/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?A(e,d.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(w(e,0,o),void 0===t?t=r.rounding:w(t,0,8),A(n,e+E(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=P(r,!0):(w(e,0,o),void 0===t?t=i.rounding:w(t,0,8),n=P(r=A(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?P(i):(w(e,0,o),void 0===t?t=a.rounding:w(t,0,8),n=P((r=A(new a(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return A(new t(e),E(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,o,a,c,l=this,d=l.constructor,f=+(e=new d(e));if(!e.s)return new d(i);if(!(l=new d(l)).s){if(e.s<1)throw Error(u+"Infinity");return l}if(l.eq(i))return l;if(r=d.precision,e.eq(i))return A(l,r);if(c=(t=e.e)>=(n=e.d.length-1),a=l.s,c){if((n=f<0?-f:f)<=g){for(o=new d(i),t=Math.ceil(r/m+4),s=!1;n%2&&j((o=o.times(l)).d,t),0!==(n=h(n/2));)j((l=l.times(l)).d,t);return s=!0,e.s<0?new d(i).div(o):A(o,r)}}else if(a<0)throw Error(u+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,s=!1,o=e.times(T(l,r+12)),s=!0,(o=_(o)).s=a,o},v.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=P(i,(n=E(i))<=a.toExpNeg||n>=a.toExpPos):(w(e,1,o),void 0===t?t=a.rounding:w(t,0,8),r=P(i=A(new a(i),e,t),e<=(n=E(i))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(w(e,1,o),void 0===t?t=n.rounding:w(t,0,8)),A(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=E(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var S=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,l,h,d,f,g,y,v,b,w,x,S,_,k,O,T,I,C=r.constructor,P=r.s==i.s?1:-1,j=r.d,N=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(u+"Division by zero");for(c=r.e-i.e,T=N.length,k=j.length,y=(g=new C(P)).d=[],l=0;N[l]==(j[l]||0);)++l;if(N[l]>(j[l]||0)&&--c,(x=null==o?o=C.precision:a?o+(E(r)-E(i))+1:o)<0)return new C(0);if(x=x/m+2|0,l=0,1==T)for(h=0,N=N[0],x++;(l<k||h)&&x--;l++)S=h*p+(j[l]||0),y[l]=S/N|0,h=S%N|0;else{for((h=p/(N[0]+1)|0)>1&&(N=e(N,h),j=e(j,h),T=N.length,k=j.length),_=T,b=(v=j.slice(0,T)).length;b<T;)v[b++]=0;(I=N.slice()).unshift(0),O=N[0],N[1]>=p/2&&++O;do{h=0,(s=t(N,v,T,b))<0?(w=v[0],T!=b&&(w=w*p+(v[1]||0)),(h=w/O|0)>1?(h>=p&&(h=p-1),1==(s=t(d=e(N,h),v,f=d.length,b=v.length))&&(h--,n(d,T<f?I:N,f))):(0==h&&(s=h=1),d=N.slice()),(f=d.length)<b&&d.unshift(0),n(v,d,b),-1==s&&(s=t(N,v,T,b=v.length))<1&&(h++,n(v,T<b?I:N,b)),b=v.length):0===s&&(h++,v=[0]),y[l++]=h,s&&v[0]?v[b++]=j[_]||0:(v=[j[_]],b=1)}while((_++<k||void 0!==v[0])&&x--)}return y[0]||y.shift(),g.e=c,A(g,a?o+E(g)+1:o)}}();function _(e,t){var n,r,o,a,u,c=0,h=0,f=e.constructor,p=f.precision;if(E(e)>16)throw Error(l+E(e));if(!e.s)return new f(i);for(null==t?(s=!1,u=p):u=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),h+=5;for(u+=Math.log(d(2,h))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=u;;){if(r=A(r.times(e),u),n=n.times(++c),x((a=o.plus(S(r,n,u))).d).slice(0,u)===x(o.d).slice(0,u)){for(;h--;)o=A(o.times(o),u);return f.precision=p,null==t?(s=!0,A(o,p)):o}o=a}}function E(e){for(var t=e.e*m,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(u+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function O(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,o,a,c,l,h,d,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(u+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,d=v):d=t,m.eq(10))return null==t&&(s=!0),k(y,d);if(d+=10,y.precision=d,r=(n=x(g)).charAt(0),a=E(m),!(Math.abs(a)<15e14))return h=k(y,d+2,v).times(a+""),m=T(new y(r+"."+n.slice(1)),d-10).plus(h),y.precision=v,null==t?(s=!0,A(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(a=E(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),l=c=m=S(m.minus(i),m.plus(i),d),f=A(m.times(m),d),o=3;;){if(c=A(c.times(f),d),x((h=l.plus(S(c,new y(o),d))).d).slice(0,d)===x(l.d).slice(0,d))return l=l.times(2),0!==a&&(l=l.plus(k(y,d+2,v).times(a+""))),l=S(l,new y(p),d),y.precision=v,null==t?(s=!0,A(l,v)):l;l=h,o+=2}}function I(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=h(n/m),e.d=[],r=(n+1)%m,n<0&&(r+=m),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=m;r<i;)e.d.push(+t.slice(r,r+=m));t=t.slice(r),r=m-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>y||e.e<-y))throw Error(l+n)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,n){var r,i,o,a,u,c,f,g,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=m,i=t,f=v[g=0];else{if((g=Math.ceil((r+1)/m))>=(o=v.length))return e;for(f=o=v[g],a=1;o>=10;o/=10)a++;i=(r%=m)-m+a}if(void 0!==n&&(u=f/(o=d(10,a-i-1))%10|0,c=t<0||void 0!==v[g+1]||f%o,c=n<4?(u||c)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||c||6==n&&(r>0?i>0?f/d(10,a-i):0:v[g-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(o=E(e),v.length=1,t=t-o-1,v[0]=d(10,(m-t%m)%m),e.e=h(-t/m)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=g,o=1,g--):(v.length=g+1,o=d(10,m-r),v[g]=i>0?(f/d(10,a-i)%d(10,i)|0)*o:0),c)for(;;){if(0==g){(v[0]+=o)==p&&(v[0]=1,++e.e);break}if(v[g]+=o,v[g]!=p)break;v[g--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>y||e.e<-y))throw Error(l+E(e));return e}function C(e,t){var n,r,i,o,a,u,c,l,h,d,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?A(t,g):t;if(c=e.d,d=t.d,r=t.e,l=e.e,c=c.slice(),a=l-r){for((h=a<0)?(n=c,a=-a,u=d.length):(n=d,r=l,u=c.length),a>(i=Math.max(Math.ceil(g/m),u)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=c.length)<(u=d.length))&&(u=i),i=0;i<u;i++)if(c[i]!=d[i]){h=c[i]<d[i];break}a=0}for(h&&(n=c,c=d,d=n,t.s=-t.s),u=c.length,i=d.length-u;i>0;--i)c[u++]=0;for(i=d.length;i>a;){if(c[--i]<d[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=d[i]}for(;0===c[--u];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?A(t,g):t):new f(0)}function P(e,t,n){var r,i=E(e),o=x(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+O(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+O(-i-1)+o,n&&(r=n-a)>0&&(o+=O(r))):i>=a?(o+=O(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+O(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=O(r))),e.s<0?"-"+o:o}function j(e,t){if(e.length>t)return e.length=t,!0}function N(e){if(!e||"object"!==typeof e)throw Error(u+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(h(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):I(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);I(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=N,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),u=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),u=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),h=!n&&!l&&a(e),d=!n&&!l&&!h&&u(e),f=n||l||h||d,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5967:e=>{e.exports=function(e){return e.split("")}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===u?s===s&&!r(s):n(s,u)))var u=s,c=a}return c}},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},7498:e=>{e.exports=function(e,t){return e>t}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),u=n(4052),c=n(4543),l=n(1268),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=u(e),b=u(t),w=v?d:s(e),x=b?d:s(t),S=(w=w==h?f:w)==f,_=(x=x==h?f:x)==f,E=w==x;if(E&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(E&&!S)return y||(y=new r),v||l(e)?i(e,t,n,m,g,y):o(e,t,w,n,m,g,y);if(!(1&n)){var k=S&&p.call(e,"__wrapped__"),O=_&&p.call(t,"__wrapped__");if(k||O){var T=k?e.value():e,I=O?t.value():t;return y||(y=new r),g(T,I,n,m,y)}}return!!E&&(y||(y=new r),a(e,t,n,m,g,y))}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],h=e[l],d=c[1];if(u&&c[2]){if(void 0===h&&!(l in e))return!1}else{var f=new r;if(o)var p=o(h,d,l,e,t,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,d=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},61:e=>{e.exports=function(e,t){return e<t}},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),u=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),u=n(7574),c=n(5893),l=n(3279),h=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=r(t,u(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),u=Array(s);s--;)u[o?s:++a]=e,e+=i;return u}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),u=n(2074);e.exports=function(e,t,n){var c=-1,l=i,h=e.length,d=!0,f=[],p=f;if(n)d=!1,l=o;else if(h>=200){var m=t?null:s(e);if(m)return u(m);d=!1,l=a,p=new r}else p=t?[]:f;e:for(;++c<h;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else l(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},8114:e=>{e.exports=function(e,t){return e.has(t)}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,u=null===t,c=t===t,l=r(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var u=r(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[u?t[c]:c]:void 0}}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,h=t.length;if(l!=h&&!(c&&h>l))return!1;var d=u.get(e),f=u.get(t);if(d&&f)return d==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,u):a(y,v,p,e,t,u);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,u)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),u=n(2074),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=u),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=a(f(e),f(t),r,c,h,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var h=l;h--;){var d=c[h];if(!(u?d in t:i.call(t,d)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=u;++h<l;){var y=e[d=c[h]],v=t[d];if(o)var b=u?o(v,y,d,t,e,s):o(y,v,d,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),u=n(6913),c=n(6996),l="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=h||a&&w(new a)!=d||s&&w(new s)!=f)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return l;case y:return h;case v:return d;case b:return f}return t}),e.exports=w},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),u=n(914);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,h=!1;++c<l;){var d=u(t[c]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++c!=l?h:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+u+")*"),h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+l,"g");e.exports=function(e){return e.match(d)||[]}},2541:e=>{e.exports=function(e){return function(){return e}}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,h,d,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=u,r=c;return u=c=void 0,p=t,h=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=l}function w(){var e=i();if(b(e))return x(e);d=setTimeout(w,function(e){var n=t-(e-f);return g?s(n,l-(e-p)):n}(e))}function x(e){return d=void 0,y&&u?v(e):(u=c=void 0,h)}function S(){var e=i(),n=b(e);if(u=arguments,c=this,f=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(w,t),m?v(e):h}(f);if(g)return clearTimeout(d),d=setTimeout(w,t),v(f)}return void 0===d&&(d=setTimeout(w,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=f=c=d=void 0},S.flush=function(){return void 0===d?h:x(i())},S}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var u=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),u(e,o(t,3))}},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(e,i(t,3),u)}},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},9686:e=>{e.exports=function(e){return null==e}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},2794:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(9096);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},9364:(e,t,n)=>{var r=n(9742),i=n(9096),o=n(61);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},5713:e=>{e.exports=function(){}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var u=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),u(e,i(t,3))}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function oe(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Oe(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ce=!1;function Pe(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ie(e,t,n)}finally{Ce=!1,(null!==_e||null!==Ee)&&(Ae(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Ne=!1}function Re(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,u){Me=!1,Le=null,Re.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,Et,kt,Ot=!1,Tt=[],It=null,At=null,Ct=null,Pt=new Map,jt=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ot=!1,null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),null!==Ct&&Ft(Ct)&&(Ct=null),Pt.forEach(Ut),jt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==At&&Vt(At,e),null!==Ct&&Vt(Ct,e),Pt.forEach(t),jt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if($t){var i=Qt(e,t,n,r);if(null===i)$r(e,t,r,Ht,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Ct=Mt(Ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jt.set(o,Mt(jt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&$r(e,t,r,Ht,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=vi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=L({},cn,{view:0,detail:0}),dn=on(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},hn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function kn(){return En}var On=L({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(On),In=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Cn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(Pn),Nn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Rn,Ln=l&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Oe(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Hn(e){Fr(e,0)}function Qn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Pe(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==H(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Er={};function kr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Or=kr("animationend"),Tr=kr("animationiteration"),Ir=kr("animationstart"),Ar=kr("transitionend"),Cr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Cr.set(e,t),u(t,[e])}for(var Nr=0;Nr<Pr.length;Nr++){var Dr=Pr[Nr];jr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}jr(Or,"onAnimationEnd"),jr(Tr,"onAnimationIteration"),jr(Ir,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Le;Me=!1,Le=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=xe(n),a=[];e:{var s=Cr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Or:case Tr:case Ir:u=yn;break;case Ar:u=Cn;break;case"scroll":u=dn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),h=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=je(p,d))&&l.push(Wr(p,m,f)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?s:wi(u),f=null==c?s:wi(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=f,m=null,vi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=f,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(d=c,p=0,f=l=u;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)l=Gr(l),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==u&&Hr(a,s,u,l,!1),null!==c&&null!==h&&Hr(a,h,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Xn;else if($n(s))if(Yn)g=ar;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=je(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=je(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=je(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],_i=-1;function Ei(e){return{current:e}}function ki(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Oi(e,t){_i++,Si[_i]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),Ai=Ei(!1),Ci=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Ai),ki(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(o(168));Oi(Ii,t),Oi(Ai,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ci=Ii.current,Oi(Ii,e),Oi(Ai,Ai.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ii),Oi(Ii,e)):ki(Ai),Oi(Ai,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Bi=!1}}return null}var qi=[],$i=0,Wi=null,Ki=0,Gi=[],Hi=0,Qi=null,Xi=1,Yi="";function Ji(e,t){qi[$i++]=Ki,qi[$i++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Hi++]=Xi,Gi[Hi++]=Yi,Gi[Hi++]=Qi,Qi=e;var r=Xi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Xi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=qi[--$i],qi[$i]=null,Ki=qi[--$i],qi[$i]=null;for(;e===Qi;)Qi=Gi[--Hi],Gi[Hi]=null,Yi=Gi[--Hi],Gi[Hi]=null,Xi=Gi[--Hi],Gi[Hi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===j&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:h(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,s[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,m),null===l?c=y:l.sibling=y,l=y,h=g}if(m===s.length)return n(i,h),io&&Ji(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],u))&&(o=a(h,o,m),null===l?c=h:l.sibling=h,l=h);return io&&Ji(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,m=s,g=s=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===h?l=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),l;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,c))&&(s=a(v,s,g),null===h?l=v:h.sibling=v,h=v);return io&&Ji(i,g),l}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&bo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=yo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Rc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=yo(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case j:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return m(r,o,a,u);if(R(a))return g(r,o,a,u);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),_o=Ei(null),Eo=null,ko=null,Oo=null;function To(){Oo=ko=Eo=null}function Io(e){var t=_o.current;ki(_o),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){Eo=e,Oo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Oo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===Eo)throw Error(o(308));ko=e,Eo.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var jo=null;function No(e){null===jo?jo=[e]:jo.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=f,u=h):l=l.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=a,e.lanes=a,e.memoizedState=h}}function $o(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Ko=Ei(Wo),Go=Ei(Wo),Ho=Ei(Wo);function Qo(e){if(e===Wo)throw Error(o(174));return e}function Xo(e,t){switch(Oi(Ho,t),Oi(Go,e),Oi(Ko,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ko),Oi(Ko,t)}function Yo(){ki(Ko),ki(Go),ki(Ho)}function Jo(e){Qo(Ho.current);var t=Qo(Ko.current),n=ue(t,e.type);t!==n&&(Oi(Go,e),Oi(Ko,n))}function Zo(e){Go.current===e&&(ki(Ko),ki(Go))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,ua=null,ca=null,la=!1,ha=!1,da=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(o(301));a+=1,ca=ua=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(ha)}if(ia.current=Ja,t=null!==ua&&null!==ua.next,aa=0,ca=ua=sa=null,la=!1,t)throw Error(o(300));return e}function ya(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===ua){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ua.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,ua=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ua=e).memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ua,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((aa&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,sa.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Mu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ma(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Pa(9,Oa.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(o(349));0!==(30&aa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Aa(e)}function Ta(e,t,n){return n((function(){Ia(t)&&Aa(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Aa(e){var t=Ro(e,1);null!==t&&nc(t,e,1,-1)}function Ca(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ha.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return ba().memoizedState}function Na(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==ua){var a=ua.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Pa(t,n,o,r))}sa.flags|=e,i.memoizedState=Pa(1|t,n,o,r)}function Ra(e,t){return Na(8390656,8,e,t)}function Ma(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Mu|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ka(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Xa(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ha(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Xa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,No(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Xa(e,t){ha=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Po,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Po,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ca,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Au)throw Error(o(349));0!==(30&aa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ra(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Au.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Po,useCallback:za,useContext:Po,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:xa,useRef:ja,useState:function(){return xa(wa)},useDebugValue:Va,useDeferredValue:function(e){return $a(ba(),ua.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ea,useId:Ka,unstable_isNewReconciler:!1},ts={readContext:Po,useCallback:za,useContext:Po,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:Sa,useRef:ja,useState:function(){return Sa(wa)},useDebugValue:Va,useDeferredValue:function(e){var t=ba();return null===ua?t.memoizedState=e:$a(t,ua.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ea,useId:Ka,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function as(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=ji(t)?Ci:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=ji(t)?Ci:Ii.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Wu=r),hs(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,$s(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Os(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(Nu,ju),ju|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oi(Nu,ju),ju|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oi(Nu,ju),ju|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oi(Nu,ju),ju|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=ji(n)?Ci:Ii.current;return o=Pi(t,o),Co(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Ts(e,t,n,r,i){if(ji(n)){var o=!0;Mi(t)}else o=!1;if(Co(t,i),null===t.stateNode)qs(e,t),as(t,n,r),us(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pi(t,c=ji(n)?Ci:Ii.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ss(t,a,r,c),Mo=!1;var d=t.memoizedState;a.state=d,qo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Ai.current||Mo?("function"===typeof l&&(rs(t,n,l,r),u=t.memoizedState),(s=Mo||os(t,n,s,r,d,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Po(u):u=Pi(t,u=ji(n)?Ci:Ii.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==u)&&ss(t,a,r,u),Mo=!1,d=t.memoizedState,a.state=d,qo(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||Ai.current||Mo?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Mo||os(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),$s(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xo(e,t.containerInfo)}function Cs(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,js,Ns,Ds,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oi(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Rc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Rs,e):Fs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ls(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Rc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=ls(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ro(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=ls(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Hi++]=Xi,Gi[Hi++]=Yi,Gi[Hi++]=Qi,Xi=e.id,Yi=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nc(r,s):(s=Rc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return ji(t.type)&&Ni(),Ks(t),null;case 3:return r=t.stateNode,Yo(),ki(Ai),ki(Ii),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),js(e,t),Ks(t),null;case 5:Zo(t);var i=Qo(Ho.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=Qo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ve(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[fi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Ho.current),Qo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(ki(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Du&&(Du=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Yo(),js(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return Io(t.type._context),Ks(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>zu&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ks(t),null}else 2*Ye()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ea.current,Oi(ea,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ju)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Hs(e,t){switch(to(t),t.tag){case 1:return ji(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),ki(Ai),ki(Ii),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return Yo(),null;case 10:return Io(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(Ko.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ve(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=lu,i=hu;lu=null,du(e,t,n),hu=i,null!==(lu=r)&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=hu,lu=n.stateNode.containerInfo,hu=!0,du(e,t,n),lu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,hu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));fu(a,s,i),lu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Ec(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ye())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||h,mu(t,e),Xs=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(d=Js=h;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nu(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xu(d);continue}}null!==p?(p.return=f,Js=p):xu(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=a,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Js=u):Su(i);for(;null!==o;)Js=o,bu(o,t,n),o=o.sibling;Js=i,Qs=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$o(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$o(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&iu(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Ec(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Eu=Math.ceil,ku=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Tu=w.ReactCurrentBatchConfig,Iu=0,Au=null,Cu=null,Pu=0,ju=0,Nu=Ei(0),Du=0,Ru=null,Mu=0,Lu=0,Fu=0,Uu=null,Bu=null,Vu=0,zu=1/0,qu=null,$u=!1,Wu=null,Ku=null,Gu=!1,Hu=null,Qu=0,Xu=0,Yu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Iu)?Ye():-1!==Ju?Ju:Ju=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Pu?Pu&-Pu:null!==go.transition?(0===Zu&&(Zu=mt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Yu=null,Error(o(185));yt(e,n,r),0!==(2&Iu)&&e===Au||(e===Au&&(0===(2&Iu)&&(Lu|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(zu=Ye()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Au?Pu:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),ai((function(){0===(6&Iu)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Iu))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Au?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Iu;Iu|=2;var a=pc();for(Au===e&&Pu===t||(qu=null,zu=Ye()+500,dc(e,t));;)try{vc();break}catch(u){fc(e,u)}To(),ku.current=a,Iu=i,null!==Cu?t=0:(Au=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ru,dc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ru,dc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Bu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bu,qu),t);break}xc(e,Bu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bu,qu),r);break}xc(e,Bu,qu);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bu,Bu=n,null!==t&&ac(t)),e}function ac(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sc(e,t){for(t&=~Fu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Iu))throw Error(o(327));Sc();var t=dt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ru,dc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bu,qu),rc(e,Ye()),null}function cc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(zu=Ye()+500,Ui&&zi())}}function lc(e){null!==Hu&&0===Hu.tag&&0===(6&Iu)&&Sc();var t=Iu;Iu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Iu=t))&&zi()}}function hc(){ju=Nu.current,ki(Nu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cu)for(n=Cu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Yo(),ki(Ai),ki(Ii),ra();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:ki(ea);break;case 10:Io(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,Cu=e=Nc(e.current,null),Pu=ju=t,Du=0,Ru=null,Fu=Lu=Mu=0,Bu=Uu=null,null!==jo){for(t=0;t<jo.length;t++)if(null!==(r=(n=jo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}jo=null}return e}function fc(e,t){for(;;){var n=Cu;try{if(To(),ia.current=Ja,la){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(aa=0,ca=ua=sa=null,ha=!1,da=0,Ou.current=null,null===n||null===n.return){Du=1,Ru=t,Cu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,u,0,t),mo(cs(c,u));break e}}a=c=cs(c,u),4!==Du&&(Du=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,fs(0,c,t));break e;case 1:u=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ps(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Cu===n&&null!==n&&(Cu=n=n.return);continue}break}}function pc(){var e=ku.current;return ku.current=Ja,null===e?Ja:e}function mc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Au||0===(268435455&Mu)&&0===(268435455&Lu)||sc(Au,Pu)}function gc(e,t){var n=Iu;Iu|=2;var r=pc();for(Au===e&&Pu===t||(qu=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(To(),Iu=n,ku.current=r,null!==Cu)throw Error(o(261));return Au=null,Pu=0,Du}function yc(){for(;null!==Cu;)bc(Cu)}function vc(){for(;null!==Cu&&!Qe();)bc(Cu)}function bc(e){var t=_u(e.alternate,e,ju);e.memoizedProps=e.pendingProps,null===t?wc(e):Cu=t,Ou.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,ju)))return void(Cu=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Cu=n);if(null===e)return Du=6,void(Cu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cu=t);Cu=t=e}while(null!==t);0===Du&&(Du=5)}function xc(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Hu);if(0!==(6&Iu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Au&&(Cu=Au=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Ac(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Iu;Iu|=4,Ou.current=null,function(e,t){if(ei=$t,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++l===i&&(u=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tu,tu=!1}(e,n),gu(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Xe(),Iu=u,bt=s,Tu.transition=a}else e.current=n;if(Gu&&(Gu=!1,Hu=e,Qu=i),a=e.pendingLanes,0===a&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($u)throw $u=!1,e=Wu,Wu=null,e;0!==(1&Qu)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,zi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function Sc(){if(null!==Hu){var e=wt(Qu),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Hu)var r=!1;else{if(e=Hu,Hu=null,Qu=0,0!==(6&Iu))throw Error(o(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var d=h.child;if(null!==d)d.return=h,Js=d;else for(;null!==Js;){var f=(h=Js).sibling,p=h.return;if(ou(h),h===l){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(S){Ec(u,u.return,S)}if(u===s){Js=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Js=x;break e}Js=u.return}}if(Iu=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function _c(e,t,n){e=Bo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Bo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Ye()-Vu?dc(e,0):Fu|=n),rc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ro(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Oc(e,n)}function Ac(e,t){return Ge(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Cc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)jc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Rc(n.children,i,a,t);case E:s=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=a,e;case C:return(e=Pc(19,n,t,i)).elementType=C,e.lanes=a,e;case N:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case j:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Vc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ji(n))return Ri(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=Bc(n,r,!0,e,0,o,0,s,u)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nc(e,i,a,o),Vo(e,i,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:Jo(t);break;case 1:ji(t.type)&&Mi(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oi(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Oi(ea,1&ea.current),null!==(e=$s(e,t,n))?e.sibling:null);Oi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return $s(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Co(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,us(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Cs(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Cs(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=$s(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Oi(_o,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=$s(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ao(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ao(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Po(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,ji(r)?(e=!0,Mi(t)):e=!1,Co(t,n),as(t,r,i),us(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=$c(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=$c(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=$c(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return $c(a)}Qc.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Qc.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ye()),0===(6&Iu)&&(zu=Ye()+500,zi()))}break;case 13:lc((function(){var t=Ro(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ro(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ae=lc;var el={usingClientEntryPoint:!1,Events:[bi,wi,xi,Oe,Te,cc]},tl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),ot=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Hc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.H=r.createRoot,r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+I(u,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var l=o+I(s=e[c],c);u+=A(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=o+I(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},N={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:N,ReactCurrentOwner:_};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},6378:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case u:return e;default:return t}}case i:return t}}}function S(e){return x(e)===h}t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isFragment=function(e){return x(e)===o}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(l);null!==t&&D(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(O),O=-1),p=!0;var o=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var h=r(l);null!==h&&D(x,h.startTime-n),u=!1}return u}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,k=null,O=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function C(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?_():(E=!1,k=null)}}else E=!1}if("function"===typeof b)_=function(){b(C)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,j=P.port2;P.port1.onmessage=C,_=function(){j.postMessage(null)}}else _=function(){y(C,0)};function N(e){k=e,E||(E=!0,_())}function D(e,n){O=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(v(O),O=-1):g=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},3895:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=u((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==l&&d.hasValue){var t=d.value;if(l(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var n=r(e);return void 0!==l&&l(t,n)?t:(o=e,a=n)}var o,a,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,l]);var f=o(e,h[0],h[1]);return s((function(){d.hasValue=!0,d.value=f}),[f]),c(f),f}},7237:(e,t,n)=>{"use strict";e.exports=n(3895)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/MyDuka-FrontEnd/",(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Cn,hasStandardBrowserEnv:()=>Pn,hasStandardBrowserWebWorkerEnv:()=>Nn,origin:()=>Dn});var t={};n.r(t),n.d(t,{FirebaseError:()=>Zo,SDK_VERSION:()=>Ps,_DEFAULT_ENTRY_NAME:()=>ms,_addComponent:()=>ws,_addOrOverwriteComponent:()=>xs,_apps:()=>ys,_clearComponents:()=>Ts,_components:()=>bs,_getProvider:()=>_s,_isFirebaseApp:()=>ks,_isFirebaseServerApp:()=>Os,_registerComponent:()=>Ss,_removeServiceInstance:()=>Es,_serverApps:()=>vs,deleteApp:()=>Ms,getApp:()=>Ds,getApps:()=>Rs,initializeApp:()=>js,initializeServerApp:()=>Ns,onLog:()=>Fs,registerVersion:()=>Ls,setLogLevel:()=>Us});var r={};n.r(r),n.d(r,{scaleBand:()=>wN,scaleDiverging:()=>YF,scaleDivergingLog:()=>JF,scaleDivergingPow:()=>eU,scaleDivergingSqrt:()=>tU,scaleDivergingSymlog:()=>ZF,scaleIdentity:()=>WR,scaleImplicit:()=>vN,scaleLinear:()=>$R,scaleLog:()=>eM,scaleOrdinal:()=>bN,scalePoint:()=>SN,scalePow:()=>cM,scaleQuantile:()=>xM,scaleQuantize:()=>SM,scaleRadial:()=>dM,scaleSequential:()=>$F,scaleSequentialLog:()=>WF,scaleSequentialPow:()=>GF,scaleSequentialQuantile:()=>QF,scaleSequentialSqrt:()=>HF,scaleSequentialSymlog:()=>KF,scaleSqrt:()=>lM,scaleSymlog:()=>iM,scaleThreshold:()=>_M,scaleTime:()=>BF,scaleUtc:()=>VF,tickFormat:()=>zR});var i=n(5043),o=n.t(i,2),a=n(4391),s=n(7237),u=i,c=Symbol.for("react-redux-context"),l="undefined"!==typeof globalThis?globalThis:{};function h(){if(!u.createContext)return{};const e=l[c]??(l[c]=new Map);let t=e.get(u.createContext);return t||(t=u.createContext(null),e.set(u.createContext,t)),t}var d=h(),f=()=>{throw new Error("uSES not initialized!")};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return function(){return u.useContext(e)}}var m=p(),g=f,y=(e,t)=>e===t;function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?m:p(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=y,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:a,getServerState:s,stabilityCheck:c,identityFunctionCheck:l}=t(),h=(u.useRef(!0),u.useCallback({[e.name]:t=>e(t)}[e.name],[e,c,i.stabilityCheck])),d=g(a.addNestedSub,o.getState,s||o.getState,h,r);return u.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var b=v();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function w(e){e()}var x={notify(){},get:()=>[]};function S(e,t){let n,r=x,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){w((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=x)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>r};return c}var _=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),E="undefined"!==typeof navigator&&"ReactNative"===navigator.product,k=_||E?u.useLayoutEffect:u.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var O=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:a="once"}=e;const s=u.useMemo((()=>{const e=S(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:a}}),[t,i,o,a]),c=u.useMemo((()=>t.getState()),[t]);k((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,c]);const l=n||d;return u.createElement(l.Provider,{value:s},r)};function T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?m:p(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var I=T();function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?I:T(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var C,P=A();function j(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}C=s.useSyncExternalStoreWithSelector,g=C,(e=>{e})(i.useSyncExternalStore);var N=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),D=()=>Math.random().toString(36).substring(7).split("").join("."),R={INIT:`@@redux/INIT${D()}`,REPLACE:`@@redux/REPLACE${D()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${D()}`};function M(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function L(e,t,n){if("function"!==typeof e)throw new Error(j(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(j(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(j(1));return n(L)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,u=!1;function c(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function l(){if(u)throw new Error(j(3));return i}function h(e){if("function"!==typeof e)throw new Error(j(4));if(u)throw new Error(j(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(u)throw new Error(j(6));t=!1,c(),a.delete(n),o=null}}}function d(e){if(!M(e))throw new Error(j(7));if("undefined"===typeof e.type)throw new Error(j(8));if("string"!==typeof e.type)throw new Error(j(17));if(u)throw new Error(j(9));try{u=!0,i=r(i,e)}finally{u=!1}return(o=a).forEach((e=>{e()})),e}d({type:R.INIT});return{dispatch:d,subscribe:h,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(j(10));r=e,d({type:R.REPLACE})},[N]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(j(11));function n(){const e=t;e.next&&e.next(l())}n();return{unsubscribe:e(n)}},[N](){return this}}}}}function F(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:R.INIT}))throw new Error(j(12));if("undefined"===typeof n(void 0,{type:R.PROBE_UNKNOWN_ACTION()}))throw new Error(j(13))}))}(n)}catch(o){i=o}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const a={};for(let i=0;i<r.length;i++){const s=r[i],u=n[s],c=e[s],l=u(c,t);if("undefined"===typeof l){t&&t.type;throw new Error(j(14))}a[s]=l,o=o||l!==c}return o=o||r.length!==Object.keys(e).length,o?a:e}}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function B(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var V=B(),z=B,q=Symbol.for("immer-nothing"),$=Symbol.for("immer-draftable"),W=Symbol.for("immer-state");function K(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var G=Object.getPrototypeOf;function H(e){return!!e&&!!e[W]}function Q(e){return!!e&&(Y(e)||Array.isArray(e)||!!e[$]||!!e.constructor?.[$]||ne(e)||re(e))}var X=Object.prototype.constructor.toString();function Y(e){if(!e||"object"!==typeof e)return!1;const t=G(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===X}function J(e,t){0===Z(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Z(e){const t=e[W];return t?t.type_:Array.isArray(e)?1:ne(e)?2:re(e)?3:0}function ee(e,t){return 2===Z(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function te(e,t,n){const r=Z(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ne(e){return e instanceof Map}function re(e){return e instanceof Set}function ie(e){return e.copy_||e.base_}function oe(e,t){if(ne(e))return new Map(e);if(re(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Y(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[W];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(G(e),t)}{const t=G(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function ae(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ue(e)||H(e)||!Q(e)||(Z(e)>1&&(e.set=e.add=e.clear=e.delete=se),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return ae(n,!0)}))),e}function se(){K(2)}function ue(e){return Object.isFrozen(e)}var ce,le={};function he(e){const t=le[e];return t||K(0),t}function de(){return ce}function fe(e,t){t&&(he("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pe(e){me(e),e.drafts_.forEach(ye),e.drafts_=null}function me(e){e===ce&&(ce=e.parent_)}function ge(e){return ce={drafts_:[],parent_:ce,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ye(e){const t=e[W];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ve(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[W].modified_&&(pe(t),K(4)),Q(e)&&(e=be(t,e),t.parent_||xe(t,e)),t.patches_&&he("Patches").generateReplacementPatches_(n[W].base_,e,t.patches_,t.inversePatches_)):e=be(t,n,[]),pe(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==q?e:void 0}function be(e,t,n){if(ue(t))return t;const r=t[W];if(!r)return J(t,((i,o)=>we(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return xe(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),J(i,((i,a)=>we(e,r,t,i,a,n,o))),xe(e,t,!1),n&&e.patches_&&he("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function we(e,t,n,r,i,o,a){if(H(i)){const a=be(e,i,o&&t&&3!==t.type_&&!ee(t.assigned_,r)?o.concat(r):void 0);if(te(n,r,a),!H(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Q(i)&&!ue(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;be(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||xe(e,i)}}function xe(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ae(t,n)}var Se={get(e,t){if(t===W)return e;const n=ie(e);if(!ee(n,t))return function(e,t,n){const r=ke(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Q(r)?r:r===Ee(e.base_,t)?(Te(e),e.copy_[t]=Ie(r,e)):r},has:(e,t)=>t in ie(e),ownKeys:e=>Reflect.ownKeys(ie(e)),set(e,t,n){const r=ke(ie(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Ee(ie(e),t),i=r?.[W];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||ee(e.base_,t)))return!0;Te(e),Oe(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Ee(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Te(e),Oe(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ie(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){K(11)},getPrototypeOf:e=>G(e.base_),setPrototypeOf(){K(12)}},_e={};function Ee(e,t){const n=e[W];return(n?ie(n):e)[t]}function ke(e,t){if(!(t in e))return;let n=G(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=G(n)}}function Oe(e){e.modified_||(e.modified_=!0,e.parent_&&Oe(e.parent_))}function Te(e){e.copy_||(e.copy_=oe(e.base_,e.scope_.immer_.useStrictShallowCopy_))}J(Se,((e,t)=>{_e[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),_e.deleteProperty=function(e,t){return _e.set.call(this,e,t,void 0)},_e.set=function(e,t,n){return Se.set.call(this,e[0],t,n,e[0])};function Ie(e,t){const n=ne(e)?he("MapSet").proxyMap_(e,t):re(e)?he("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:de(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Se;n&&(i=[r],o=_e);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:de()).drafts_.push(n),n}function Ae(e){if(!Q(e)||ue(e))return e;const t=e[W];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=oe(e,t.scope_.immer_.useStrictShallowCopy_)}else n=oe(e,!0);return J(n,((e,t)=>{te(n,e,Ae(t))})),t&&(t.finalized_=!1),n}var Ce=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&K(6),void 0!==n&&"function"!==typeof n&&K(7),Q(e)){const i=ge(this),o=Ie(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?pe(i):me(i)}return fe(i,n),ve(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===q&&(r=void 0),this.autoFreeze_&&ae(r,!0),n){const t=[],i=[];he("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}K(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Q(e)||K(8),H(e)&&(e=function(e){H(e)||K(10);return Ae(e)}(e));const t=ge(this),n=Ie(e,void 0);return n[W].isManual_=!0,me(t),n}finishDraft(e,t){const n=e&&e[W];n&&n.isManual_||K(9);const{scope_:r}=n;return fe(r,t),ve(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=he("Patches").applyPatches_;return H(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Pe=Ce.produce;Ce.produceWithPatches.bind(Ce),Ce.setAutoFreeze.bind(Ce),Ce.setUseStrictShallowCopy.bind(Ce),Ce.applyPatches.bind(Ce),Ce.createDraft.bind(Ce),Ce.finishDraft.bind(Ce);var je="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?U:U.apply(null,arguments)},Ne=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function De(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(ot(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return M(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Re=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Me(e){return Q(e)?Pe(e,(()=>{})):e}function Le(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(ot(10));const r=n.insert(t,e);return e.set(t,r),r}var Fe="RTK_autoBatch",Ue=e=>t=>{setTimeout(t,e)},Be="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ue(10),Ve=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new Re(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const a=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?Be:"callback"===e.type?e.queueNotification:Ue(e.timeout),u=()=>{o=!1,i&&(i=!1,a.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{return r=!e?.meta?.[Fe],i=!r,i&&(o||(o=!0,s(u))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function ze(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(ot(28));if(r in t)throw new Error(ot(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var qe=(e,t)=>Ne(e)?e.match(t):e(t);function $e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>qe(t,e)))}var We=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Ke=["name","message","stack","code"],Ge=class{constructor(e,t){this.payload=e,this.meta=t}_type},He=class{constructor(e,t){this.payload=e,this.meta=t}_type},Qe=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of Ke)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},Xe=(()=>{function e(e,t,n){const r=De(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),i=De(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),o=De(e+"/rejected",((e,t,r,i,o)=>({payload:i,error:(n&&n.serializeError||Qe)(e||"Rejected"),meta:{...o||{},arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e){return(a,s,u)=>{const c=n?.idGenerator?n.idGenerator(e):We(),l=new AbortController;let h,d;function f(e){d=e,l.abort()}const p=async function(){let p;try{let o=n?.condition?.(e,{getState:s,extra:u});if(function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(o)&&(o=await o),!1===o||l.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const m=new Promise(((e,t)=>{h=()=>{t({name:"AbortError",message:d||"Aborted"})},l.signal.addEventListener("abort",h)}));a(i(c,e,n?.getPendingMeta?.({requestId:c,arg:e},{getState:s,extra:u}))),p=await Promise.race([m,Promise.resolve(t(e,{dispatch:a,getState:s,extra:u,requestId:c,signal:l.signal,abort:f,rejectWithValue:(e,t)=>new Ge(e,t),fulfillWithValue:(e,t)=>new He(e,t)})).then((t=>{if(t instanceof Ge)throw t;return t instanceof He?r(t.payload,c,e,t.meta):r(t,c,e)}))])}catch(m){p=m instanceof Ge?o(null,c,e,m.payload,m.meta):o(m,c,e)}finally{h&&l.signal.removeEventListener("abort",h)}return n&&!n.dispatchConditionRejection&&o.match(p)&&p.meta.condition||a(p),p}();return Object.assign(p,{abort:f,requestId:c,arg:e,unwrap:()=>p.then(Ye)})}}),{pending:i,rejected:o,fulfilled:r,settled:$e(o,r),typePrefix:e})}return e.withTypes=()=>e,e})();function Ye(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Je=Symbol.for("rtk-slice-createasyncthunk");function Ze(e,t){return`${e}/${t}`}function et(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Je];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(ot(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(ot(12));if(n in a.sliceCaseReducersByType)throw new Error(ot(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(a.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,s)};function u(){const[t={},n=[],r]="function"===typeof e.extraReducers?ze(e.extraReducers):[e.extraReducers],i={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=ze(t);if(function(e){return"function"===typeof e}(e))n=()=>Me(e());else{const t=Me(e);n=()=>t}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,a=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===a.filter((e=>!!e)).length&&(a=[o]),a.reduce(((e,n)=>{if(n){if(H(e)){const r=n(e,t);return void 0===r?e:r}if(Q(e))return Pe(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(ot(9))}return r}}return e}),e)}return a.getInitialState=n,a}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=i[r],a={reducerName:r,type:Ze(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,i,{type:o,reducerName:a,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(ot(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(a,r).exposeAction(a,i?De(o,i):De(o))}(a,o,s):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(ot(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:l,options:h}=t,d=r(i,a,h);n.exposeAction(o,d),s&&n.addCase(d.fulfilled,s);u&&n.addCase(d.pending,u);c&&n.addCase(d.rejected,c);l&&n.addMatcher(d.settled,l);n.exposeCaseReducer(o,{fulfilled:s||rt,pending:u||rt,rejected:c||rt,settled:l||rt})}(a,o,s,t)}));const c=e=>e,l=new Map;let h;function d(e,t){return h||(h=u()),h(e,t)}function f(){return h||(h=u()),h.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=f()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Le(l,n,{insert:()=>new WeakMap});return Le(r,t,{insert:()=>{const r={};for(const[i,o]of Object.entries(e.selectors??{}))r[i]=tt(o,t,f,n);return r}})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:n,reducer:d,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:f,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t??r;return e.inject({reducerPath:i,reducer:d},n),{...m,...p(i,!0)}}};return m}}function tt(e,t,n,r){function i(i){let o=t(i);"undefined"===typeof o&&r&&(o=n());for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return e(o,...s)}return i.unwrapped=e,i}var nt=et();function rt(){}var{assign:it}=Object;Symbol.for("rtk-state-proxy-original");function ot(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const at=nt({name:"product",initialState:{packages:[],currentPackage:null},reducers:{addPackage(e,t){e.packages.push(t.payload)},setCurrentPackage(e,t){e.currentPackage=t.payload},clearCurrentPackage(e){e.currentPackage=null}}}),{addPackage:st,setCurrentPackage:ut,clearCurrentPackage:ct}=at.actions,lt=at.reducer,ht=nt({name:"user",initialState:{user:[]},reducers:{addUser(e,t){e.user=t.payload},deleteUser(e){e.user=[]}}}),{addUser:dt,deleteUser:ft}=ht.actions,pt=ht.reducer,mt=nt({name:"truthValue",initialState:{truthValue:!1},reducers:{switchTruthValue(e){e.truthValue=!e.truthValue}}}),{switchTruthValue:gt}=mt.actions,yt=mt.reducer,vt=nt({name:"storeAdmin",initialState:{value:{}},reducers:{setStoreAdmin(e,t){e.value=t.payload}}}),{setStoreAdmin:bt}=vt.actions,wt=vt.reducer,xt=nt({name:"darkMode",initialState:{mode:!1},reducers:{switchMode(e,t){e.mode=void 0!==t.payload?t.payload:!e.mode}}}),{switchMode:St}=xt.actions,_t=xt.reducer;function Et(e,t){return function(){return e.apply(t,arguments)}}const{toString:kt}=Object.prototype,{getPrototypeOf:Ot}=Object,Tt=(It=Object.create(null),e=>{const t=kt.call(e);return It[t]||(It[t]=t.slice(8,-1).toLowerCase())});var It;const At=e=>(e=e.toLowerCase(),t=>Tt(t)===e),Ct=e=>t=>typeof t===e,{isArray:Pt}=Array,jt=Ct("undefined");const Nt=At("ArrayBuffer");const Dt=Ct("string"),Rt=Ct("function"),Mt=Ct("number"),Lt=e=>null!==e&&"object"===typeof e,Ft=e=>{if("object"!==Tt(e))return!1;const t=Ot(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ut=At("Date"),Bt=At("File"),Vt=At("Blob"),zt=At("FileList"),qt=At("URLSearchParams"),[$t,Wt,Kt,Gt]=["ReadableStream","Request","Response","Headers"].map(At);function Ht(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Pt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function Qt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Xt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Yt=e=>!jt(e)&&e!==Xt;const Jt=(Zt="undefined"!==typeof Uint8Array&&Ot(Uint8Array),e=>Zt&&e instanceof Zt);var Zt;const en=At("HTMLFormElement"),tn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),nn=At("RegExp"),rn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ht(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},on="abcdefghijklmnopqrstuvwxyz",an="0123456789",sn={DIGIT:an,ALPHA:on,ALPHA_DIGIT:on+on.toUpperCase()+an};const un=At("AsyncFunction"),cn=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Xt.addEventListener("message",(e=>{let{source:t,data:i}=e;t===Xt&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Xt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Rt(Xt.postMessage)),ln="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Xt):"undefined"!==typeof process&&process.nextTick||cn,hn={isArray:Pt,isArrayBuffer:Nt,isBuffer:function(e){return null!==e&&!jt(e)&&null!==e.constructor&&!jt(e.constructor)&&Rt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Rt(e.append)&&("formdata"===(t=Tt(e))||"object"===t&&Rt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Nt(e.buffer),t},isString:Dt,isNumber:Mt,isBoolean:e=>!0===e||!1===e,isObject:Lt,isPlainObject:Ft,isReadableStream:$t,isRequest:Wt,isResponse:Kt,isHeaders:Gt,isUndefined:jt,isDate:Ut,isFile:Bt,isBlob:Vt,isRegExp:nn,isFunction:Rt,isStream:e=>Lt(e)&&Rt(e.pipe),isURLSearchParams:qt,isTypedArray:Jt,isFileList:zt,forEach:Ht,merge:function e(){const{caseless:t}=Yt(this)&&this||{},n={},r=(r,i)=>{const o=t&&Qt(n,i)||i;Ft(n[o])&&Ft(r)?n[o]=e(n[o],r):Ft(r)?n[o]=e({},r):Pt(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Ht(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ht(t,((t,r)=>{n&&Rt(t)?e[r]=Et(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Ot(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Tt,kindOfTest:At,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Pt(e))return e;let t=e.length;if(!Mt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:en,hasOwnProperty:tn,hasOwnProp:tn,reduceDescriptors:rn,freezeMethods:e=>{rn(e,((t,n)=>{if(Rt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Rt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Pt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Qt,global:Xt,isContextDefined:Yt,ALPHABET:sn,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Rt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Lt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Pt(e)?[]:{};return Ht(e,((e,t)=>{const o=n(e,r+1);!jt(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:un,isThenable:e=>e&&(Lt(e)||Rt(e))&&Rt(e.then)&&Rt(e.catch),setImmediate:cn,asap:ln};function dn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}hn.inherits(dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:hn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const fn=dn.prototype,pn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{pn[e]={value:e}})),Object.defineProperties(dn,pn),Object.defineProperty(fn,"isAxiosError",{value:!0}),dn.from=(e,t,n,r,i,o)=>{const a=Object.create(fn);return hn.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),dn.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const mn=dn;function gn(e){return hn.isPlainObject(e)||hn.isArray(e)}function yn(e){return hn.endsWith(e,"[]")?e.slice(0,-2):e}function vn(e,t,n){return e?e.concat(t).map((function(e,t){return e=yn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const bn=hn.toFlatObject(hn,{},null,(function(e){return/^is[A-Z]/.test(e)}));const wn=function(e,t,n){if(!hn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=hn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!hn.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&hn.isSpecCompliantForm(t);if(!hn.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(hn.isDate(e))return e.toISOString();if(!s&&hn.isBlob(e))throw new mn("Blob is not supported. Use a Buffer instead.");return hn.isArrayBuffer(e)||hn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(hn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(hn.isArray(e)&&function(e){return hn.isArray(e)&&!e.some(gn)}(e)||(hn.isFileList(e)||hn.endsWith(n,"[]"))&&(s=hn.toArray(e)))return n=yn(n),s.forEach((function(e,r){!hn.isUndefined(e)&&null!==e&&t.append(!0===a?vn([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!gn(e)||(t.append(vn(i,n,o),u(e)),!1)}const l=[],h=Object.assign(bn,{defaultVisitor:c,convertValue:u,isVisitable:gn});if(!hn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!hn.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),hn.forEach(n,(function(n,o){!0===(!(hn.isUndefined(n)||null===n)&&i.call(t,n,hn.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t};function xn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Sn(e,t){this._pairs=[],e&&wn(e,this,t)}const _n=Sn.prototype;_n.append=function(e,t){this._pairs.push([e,t])},_n.toString=function(e){const t=e?function(t){return e.call(this,t,xn)}:xn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const En=Sn;function kn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function On(e,t,n){if(!t)return e;const r=n&&n.encode||kn,i=n&&n.serialize;let o;if(o=i?i(t,n):hn.isURLSearchParams(t)?t.toString():new En(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Tn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){hn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},In={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},An={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:En,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Cn="undefined"!==typeof window&&"undefined"!==typeof document,Pn=(jn="undefined"!==typeof navigator&&navigator.product,Cn&&["ReactNative","NativeScript","NS"].indexOf(jn)<0);var jn;const Nn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Dn=Cn&&window.location.href||"http://localhost",Rn={...e,...An};const Mn=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&hn.isArray(r)?r.length:o,s)return hn.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&hn.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&hn.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(hn.isFormData(e)&&hn.isFunction(e.entries)){const n={};return hn.forEachEntry(e,((e,r)=>{t(function(e){return hn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Ln={transitional:In,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=hn.isObject(e);i&&hn.isHTMLForm(e)&&(e=new FormData(e));if(hn.isFormData(e))return r?JSON.stringify(Mn(e)):e;if(hn.isArrayBuffer(e)||hn.isBuffer(e)||hn.isStream(e)||hn.isFile(e)||hn.isBlob(e)||hn.isReadableStream(e))return e;if(hn.isArrayBufferView(e))return e.buffer;if(hn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return wn(e,new Rn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Rn.isNode&&hn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=hn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return wn(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(hn.isString(e))try{return(t||JSON.parse)(e),hn.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ln.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(hn.isResponse(e)||hn.isReadableStream(e))return e;if(e&&hn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw mn.from(i,mn.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rn.classes.FormData,Blob:Rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};hn.forEach(["delete","get","head","post","put","patch"],(e=>{Ln.headers[e]={}}));const Fn=Ln,Un=hn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bn=Symbol("internals");function Vn(e){return e&&String(e).trim().toLowerCase()}function zn(e){return!1===e||null==e?e:hn.isArray(e)?e.map(zn):String(e)}function qn(e,t,n,r,i){return hn.isFunction(r)?r.call(this,t,n):(i&&(t=n),hn.isString(t)?hn.isString(r)?-1!==t.indexOf(r):hn.isRegExp(r)?r.test(t):void 0:void 0)}class $n{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Vn(t);if(!i)throw new Error("header name must be a non-empty string");const o=hn.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=zn(e))}const o=(e,t)=>hn.forEach(e,((e,n)=>i(e,n,t)));if(hn.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(hn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Un[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(hn.isHeaders(e))for(const[a,s]of e.entries())i(s,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=Vn(e)){const n=hn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(hn.isFunction(t))return t.call(this,e,n);if(hn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vn(e)){const n=hn.findKey(this,e);return!(!n||void 0===this[n]||t&&!qn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Vn(e)){const i=hn.findKey(n,e);!i||t&&!qn(0,n[i],i,t)||(delete n[i],r=!0)}}return hn.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!qn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return hn.forEach(this,((r,i)=>{const o=hn.findKey(n,i);if(o)return t[o]=zn(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=zn(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return hn.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&hn.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Bn]=this[Bn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Vn(e);t[r]||(!function(e,t){const n=hn.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return hn.isArray(e)?e.forEach(r):r(e),this}}$n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),hn.reduceDescriptors($n.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),hn.freezeMethods($n);const Wn=$n;function Kn(e,t){const n=this||Fn,r=t||n,i=Wn.from(r.headers);let o=r.data;return hn.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Gn(e){return!(!e||!e.__CANCEL__)}function Hn(e,t,n){mn.call(this,null==e?"canceled":e,mn.ERR_CANCELED,t,n),this.name="CanceledError"}hn.inherits(Hn,mn,{__CANCEL__:!0});const Qn=Hn;function Xn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new mn("Request failed with status code "+n.status,[mn.ERR_BAD_REQUEST,mn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Yn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const u=Date.now(),c=r[a];i||(i=u),n[o]=s,r[o]=u;let l=a,h=0;for(;l!==o;)h+=n[l++],l%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),u-i<t)return;const d=c&&u-c;return d?Math.round(1e3*h/d):void 0}};const Jn=function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];t>=o?a(u,e):(n=u,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]},Zn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Yn(50,250);return Jn((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,u=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},er=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},tr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hn.asap((()=>e(...n)))},nr=Rn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=hn.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},rr=Rn.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];hn.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),hn.isString(r)&&a.push("path="+r),hn.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ir(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const or=e=>e instanceof Wn?{...e}:e;function ar(e,t){t=t||{};const n={};function r(e,t,n){return hn.isPlainObject(e)&&hn.isPlainObject(t)?hn.merge.call({caseless:n},e,t):hn.isPlainObject(t)?hn.merge({},t):hn.isArray(t)?t.slice():t}function i(e,t,n){return hn.isUndefined(t)?hn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!hn.isUndefined(t))return r(void 0,t)}function a(e,t){return hn.isUndefined(t)?hn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(or(e),or(t),!0)};return hn.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=u[r]||i,a=o(e[r],t[r],r);hn.isUndefined(a)&&o!==s||(n[r]=a)})),n}const sr=e=>{const t=ar({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:u}=t;if(t.headers=s=Wn.from(s),t.url=On(ir(t.baseURL,t.url),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),hn.isFormData(r))if(Rn.hasStandardBrowserEnv||Rn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Rn.hasStandardBrowserEnv&&(i&&hn.isFunction(i)&&(i=i(t)),i||!1!==i&&nr(t.url))){const e=o&&a&&rr.read(a);e&&s.set(o,e)}return t},ur="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=sr(e);let i=r.data;const o=Wn.from(r.headers).normalize();let a,s,u,c,l,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){c&&c(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Wn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Xn((function(e){t(e),p()}),(function(e){n(e),p()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new mn("Request aborted",mn.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new mn("Network Error",mn.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||In;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new mn(t,i.clarifyTimeoutError?mn.ETIMEDOUT:mn.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&hn.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),hn.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),f&&([u,l]=Zn(f,!0),m.addEventListener("progress",u)),d&&m.upload&&([s,c]=Zn(d),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Qn(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Rn.protocols.indexOf(y)?n(new mn("Unsupported protocol "+y+":",mn.ERR_BAD_REQUEST,e)):m.send(i||null)}))},cr=(e,t)=>{let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof mn?t:new Qn(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new mn(`timeout ${t} of ms exceeded`,mn.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=a,[s,()=>{o&&clearTimeout(o),o=null}]},lr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},hr=(e,t,n,r,i)=>{const o=async function*(e,t,n){for await(const r of e)yield*lr(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,i);let a,s=0,u=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return u(),void e.close();let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw u(t),t}},cancel:e=>(u(e),o.return())},{highWaterMark:2})},dr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,fr=dr&&"function"===typeof ReadableStream,pr=dr&&("function"===typeof TextEncoder?(mr=new TextEncoder,e=>mr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var mr;const gr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(i){return!1}},yr=fr&&gr((()=>{let e=!1;const t=new Request(Rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),vr=fr&&gr((()=>hn.isReadableStream(new Response("").body))),br={stream:vr&&(e=>e.body)};var wr;dr&&(wr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!br[e]&&(br[e]=hn.isFunction(wr[e])?t=>t[e]():(t,n)=>{throw new mn(`Response type '${e}' is not supported`,mn.ERR_NOT_SUPPORT,n)})})));const xr=async(e,t)=>{const n=hn.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:hn.isBlob(e)?e.size:hn.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:hn.isArrayBufferView(e)||hn.isArrayBuffer(e)?e.byteLength:(hn.isURLSearchParams(e)&&(e+=""),hn.isString(e)?(await pr(e)).byteLength:void 0))(t):n},Sr=dr&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:l,withCredentials:h="same-origin",fetchOptions:d}=sr(e);c=c?(c+"").toLowerCase():"text";let f,p,[m,g]=i||o||a?cr([i,o],a):[];const y=()=>{!f&&setTimeout((()=>{m&&m.unsubscribe()})),f=!0};let v;try{if(u&&yr&&"get"!==n&&"head"!==n&&0!==(v=await xr(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(hn.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=er(v,Zn(tr(u)));r=hr(n.body,65536,e,t,pr)}}hn.isString(h)||(h=h?"include":"omit"),p=new Request(t,{...d,signal:m,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:h});let i=await fetch(p);const o=vr&&("stream"===c||"response"===c);if(vr&&(s||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=hn.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&er(t,Zn(tr(s),!0))||[];i=new Response(hr(i.body,65536,n,(()=>{r&&r(),o&&y()}),pr),e)}c=c||"text";let a=await br[hn.findKey(br,c)||"text"](i,e);return!o&&y(),g&&g(),await new Promise(((t,n)=>{Xn(t,n,{data:a,headers:Wn.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(b){if(y(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new mn("Network Error",mn.ERR_NETWORK,e,p),{cause:b.cause||b});throw mn.from(b,b&&b.code,e,p)}}),_r={http:null,xhr:ur,fetch:Sr};hn.forEach(_r,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Er=e=>`- ${e}`,kr=e=>hn.isFunction(e)||null===e||!1===e,Or=e=>{e=hn.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!kr(n)&&(r=_r[(t=String(n)).toLowerCase()],void 0===r))throw new mn(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Er).join("\n"):" "+Er(e[0]):"as no adapter specified";throw new mn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Tr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qn(null,e)}function Ir(e){Tr(e),e.headers=Wn.from(e.headers),e.data=Kn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Or(e.adapter||Fn.adapter)(e).then((function(t){return Tr(e),t.data=Kn.call(e,e.transformResponse,t),t.headers=Wn.from(t.headers),t}),(function(t){return Gn(t)||(Tr(e),t&&t.response&&(t.response.data=Kn.call(e,e.transformResponse,t.response),t.response.headers=Wn.from(t.response.headers))),Promise.reject(t)}))}const Ar="1.7.4",Cr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Cr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Pr={};Cr.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new mn(r(i," has been removed"+(t?" in "+t:"")),mn.ERR_DEPRECATED);return t&&!Pr[i]&&(Pr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const jr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new mn("options must be an object",mn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new mn("option "+o+" must be "+n,mn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new mn("Unknown option "+o,mn.ERR_BAD_OPTION)}},validators:Cr},Nr=jr.validators;class Dr{constructor(e){this.defaults=e,this.interceptors={request:new Tn,response:new Tn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ar(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&jr.assertOptions(n,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),null!=r&&(hn.isFunction(r)?t.paramsSerializer={serialize:r}:jr.assertOptions(r,{encode:Nr.function,serialize:Nr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&hn.merge(i.common,i[t.method]);i&&hn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Wn.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let l,h=0;if(!s){const e=[Ir.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,u),l=e.length,c=Promise.resolve(t);h<l;)c=c.then(e[h++],e[h++]);return c}l=a.length;let d=t;for(h=0;h<l;){const e=a[h++],t=a[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=Ir.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,l=u.length;h<l;)c=c.then(u[h++],u[h++]);return c}getUri(e){return On(ir((e=ar(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}hn.forEach(["delete","get","head","options"],(function(e){Dr.prototype[e]=function(t,n){return this.request(ar(n||{},{method:e,url:t,data:(n||{}).data}))}})),hn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ar(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Dr.prototype[e]=t(),Dr.prototype[e+"Form"]=t(!0)}));const Rr=Dr;class Mr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Qn(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Mr((function(t){e=t}));return{token:t,cancel:e}}}const Lr=Mr;const Fr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fr).forEach((e=>{let[t,n]=e;Fr[n]=t}));const Ur=Fr;const Br=function e(t){const n=new Rr(t),r=Et(Rr.prototype.request,n);return hn.extend(r,Rr.prototype,n,{allOwnKeys:!0}),hn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ar(t,n))},r}(Fn);Br.Axios=Rr,Br.CanceledError=Qn,Br.CancelToken=Lr,Br.isCancel=Gn,Br.VERSION=Ar,Br.toFormData=wn,Br.AxiosError=mn,Br.Cancel=Br.CanceledError,Br.all=function(e){return Promise.all(e)},Br.spread=function(e){return function(t){return e.apply(null,t)}},Br.isAxiosError=function(e){return hn.isObject(e)&&!0===e.isAxiosError},Br.mergeConfig=ar,Br.AxiosHeaders=Wn,Br.formToJSON=e=>Mn(hn.isHTMLForm(e)?new FormData(e):e),Br.getAdapter=Or,Br.HttpStatusCode=Ur,Br.default=Br;const Vr=Br,zr=Xe("auth/createUser",(async(e,t)=>{try{return(await Vr.post("/api/users",e)).data}catch(n){return t.rejectWithValue(n.response.data)}})),qr=nt({name:"auth",initialState:{user:null,status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(zr.pending,(e=>{e.status="loading"})).addCase(zr.fulfilled,((e,t)=>{e.status="succeeded",e.user=t.payload})).addCase(zr.rejected,((e,t)=>{e.status="failed",e.error=t.payload}))}}).reducer,$r=Xe("admin/fetchSupplyRequests",(async()=>(await Vr.get("/api/supply-requests")).data)),Wr=Xe("admin/fetchProducts",(async()=>(await Vr.get("/api/products")).data)),Kr=Xe("admin/fetchClerks",(async()=>(await Vr.get("/api/clerks")).data)),Gr=Xe("admin/updateClerk",(async e=>{let{id:t,status:n}=e;return(await Vr.patch(`/api/clerks/${t}`,{status:n})).data})),Hr=Xe("admin/fetchReports",(async()=>(await Vr.get("/api/reports")).data)),Qr=nt({name:"admin",initialState:{supplyRequests:[],products:[],clerks:[],reports:{}},reducers:{setSupplyRequests:(e,t)=>{e.supplyRequests=t.payload},approveSupplyRequest:(e,t)=>{const n=e.supplyRequests.findIndex((e=>e.id===t.payload));-1!==n&&(e.supplyRequests[n].status="approved")},declineSupplyRequest:(e,t)=>{const n=e.supplyRequests.findIndex((e=>e.id===t.payload));-1!==n&&(e.supplyRequests[n].status="declined")},setProducts:(e,t)=>{e.products=t.payload},markProductAsPaid:(e,t)=>{const n=e.products.findIndex((e=>e.id===t.payload));-1!==n&&(e.products[n].payment_status="paid")},setClerks:(e,t)=>{e.clerks=t.payload},addClerk:(e,t)=>{e.clerks.push(t.payload)},removeClerk:(e,t)=>{e.clerks=e.clerks.filter((e=>e.id!==t.payload))},setReports:(e,t)=>{e.reports=t.payload}},extraReducers:e=>{e.addCase($r.fulfilled,((e,t)=>{e.supplyRequests=t.payload})),e.addCase(Wr.fulfilled,((e,t)=>{e.products=t.payload})),e.addCase(Kr.fulfilled,((e,t)=>{e.clerks=t.payload})),e.addCase(Hr.fulfilled,((e,t)=>{e.reports=t.payload})),e.addCase(Gr.fulfilled,((e,t)=>{const n=e.clerks.findIndex((e=>e.id===t.payload.id));-1!==n&&(e.clerks[n]=t.payload)}))}}),{setSupplyRequests:Xr,approveSupplyRequest:Yr,declineSupplyRequest:Jr,setProducts:Zr,markProductAsPaid:ei,setClerks:ti,addClerk:ni,removeClerk:ri,setReports:ii}=Qr.actions,oi=Qr.reducer,ai=nt({name:"showAddProduct",initialState:{mode:!1},reducers:{showAddProduct(e,t){e.mode=void 0!==t.payload?t.payload:!e.mode}}}),{showAddProduct:si}=ai.actions,ui=ai.reducer,ci=nt({name:"showAddStore",initialState:{mode:!1},reducers:{showAddStore(e,t){e.mode=void 0!==t.payload?t.payload:!e.mode}}}),{showAddStore:li}=ci.actions,hi=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let o=new Re;return t&&(function(e){return"boolean"===typeof e}(t)?o.push(V):o.push(z(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:a}=e||{};let s,u;if("function"===typeof n)s=n;else{if(!M(n))throw new Error(ot(1));s=F(n)}u="function"===typeof r?r(t):t();let c=U;i&&(c=je({trace:!1,..."object"===typeof i&&i}));const l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(j(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map((e=>e(a)));return o=U(...s)(i.dispatch),{...i,dispatch:o}}}(...u),h=Ve(l);return L(s,o,c(..."function"===typeof a?a(h):h()))}({reducer:{auth:qr,darkMode:_t,product:lt,user:pt,truthValue:yt,admin:oi,storeAdmin:wt,showAddProduct:ui,showAddStore:ci.reducer}});var di=n(579);const fi=e=>{let{onClose:t,onAddPackage:n}=e;const[r,o]=(0,i.useState)({name:"",brand_name:"",price:"",stock:""}),a=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))};return(0,di.jsx)("div",{className:"modal",children:(0,di.jsxs)("div",{className:"modal-content",children:[(0,di.jsx)("h2",{children:"Add Package"}),(0,di.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(r)},children:[(0,di.jsx)("input",{type:"text",name:"name",placeholder:"Product Name",value:r.name,onChange:a}),(0,di.jsx)("input",{type:"text",name:"brand_name",placeholder:"Product Brand Name",value:r.brand_name,onChange:a}),(0,di.jsx)("input",{type:"text",name:"price",placeholder:"Product Price",value:r.price,onChange:a}),(0,di.jsx)("input",{type:"text",name:"stock",placeholder:"Stock",value:r.stock,onChange:a}),(0,di.jsx)("button",{type:"submit",children:"Continue"})]}),(0,di.jsx)("button",{onClick:t,children:"Close"})]})})},pi=e=>{let{onClose:t,onConfirmPackage:n}=e;const r=b((e=>e.product.currentPackage));return(0,di.jsx)("div",{className:"modal",children:(0,di.jsxs)("div",{className:"modal-content",children:[(0,di.jsx)("h2",{children:"Confirmation & Submit"}),(0,di.jsxs)("p",{children:["Product Name: ",r.name]}),(0,di.jsxs)("p",{children:["Product Brand Name: ",r.brand_name]}),(0,di.jsxs)("p",{children:["Unit Pricing: ",r.price]}),(0,di.jsxs)("p",{children:["Stock: ",r.stock]}),(0,di.jsx)("button",{onClick:n,children:"Submit"}),(0,di.jsx)("button",{onClick:t,children:"Cancel"})]})})},mi=e=>{let{onClose:t,onAddSoldItem:n}=e;const[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[u,c]=(0,i.useState)("");return(0,di.jsx)("div",{className:"modal",children:(0,di.jsxs)("div",{className:"modal-content",children:[(0,di.jsx)("h2",{children:"Sold Item"}),(0,di.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({productName:r,quantity:a,date:u}),t()},children:[(0,di.jsxs)("div",{className:"form-group",children:[(0,di.jsx)("label",{htmlFor:"productName",children:"Product Name"}),(0,di.jsx)("input",{type:"text",id:"productName",value:r,onChange:e=>o(e.target.value),placeholder:"Enter Name",required:!0})]}),(0,di.jsxs)("div",{className:"form-group",children:[(0,di.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),(0,di.jsx)("input",{type:"number",id:"quantity",value:a,onChange:e=>s(e.target.value),placeholder:"Enter quantity",required:!0})]}),(0,di.jsxs)("div",{className:"form-group",children:[(0,di.jsx)("label",{htmlFor:"date",children:"Date"}),(0,di.jsx)("input",{type:"date",id:"date",value:u,onChange:e=>c(e.target.value),required:!0})]}),(0,di.jsx)("button",{type:"submit",className:"add-btn",children:"ADD"})]}),(0,di.jsx)("div",{style:{textAlign:"center"},children:(0,di.jsx)("button",{className:"close-btn",onClick:t,children:"Close"})})]})})};function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(this,arguments)}var yi;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(yi||(yi={}));const vi="popstate";function bi(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function wi(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function xi(e,t){return{usr:e.state,key:e.key,idx:t}}function Si(e,t,n,r){return void 0===n&&(n=null),gi({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ei(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function _i(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ei(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ki(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=yi.Pop,u=null,c=l();function l(){return(a.state||{idx:null}).idx}function h(){s=yi.Pop;let e=l(),t=null==e?null:e-c;c=e,u&&u({action:s,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:_i(e);return n=n.replace(/ $/,"%20"),bi(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(gi({},a.state,{idx:c}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(vi,h),u=e,()=>{i.removeEventListener(vi,h),u=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=yi.Push;let r=Si(f.location,e,t);n&&n(r,e),c=l()+1;let h=xi(r,c),d=f.createHref(r);try{a.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}o&&u&&u({action:s,location:f.location,delta:1})},replace:function(e,t){s=yi.Replace;let r=Si(f.location,e,t);n&&n(r,e),c=l();let i=xi(r,c),h=f.createHref(r);a.replaceState(i,"",h),o&&u&&u({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var Oi;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Oi||(Oi={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Ti(e,t,n){return void 0===n&&(n="/"),Ii(e,t,n,!1)}function Ii(e,t,n,r){let i=zi(("string"===typeof t?Ei(t):t).pathname||"/",n);if(null==i)return null;let o=Ai(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=Vi(i);a=Ui(o[s],e,r)}return a}function Ai(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(bi(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Gi([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(bi(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Ai(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Fi(s,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Ci(e.path))i(e,t,r);else i(e,t)})),t}function Ci(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=Ci(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const Pi=/^:[\w-]+$/,ji=3,Ni=2,Di=1,Ri=10,Mi=-2,Li=e=>"*"===e;function Fi(e,t){let n=e.split("/"),r=n.length;return n.some(Li)&&(r+=Mi),t&&(r+=Ni),n.filter((e=>!Li(e))).reduce(((e,t)=>e+(Pi.test(t)?ji:""===t?Di:Ri)),r)}function Ui(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],u=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",l=Bi({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},c),h=e.route;if(!l&&u&&n&&!r[r.length-1].route.index&&(l=Bi({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!l)return null;Object.assign(i,l.params),a.push({params:i,pathname:Gi([o,l.pathname]),pathnameBase:Hi(Gi([o,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(o=Gi([o,l.pathnameBase]))}return a}function Bi(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);wi("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),u=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{});return{params:u,pathname:o,pathnameBase:a,pattern:e}}function Vi(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return wi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function zi(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function qi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $i(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Wi(e,t){let n=$i(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Ki(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Ei(e):(i=gi({},e),bi(!i.pathname||!i.pathname.includes("?"),qi("?","pathname","search",i)),bi(!i.pathname||!i.pathname.includes("#"),qi("#","pathname","hash",i)),bi(!i.search||!i.search.includes("#"),qi("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Ei(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Qi(r),hash:Xi(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),l=(a||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!l||(u.pathname+="/"),u}const Gi=e=>e.join("/").replace(/\/\/+/g,"/"),Hi=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qi=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Xi=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Yi(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Ji=["post","put","patch","delete"],Zi=(new Set(Ji),["get",...Ji]);new Set(Zi),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(this,arguments)}const to=i.createContext(null);const no=i.createContext(null);const ro=i.createContext(null);const io=i.createContext(null);const oo=i.createContext({outlet:null,matches:[],isDataRoute:!1});const ao=i.createContext(null);function so(){return null!=i.useContext(io)}function uo(){return so()||bi(!1),i.useContext(io).location}function co(e){i.useContext(ro).static||i.useLayoutEffect(e)}function lo(){let{isDataRoute:e}=i.useContext(oo);return e?function(){let{router:e}=wo(vo.UseNavigateStable),t=So(bo.UseNavigateStable),n=i.useRef(!1);return co((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,eo({fromRouteId:t},i)))}),[e,t])}():function(){so()||bi(!1);let e=i.useContext(to),{basename:t,future:n,navigator:r}=i.useContext(ro),{matches:o}=i.useContext(oo),{pathname:a}=uo(),s=JSON.stringify(Wi(o,n.v7_relativeSplatPath)),u=i.useRef(!1);co((()=>{u.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!u.current)return;if("number"===typeof n)return void r.go(n);let o=Ki(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:Gi([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e]);return c}()}function ho(e,t,n,r){so()||bi(!1);let{navigator:o}=i.useContext(ro),{matches:a}=i.useContext(oo),s=a[a.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let l,h=uo();if(t){var d;let e="string"===typeof t?Ei(t):t;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||bi(!1),l=e}else l=h;let f=l.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Ti(e,{pathname:p});let g=yo(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Gi([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Gi([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return t&&g?i.createElement(io.Provider,{value:{location:eo({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:yi.Pop}},g):g}function fo(){let e=function(){var e;let t=i.useContext(ao),n=xo(bo.UseRouteError),r=So(bo.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Yi(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const po=i.createElement(fo,null);class mo extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(oo.Provider,{value:this.props.routeContext},i.createElement(ao.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function go(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(to);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(oo.Provider,{value:t},r)}function yo(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,u=null==(o=n)?void 0:o.errors;if(null!=u){let e=s.findIndex((e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id])));e>=0||bi(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,h=!1,d=null,f=null;var p;n&&(a=u&&r.route.id?u[r.route.id]:void 0,d=r.route.errorElement||po,c&&(l<0&&0===o?(p="route-fallback",!1||_o[p]||(_o[p]=!0),h=!0,f=null):l===o&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(go,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(mo,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var vo=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vo||{}),bo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bo||{});function wo(e){let t=i.useContext(to);return t||bi(!1),t}function xo(e){let t=i.useContext(no);return t||bi(!1),t}function So(e){let t=function(){let e=i.useContext(oo);return e||bi(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||bi(!1),n.route.id}const _o={};o.startTransition;function Eo(e){let{to:t,replace:n,state:r,relative:o}=e;so()||bi(!1);let{future:a,static:s}=i.useContext(ro),{matches:u}=i.useContext(oo),{pathname:c}=uo(),l=lo(),h=Ki(t,Wi(u,a.v7_relativeSplatPath),c,"path"===o),d=JSON.stringify(h);return i.useEffect((()=>l(JSON.parse(d),{replace:n,state:r,relative:o})),[l,d,o,n,r]),null}function ko(e){bi(!1)}function Oo(e){let{basename:t="/",children:n=null,location:r,navigationType:o=yi.Pop,navigator:a,static:s=!1,future:u}=e;so()&&bi(!1);let c=t.replace(/^\/*/,"/"),l=i.useMemo((()=>({basename:c,navigator:a,static:s,future:eo({v7_relativeSplatPath:!1},u)})),[c,u,a,s]);"string"===typeof r&&(r=Ei(r));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,g=i.useMemo((()=>{let e=zi(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:o}}),[c,h,d,f,p,m,o]);return null==g?null:i.createElement(ro.Provider,{value:l},i.createElement(io.Provider,{children:n,value:g}))}function To(e){let{children:t,location:n}=e;return ho(Io(t),n)}new Promise((()=>{}));i.Component;function Io(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Io(e.props.children,o));e.type!==ko&&bi(!1),e.props.index&&e.props.children&&bi(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Io(e.props.children,o)),n.push(a)})),n}const Ao=n.p+"static/media/[CITYPNG.COM]PNG Login Logout White Icon - 800x800.e016205581d493d4d7f2.png",Co="Sidebar_sidebar__zfhso",Po="Sidebar_sidebarDark__IIf7V",jo="Sidebar_profileSection__SXtCN",No="Sidebar_profileIcon__UKzJF",Do="Sidebar_profileName__6Xbl-",Ro=(n.p,function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),Mo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,c=t>>2,l=(3&t)<<4|a>>4;let h=(15&a)<<2|u>>6,d=63&u;s||(d=64,o||(h=64)),r.push(n[c],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ro(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Lo;const u=t<<2|o>>4;if(r.push(u),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Lo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fo=function(e){return function(e){const t=Ro(e);return Mo.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Uo=function(e){try{return Mo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Bo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Bo(e[n],t[n]));return e}function Vo(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const zo=()=>{try{return Vo().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/MyDuka-FrontEnd",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Uo(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},qo=()=>{var e;return null===(e=zo())||void 0===e?void 0:e.config};class $o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Wo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ko(){var e;const t=null===(e=zo())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Go(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function Ho(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Qo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Xo(){const e=Wo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Yo(){return!Ko()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jo(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Zo extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ea.prototype.create)}}class ea{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(ta,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new Zo(n,o,t)}}const ta=/\{\$([^}]+)}/g;function na(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ra(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ia(n)&&ia(o)){if(!ra(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ia(e){return null!==e&&"object"===typeof e}function oa(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function aa(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function sa(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ua(e,t){const n=new ca(e,t);return n.subscribe.bind(n)}class ca{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=la),void 0===r.error&&(r.error=la),void 0===r.complete&&(r.complete=la);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function la(){}function ha(e){return e&&e._delegate?e._delegate:e}class da{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class pa{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $o;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===fa?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa;return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ma{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pa(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ga=[];var ya;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ya||(ya={}));const va={debug:ya.DEBUG,verbose:ya.VERBOSE,info:ya.INFO,warn:ya.WARN,error:ya.ERROR,silent:ya.SILENT},ba=ya.INFO,wa={[ya.DEBUG]:"log",[ya.VERBOSE]:"log",[ya.INFO]:"info",[ya.WARN]:"warn",[ya.ERROR]:"error"},xa=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wa[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class Sa{constructor(e){this.name=e,this._logLevel=ba,this._logHandler=xa,this._userLogHandler=null,ga.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ya))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?va[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ya.DEBUG,...t),this._logHandler(this,ya.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ya.VERBOSE,...t),this._logHandler(this,ya.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ya.INFO,...t),this._logHandler(this,ya.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ya.WARN,...t),this._logHandler(this,ya.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ya.ERROR,...t),this._logHandler(this,ya.ERROR,...t)}}const _a=(e,t)=>t.some((t=>e instanceof t));let Ea,ka;const Oa=new WeakMap,Ta=new WeakMap,Ia=new WeakMap,Aa=new WeakMap,Ca=new WeakMap;let Pa={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ta.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ia.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ja(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ka||(ka=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ra(this),n),Da(Oa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Da(e.apply(Ra(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Ra(this),t,...r);return Ia.set(o,t.sort?t.sort():[t]),Da(o)}}function Na(e){return"function"===typeof e?ja(e):(e instanceof IDBTransaction&&function(e){if(Ta.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ta.set(e,t)}(e),_a(e,Ea||(Ea=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Pa):e)}function Da(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Da(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Oa.set(t,e)})).catch((()=>{})),Ca.set(t,e),t}(e);if(Aa.has(e))return Aa.get(e);const t=Na(e);return t!==e&&(Aa.set(e,t),Ca.set(t,e)),t}const Ra=e=>Ca.get(e);const Ma=["get","getKey","getAll","getAllKeys","count"],La=["put","add","delete","clear"],Fa=new Map;function Ua(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Fa.get(t))return Fa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=La.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ma.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Fa.set(t,o),o}Pa=(e=>({...e,get:(t,n,r)=>Ua(t,n)||e.get(t,n,r),has:(t,n)=>!!Ua(t,n)||e.has(t,n)}))(Pa);class Ba{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Va="@firebase/app",za="0.10.9",qa=new Sa("@firebase/app"),$a="@firebase/app-compat",Wa="@firebase/analytics-compat",Ka="@firebase/analytics",Ga="@firebase/app-check-compat",Ha="@firebase/app-check",Qa="@firebase/auth",Xa="@firebase/auth-compat",Ya="@firebase/database",Ja="@firebase/database-compat",Za="@firebase/functions",es="@firebase/functions-compat",ts="@firebase/installations",ns="@firebase/installations-compat",rs="@firebase/messaging",is="@firebase/messaging-compat",os="@firebase/performance",as="@firebase/performance-compat",ss="@firebase/remote-config",us="@firebase/remote-config-compat",cs="@firebase/storage",ls="@firebase/storage-compat",hs="@firebase/firestore",ds="@firebase/vertexai-preview",fs="@firebase/firestore-compat",ps="firebase",ms="[DEFAULT]",gs={[Va]:"fire-core",[$a]:"fire-core-compat",[Ka]:"fire-analytics",[Wa]:"fire-analytics-compat",[Ha]:"fire-app-check",[Ga]:"fire-app-check-compat",[Qa]:"fire-auth",[Xa]:"fire-auth-compat",[Ya]:"fire-rtdb",[Ja]:"fire-rtdb-compat",[Za]:"fire-fn",[es]:"fire-fn-compat",[ts]:"fire-iid",[ns]:"fire-iid-compat",[rs]:"fire-fcm",[is]:"fire-fcm-compat",[os]:"fire-perf",[as]:"fire-perf-compat",[ss]:"fire-rc",[us]:"fire-rc-compat",[cs]:"fire-gcs",[ls]:"fire-gcs-compat",[hs]:"fire-fst",[fs]:"fire-fst-compat",[ds]:"fire-vertex","fire-js":"fire-js",[ps]:"fire-js-all"},ys=new Map,vs=new Map,bs=new Map;function ws(e,t){try{e.container.addComponent(t)}catch(n){qa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xs(e,t){e.container.addOrOverwriteComponent(t)}function Ss(e){const t=e.name;if(bs.has(t))return qa.debug(`There were multiple attempts to register component ${t}.`),!1;bs.set(t,e);for(const n of ys.values())ws(n,e);for(const n of vs.values())ws(n,e);return!0}function _s(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Es(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ms;_s(e,t).clearInstance(n)}function ks(e){return void 0!==e.options}function Os(e){return void 0!==e.settings}function Ts(){bs.clear()}const Is=new ea("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class As{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new da("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}class Cs extends As{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ls(Va,za,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ms(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Is.create("server-app-deleted")}}const Ps="10.13.0";function js(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ms,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Is.create("bad-app-name",{appName:String(i)});if(n||(n=qo()),!n)throw Is.create("no-options");const o=ys.get(i);if(o){if(ra(n,o.options)&&ra(r,o.config))return o;throw Is.create("duplicate-app",{appName:i})}const a=new ma(i);for(const u of bs.values())a.addComponent(u);const s=new As(n,r,a);return ys.set(i,s),s}function Ns(e,t){if(("undefined"!==typeof window||Go())&&!Go())throw Is.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=ks(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Is.create("finalization-registry-not-supported",{});const i=""+(e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0))(JSON.stringify(r)),o=vs.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new ma(i);for(const u of bs.values())a.addComponent(u);const s=new Cs(n,t,i,a);return vs.set(i,s),s}function Ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;const t=ys.get(e);if(!t&&e===ms&&qo())return js();if(!t)throw Is.create("no-app",{appName:e});return t}function Rs(){return Array.from(ys.values())}async function Ms(e){let t=!1;const n=e.name;if(ys.has(n))t=!0,ys.delete(n);else if(vs.has(n)){e.decRefCount()<=0&&(vs.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ls(e,t,n){var r;let i=null!==(r=gs[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void qa.warn(e.join(" "))}Ss(new da(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Fs(e,t){if(null!==e&&"function"!==typeof e)throw Is.create("invalid-log-argument");!function(e,t){for(const n of ga){let r=null;t&&t.level&&(r=va[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ya[n].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function Us(e){var t;t=e,ga.forEach((e=>{e.setLogLevel(t)}))}const Bs="firebase-heartbeat-database",Vs=1,zs="firebase-heartbeat-store";let qs=null;function $s(){return qs||(qs=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Da(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Da(a.result),e.oldVersion,e.newVersion,Da(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(Bs,Vs,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(zs)}catch(n){console.warn(n)}}}).catch((e=>{throw Is.create("idb-open",{originalErrorMessage:e.message})}))),qs}async function Ws(e,t){try{const n=(await $s()).transaction(zs,"readwrite"),r=n.objectStore(zs);await r.put(t,Ks(e)),await n.done}catch(n){if(n instanceof Zo)qa.warn(n.message);else{const e=Is.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});qa.warn(e.message)}}}function Ks(e){return`${e.name}!${e.options.appId}`}class Gs{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qs(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hs();if(console.log("heartbeats",null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats),null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(r){qa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Hs(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Xs(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xs(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Fo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return qa.warn(t),""}}}function Hs(){return(new Date).toISOString().substring(0,10)}class Qs{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Jo()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await $s()).transaction(zs),n=await t.objectStore(zs).get(Ks(e));return await t.done,n}catch(t){if(t instanceof Zo)qa.warn(t.message);else{const e=Is.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});qa.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ws(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ws(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Xs(e){return Fo(JSON.stringify({version:2,heartbeats:e})).length}var Ys;Ys="",Ss(new da("platform-logger",(e=>new Ba(e)),"PRIVATE")),Ss(new da("heartbeat",(e=>new Gs(e)),"PRIVATE")),Ls(Va,za,Ys),Ls(Va,za,"esm2017"),Ls("fire-js","");class Js{constructor(e,t){this._delegate=e,this.firebase=t,ws(e,new da("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ms(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ms;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ms;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ws(this._delegate,e)}_addOrOverwriteComponent(e){xs(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Zs=new ea("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const eu=function e(){const n=function(e){const n={},r={__esModule:!0,initializeApp:function(t){const i=js(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(na(n,i.name))return n[i.name];const o=new e(i,r);return n[i.name]=o,o},app:i,registerVersion:Ls,setLogLevel:Us,onLog:Fs,apps:null,SDK_VERSION:Ps,INTERNAL:{registerComponent:function(t){const n=t.name,o=n.replace("-compat","");if(Ss(t)&&"PUBLIC"===t.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Zs.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==t.serviceProps&&Bo(a,t.serviceProps),r[o]=a,e.prototype[o]=function(){const e=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function i(e){if(!na(n,e=e||ms))throw Zs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=e,r}(Js);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Bo(n,e)},createSubscribe:ua,ErrorFactory:ea,deepExtend:Bo}),n}(),tu=new Sa("@firebase/app-compat");try{const e=Vo();if(void 0!==e.firebase){tu.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&tu.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(oH){}const nu=eu;!function(e){Ls("@firebase/app-compat","0.2.39",e)}();nu.registerVersion("firebase","10.13.0","app-compat");function ru(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const iu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ou="EMAIL_SIGNIN",au="PASSWORD_RESET",su="RECOVER_EMAIL",uu="REVERT_SECOND_FACTOR_ADDITION",cu="VERIFY_AND_CHANGE_EMAIL",lu="VERIFY_EMAIL";function hu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const du=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},fu=hu,pu=new ea("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mu=new Sa("@firebase/auth");function gu(e){if(mu.logLevel<=ya.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mu.error(`Auth (${Ps}): ${e}`,...n)}}function yu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Su(e,...n)}function vu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Su(e,...n)}function bu(e,t,n){const r=Object.assign(Object.assign({},fu()),{[t]:n});return new ea("auth","Firebase",r).create(t,{appName:e.name})}function wu(e){return bu(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&yu(e,"argument-error"),bu(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Su(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return pu.create(e,...n)}function _u(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Su(t,...r)}}function Eu(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gu(t),new Error(t)}function ku(e,t){e||Eu(t)}function Ou(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tu(){return"http:"===Iu()||"https:"===Iu()}function Iu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,ku(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wo())||Qo()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tu()||Ho()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Cu(e,t){ku(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Pu{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Eu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Eu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Eu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ju={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nu=new Au(3e4,6e4);function Du(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ru(e,t,n,r){return Mu(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=oa(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),Pu.fetch()(Fu(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Mu(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ju),t);try{const t=new Bu(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Vu(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Vu(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Vu(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Vu(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw bu(e,s,a);yu(e,s)}}catch(i){if(i instanceof Zo)throw i;yu(e,"network-request-failed",{message:String(i)})}}async function Lu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Ru(e,t,n,r,i);return"mfaPendingCredential"in o&&yu(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Fu(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Cu(e.config,i):`${e.config.apiScheme}://${i}`}function Uu(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bu{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(vu(this.auth,"network-request-failed"))),Nu.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vu(e,t,r);return i.customData._tokenResponse=n,i}function zu(e){return void 0!==e&&void 0!==e.getResponse}function qu(e){return void 0!==e&&void 0!==e.enterprise}class $u{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uu(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Wu(e,t){return Ru(e,"GET","/v2/recaptchaConfig",Du(e,t))}async function Ku(e,t){return Ru(e,"POST","/v1/accounts:lookup",t)}function Gu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Hu(e){return 1e3*Number(e)}function Qu(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const e=Uo(n);return e?JSON.parse(e):(gu("Failed to decode base64 JWT payload"),null)}catch(i){return gu("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Xu(e){const t=Qu(e);return _u(t,"internal-error"),_u("undefined"!==typeof t.exp,"internal-error"),_u("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Yu(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Zo&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Ju{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Zu{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ec(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Yu(e,Ku(n,{idToken:r}));_u(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?tc(o.providerUserInfo):[],s=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),u=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),l=!!u&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Zu(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,h)}function tc(e){return e.map((e=>{var{providerId:t}=e,n=ru(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_u(e.idToken,"internal-error"),_u("undefined"!==typeof e.idToken,"internal-error"),_u("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Xu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_u(0!==e.length,"internal-error");const t=Xu(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(_u(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Mu(e,{},(async()=>{const n=oa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Fu(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pu.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new nc;return n&&(_u("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(_u("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(_u("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return Eu("not implemented")}}function rc(e,t){_u("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ic{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ju(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return _u(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ha(e),r=await n.getIdToken(t),i=Qu(r);_u(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gu(Hu(i.auth_time)),issuedAtTime:Gu(Hu(i.iat)),expirationTime:Gu(Hu(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ha(e);await ec(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_u(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ic(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_u(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ec(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(wu(this.auth));const e=await this.getIdToken();return await Yu(this,async function(e,t){return Ru(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;_u(v&&S,e,"internal-error");const _=nc.fromJSON(this.name,S);_u("string"===typeof v,e,"internal-error"),rc(l,e.name),rc(h,e.name),_u("boolean"===typeof b,e,"internal-error"),_u("boolean"===typeof w,e,"internal-error"),rc(d,e.name),rc(f,e.name),rc(p,e.name),rc(m,e.name),rc(g,e.name),rc(y,e.name);const E=new ic({uid:v,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new nc;r.updateFromServerResponse(t);const i=new ic({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ec(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];_u(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?tc(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new nc;a.updateFromIdToken(n);const s=new ic({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Zu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,u),s}}const oc=new Map;function ac(e){ku(e instanceof Function,"Expected a class definition");let t=oc.get(e);return t?(ku(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,oc.set(e,t),t)}class sc{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sc.type="NONE";const uc=sc;function cc(e,t,n){return`firebase:${e}:${t}:${n}`}class lc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=cc(this.userKey,r.apiKey,i),this.fullPersistenceKey=cc("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ic._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new lc(ac(uc),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ac(uc);const o=cc(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(o);if(t){const n=ic._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(oH){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(oH){}}))),new lc(i,e,n)):new lc(i,e,n)}}function hc(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yc(t))return"Blackberry";if(vc(t))return"Webos";if(fc(t))return"Safari";if((t.includes("chrome/")||pc(t))&&!t.includes("edge/"))return"Chrome";if(gc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function dc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/firefox\//i.test(e)}function fc(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/crios\//i.test(e)}function mc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/iemobile/i.test(e)}function gc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/android/i.test(e)}function yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/blackberry/i.test(e)}function vc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/webos/i.test(e)}function bc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return bc(e)||gc(e)||vc(e)||yc(e)||/windows phone/i.test(e)||mc(e)}function xc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hc(Wo());break;case"Worker":t=`${hc(Wo())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ps}/${r}`}class Sc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class _c{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ec{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oc(this),this.idTokenSubscription=new Oc(this),this.beforeStateQueue=new Sc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ac(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await lc.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ku(this,{idToken:e}),n=await ic._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Os(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _u(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ec(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(wu(this));const t=e?ha(e):null;return t&&_u(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_u(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Os(this.app)?Promise.reject(wu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(wu(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ac(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ru(e,"GET","/v2/passwordPolicy",Du(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _c(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ea("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ru(e,"POST","/v2/accounts:revokeToken",Du(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ac(e)||this._popupRedirectResolver;_u(t,this,"argument-error"),this.redirectPersistenceManager=await lc.create(this,[ac(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_u(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _u(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(mu.logLevel<=ya.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mu.warn(`Auth (${Ps}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function kc(e){return ha(e)}class Oc{constructor(e){this.auth=e,this.observer=null,this.addObserver=ua((e=>this.observer=e))}get next(){return _u(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ic(e){return Tc.loadJS(e)}function Ac(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Cc{constructor(e){this.type="recaptcha-enterprise",this.auth=kc(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;qu(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Wu(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new $u(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&qu(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Tc.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ic(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Pc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Cc(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function jc(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Pc(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Pc(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Nc(e,t,n){const r=kc(e);_u(r._canInitEmulator,r,"emulator-config-failed"),_u(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Dc(t),{host:a,port:s}=function(e){const t=Dc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Rc(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Rc(t)}}}(t),u=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Dc(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rc(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Eu("not implemented")}_getIdTokenResponse(e){return Eu("not implemented")}_linkToIdToken(e,t){return Eu("not implemented")}_getReauthenticationResolver(e){return Eu("not implemented")}}async function Lc(e,t){return Ru(e,"POST","/v1/accounts:resetPassword",Du(e,t))}async function Fc(e,t){return Ru(e,"POST","/v1/accounts:signUp",t)}async function Uc(e,t){return Lu(e,"POST","/v1/accounts:signInWithPassword",Du(e,t))}async function Bc(e,t){return Ru(e,"POST","/v1/accounts:sendOobCode",Du(e,t))}async function Vc(e,t){return Bc(e,t)}async function zc(e,t){return Bc(e,t)}class qc extends Mc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qc(e,t,"password")}static _fromEmailAndCode(e,t){return new qc(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return jc(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Uc);case"emailLink":return async function(e,t){return Lu(e,"POST","/v1/accounts:signInWithEmailLink",Du(e,t))}(e,{email:this._email,oobCode:this._password});default:yu(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return jc(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fc);case"emailLink":return async function(e,t){return Lu(e,"POST","/v1/accounts:signInWithEmailLink",Du(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:yu(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $c(e,t){return Lu(e,"POST","/v1/accounts:signInWithIdp",Du(e,t))}class Wc extends Mc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yu("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ru(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Wc(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return $c(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$c(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$c(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oa(t)}return e}}const Kc={USER_NOT_FOUND:"user-not-found"};class Gc extends Mc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Lu(e,"POST","/v1/accounts:signInWithPhoneNumber",Du(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Lu(e,"POST","/v1/accounts:signInWithPhoneNumber",Du(e,t));if(n.temporaryProof)throw Vu(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Lu(e,"POST","/v1/accounts:signInWithPhoneNumber",Du(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Kc)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Gc({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hc{constructor(e){var t,n,r,i,o,a;const s=aa(sa(e)),u=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);_u(u&&c&&l,"argument-error"),this.apiKey=u,this.operation=l,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=aa(sa(e)).link,n=t?aa(sa(t)).deep_link_id:null,r=aa(sa(e)).deep_link_id;return(r?aa(sa(r)).link:null)||r||n||t||e}(e);try{return new Hc(t)}catch(oH){return null}}}class Qc{constructor(){this.providerId=Qc.PROVIDER_ID}static credential(e,t){return qc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hc.parseLink(t);return _u(n,"argument-error"),qc._fromEmailAndCode(e,n.code,n.tenantId)}}Qc.PROVIDER_ID="password",Qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yc extends Xc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jc extends Yc{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return _u("providerId"in t&&"signInMethod"in t,"argument-error"),Wc._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _u(e.idToken||e.accessToken,"argument-error"),Wc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Jc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Jc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!r&&!i&&!n&&!o)return null;if(!s)return null;try{return new Jc(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch(u){return null}}}class Zc extends Yc{constructor(){super("facebook.com")}static credential(e){return Wc._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zc.credential(t.oauthAccessToken)}catch(oH){return null}}}Zc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zc.PROVIDER_ID="facebook.com";class el extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wc._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return el.credential(n,r)}catch(oH){return null}}}el.GOOGLE_SIGN_IN_METHOD="google.com",el.PROVIDER_ID="google.com";class tl extends Yc{constructor(){super("github.com")}static credential(e){return Wc._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tl.credentialFromTaggedObject(e)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tl.credential(t.oauthAccessToken)}catch(oH){return null}}}tl.GITHUB_SIGN_IN_METHOD="github.com",tl.PROVIDER_ID="github.com";class nl extends Mc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return $c(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$c(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$c(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new nl(n,i):null}static _create(e,t){return new nl(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rl extends Xc{constructor(e){_u(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return rl.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return rl.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=nl.fromJSON(e);return _u(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return nl._create(r,n)}catch(i){return null}}}class il extends Yc{constructor(){super("twitter.com")}static credential(e,t){return Wc._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return il.credential(n,r)}catch(oH){return null}}}async function ol(e,t){return Lu(e,"POST","/v1/accounts:signUp",Du(e,t))}il.TWITTER_SIGN_IN_METHOD="twitter.com",il.PROVIDER_ID="twitter.com";class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ic._fromIdTokenResponse(e,n,r),o=sl(n);return new al({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=sl(n);return new al({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function sl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ul extends Zo{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ul.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ul(e,t,n,r)}}function cl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ul._fromErrorAndOperation(e,n,t,r);throw n}))}function ll(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function hl(e,t){const n=ha(e);await fl(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ru(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=ll(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function dl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Yu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return al._forOperation(e,"link",r)}async function fl(e,t,n){await ec(t);const r=!1===e?"provider-already-linked":"no-such-provider";_u(ll(t.providerData).has(n)===e,t.auth,r)}async function pl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Os(r.app))return Promise.reject(wu(r));const i="reauthenticate";try{const o=await Yu(e,cl(r,i,t,e),n);_u(o.idToken,r,"internal-error");const a=Qu(o.idToken);_u(a,r,"internal-error");const{sub:s}=a;return _u(e.uid===s,r,"user-mismatch"),al._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&yu(r,"user-mismatch"),o}}async function ml(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Os(e.app))return Promise.reject(wu(e));const r="signIn",i=await cl(e,r,t),o=await al._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function gl(e,t){return ml(kc(e),t)}async function yl(e,t){const n=ha(e);return await fl(!1,n,t.providerId),dl(n,t)}async function vl(e,t){return pl(ha(e),t)}async function bl(e,t){if(Os(e.app))return Promise.reject(wu(e));const n=kc(e),r=await async function(e,t){return Lu(e,"POST","/v1/accounts:signInWithCustomToken",Du(e,t))}(n,{token:t,returnSecureToken:!0}),i=await al._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class wl{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?xl._fromServerResponse(e,t):"totpInfo"in t?Sl._fromServerResponse(e,t):yu(e,"internal-error")}}class xl extends wl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new xl(t)}}class Sl extends wl{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Sl(t)}}function _l(e,t,n){var r;_u((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_u("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_u(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_u(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function El(e){const t=kc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kl(e,t){await async function(e,t){return Ru(e,"POST","/v1/accounts:update",Du(e,t))}(ha(e),{oobCode:t})}async function Ol(e,t){const n=ha(e),r=await Lc(n,{oobCode:t}),i=r.requestType;switch(_u(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_u(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_u(r.mfaInfo,n,"internal-error");default:_u(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=wl._fromServerResponse(kc(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Tl(e,t){const n={identifier:t,continueUri:Tu()?Ou():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ru(e,"POST","/v1/accounts:createAuthUri",Du(e,t))}(ha(e),n);return r||[]}async function Il(e,t){const n=ha(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&_l(n.auth,r,t);const{email:i}=await async function(e,t){return Bc(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Al(e,t,n){const r=ha(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&_l(r.auth,i,n);const{email:o}=await async function(e,t){return Bc(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Cl(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ha(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Yu(i,async function(e,t){return Ru(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Pl(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Yu(e,async function(e,t){return Ru(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class jl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Nl extends jl{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Dl extends jl{constructor(e,t){super(e,"facebook.com",t)}}class Rl extends Nl{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ml extends jl{constructor(e,t){super(e,"google.com",t)}}class Ll extends Nl{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Fl(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Qu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new jl(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Dl(o,i);case"github.com":return new Rl(o,i);case"google.com":return new Ml(o,i);case"twitter.com":return new Ll(o,i,e.screenName||null);case"custom":case"anonymous":return new jl(o,null);default:return new jl(o,r,i)}}(n)}class Ul{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Ul("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ul("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ul._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ul._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Bl{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=kc(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>wl._fromServerResponse(n,e)));_u(r.mfaPendingCredential,n,"internal-error");const o=Ul._fromMfaPendingCredential(r.mfaPendingCredential);return new Bl(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await al._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return _u(t.user,n,"internal-error"),al._forOperation(t.user,t.operationType,a);default:yu(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Vl{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>wl._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Vl(e)}async getSession(){return Ul._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Yu(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Yu(this.user,function(e,t){return Ru(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Du(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const zl=new WeakMap;const ql="__sak";class $l{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ql,"1"),this.storage.removeItem(ql),Promise.resolve(!0)):Promise.resolve(!1)}catch(oH){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Wl extends $l{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Xo()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wl.type="LOCAL";const Kl=Wl;class Gl extends $l{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Gl.type="SESSION";const Hl=Gl;class Ql{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ql(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Xl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ql.receivers=[];class Yl{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const u=Xl("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Jl(){return window}function Zl(){return"undefined"!==typeof Jl().WorkerGlobalScope&&"function"===typeof Jl().importScripts}const eh="firebaseLocalStorageDb",th="firebaseLocalStorage",nh="fbase_key";class rh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ih(e,t){return e.transaction([th],t?"readwrite":"readonly").objectStore(th)}function oh(){const e=indexedDB.open(eh,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(th,{keyPath:nh})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(th)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(eh);return new rh(e).toPromise()}(),t(await oh()))}))}))}async function ah(e,t,n){const r=ih(e,!0).put({[nh]:t,value:n});return new rh(r).toPromise()}function sh(e,t){const n=ih(e,!0).delete(t);return new rh(n).toPromise()}class uh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await oh()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ql._getInstance(Zl()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Yl(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(oH){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oh();return await ah(e,ql,"1"),await sh(e,ql),!0}catch(oH){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ah(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ih(e,!1).get(t),r=await new rh(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ih(e,!1).getAll();return new rh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}uh.type="LOCAL";const ch=uh;const lh=1e12;class hh{constructor(e){this.auth=e,this.counter=lh,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new dh(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||lh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||lh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||lh;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class dh{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;_u(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fh=Ac("rcb"),ph=new Au(3e4,6e4);class mh{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Jl().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _u(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&zu(Jl().grecaptcha)?Promise.resolve(Jl().grecaptcha):new Promise(((n,r)=>{const i=Jl().setTimeout((()=>{r(vu(e,"network-request-failed"))}),ph.get());Jl()[fh]=()=>{Jl().clearTimeout(i),delete Jl()[fh];const o=Jl().grecaptcha;if(!o||!zu(o))return void r(vu(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Ic(`${Tc.recaptchaV2Script}?${oa({onload:fh,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(vu(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Jl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gh{async load(e){return new hh(e)}clearedOneInstance(){}}const yh="recaptcha",vh={theme:"light",type:"image"};class bh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},vh);this.parameters=n,this.type=yh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kc(e),this.isInvisible="invisible"===this.parameters.size,_u("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;_u(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gh:new mh,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){_u(!this.parameters.sitekey,this.auth,"argument-error"),_u(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_u("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Jl()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){_u(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_u(Tu()&&!Zl(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ru(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);_u(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _u(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wh{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Gc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function xh(e,t,n){var r;const i=await n.verify();try{let o;if(_u("string"===typeof i,e,"argument-error"),_u(n.type===yh,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){_u("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ru(e,"POST","/v2/accounts/mfaEnrollment:start",Du(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{_u("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;_u(n,e,"missing-multi-factor-info");const a=await function(e,t){return Ru(e,"POST","/v2/accounts/mfaSignIn:start",Du(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ru(e,"POST","/v1/accounts:sendVerificationCode",Du(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Sh{constructor(e){this.providerId=Sh.PROVIDER_ID,this.auth=kc(e)}verifyPhoneNumber(e,t){return xh(this.auth,e,ha(t))}static credential(e,t){return Gc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sh.credentialFromTaggedObject(t)}static credentialFromError(e){return Sh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gc._fromTokenResponse(n,r):null}}function _h(e,t){return t?ac(t):(_u(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sh.PROVIDER_ID="phone",Sh.PHONE_SIGN_IN_METHOD="phone";class Eh extends Mc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $c(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $c(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $c(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kh(e){return ml(e.auth,new Eh(e),e.bypassAuthState)}function Oh(e){const{auth:t,user:n}=e;return _u(n,t,"internal-error"),pl(n,new Eh(e),e.bypassAuthState)}async function Th(e){const{auth:t,user:n}=e;return _u(n,t,"internal-error"),dl(n,new Eh(e),e.bypassAuthState)}class Ih{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kh;case"linkViaPopup":case"linkViaRedirect":return Th;case"reauthViaPopup":case"reauthViaRedirect":return Oh;default:yu(this.auth,"internal-error")}}resolve(e){ku(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ku(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ah=new Au(2e3,1e4);class Ch extends Ih{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ch.currentPopupAction&&Ch.currentPopupAction.cancel(),Ch.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _u(e,this.auth,"internal-error"),e}async onExecution(){ku(1===this.filter.length,"Popup operations only handle one event");const e=Xl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(vu(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ch.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(vu(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ah.get())};e()}}Ch.currentPopupAction=null;const Ph="pendingRedirect",jh=new Map;class Nh extends Ih{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Lh(t),r=Mh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Dh(e,t){return Mh(e)._set(Lh(t),"true")}function Rh(e,t){jh.set(e._key(),t)}function Mh(e){return ac(e._redirectPersistence)}function Lh(e){return cc(Ph,e.config.apiKey,e.name)}function Fh(e,t,n){return async function(e,t,n){if(Os(e.app))return Promise.reject(wu(e));const r=kc(e);xu(e,t,Xc),await r._initializationPromise;const i=_h(r,n);return await Dh(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Uh(e,t,n){return async function(e,t,n){const r=ha(e);if(xu(r.auth,t,Xc),Os(r.auth.app))return Promise.reject(wu(r.auth));await r.auth._initializationPromise;const i=_h(r.auth,n);await Dh(i,r.auth);const o=await zh(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Bh(e,t,n){return async function(e,t,n){const r=ha(e);xu(r.auth,t,Xc),await r.auth._initializationPromise;const i=_h(r.auth,n);await fl(!1,r,t.providerId),await Dh(i,r.auth);const o=await zh(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Os(e.app))return Promise.reject(wu(e));const r=kc(e),i=_h(r,t),o=new Nh(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function zh(e){const t=Xl(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class qh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Wh(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vu(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($h(e))}saveEventToCache(e){this.cachedEventUids.add($h(e)),this.lastProcessedEventTime=Date.now()}}function $h(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Wh(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}async function Kh(e){return Ru(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Gh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hh=/^https?/;function Qh(e){const t=Ou(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Hh.test(n))return!1;if(Gh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xh=new Au(3e4,6e4);function Yh(){const e=Jl().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Jh(e){return new Promise(((t,n)=>{var r,i,o;function a(){Yh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yh(),n(vu(e,"network-request-failed"))},timeout:Xh.get()})}if(null===(i=null===(r=Jl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Jl().gapi)||void 0===o?void 0:o.load)){const t=Ac("iframefcb");return Jl()[t]=()=>{gapi.load?a():n(vu(e,"network-request-failed"))},Ic(`${Tc.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Zh=null,e}))}let Zh=null;const ed=new Au(5e3,15e3),td="__/auth/iframe",nd="emulator/auth/iframe",rd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function od(e){const t=e.config;_u(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cu(t,nd):`https://${e.config.authDomain}/${td}`,r={apiKey:t.apiKey,appName:e.name,v:Ps},i=id.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${oa(r).slice(1)}`}async function ad(e){const t=await function(e){return Zh=Zh||Jh(e),Zh}(e),n=Jl().gapi;return _u(n,e,"internal-error"),t.open({where:document.body,url:od(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rd,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=vu(e,"network-request-failed"),o=Jl().setTimeout((()=>{r(i)}),ed.get());function a(){Jl().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const sd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ud{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function cd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},sd),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Wo().toLowerCase();n&&(s=pc(c)?"_blank":n),dc(c)&&(t=t||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return bc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ud(null);const h=window.open(t||"",s,l);_u(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ud(h)}const ld="__/auth/handler",hd="emulator/auth/handler",dd=encodeURIComponent("fac");async function fd(e,t,n,r,i,o){_u(e.config.authDomain,e,"auth-domain-config-required"),_u(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ps,eventId:i};if(t instanceof Xc){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Yc){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const l of Object.keys(s))void 0===s[l]&&delete s[l];const u=await e._getAppCheckToken(),c=u?`#${dd}=${encodeURIComponent(u)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ld}`;return Cu(t,hd)}(e)}?${oa(s).slice(1)}${c}`}const pd="webStorageSupport";const md=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hl,this._completeRedirectFn=Vh,this._overrideRedirectResult=Rh}async _openPopup(e,t,n,r){var i;ku(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return cd(e,await fd(e,t,n,Ou(),r),Xl())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Jl().location.href=e}(await fd(e,t,n,Ou(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ku(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ad(e),n=new qh(e);return t.register("authEvent",(t=>{_u(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pd,{type:pd},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[pd];void 0!==i&&t(!!i),yu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Kh(e);for(const n of t)try{if(Qh(n))return}catch(oH){}yu(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wc()||fc()||bc()}};class gd{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Eu("unexpected MultiFactorSessionType")}}}class yd extends gd{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new yd(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ru(e,"POST","/v2/accounts/mfaEnrollment:finalize",Du(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ru(e,"POST","/v2/accounts/mfaSignIn:finalize",Du(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class vd{constructor(){}static assertion(e){return yd._fromCredential(e)}}vd.FACTOR_ID="phone";var bd="@firebase/auth",wd="1.7.7";class xd{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_u(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=zo())||void 0===t||t[`_${e}`]})("authIdTokenMaxAge");var Sd;function _d(){return window}Tc={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Sd="Browser",Ss(new da("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;_u(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:s,clientPlatform:Sd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xc(Sd)},c=new Ec(r,i,o,u);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ac);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ss(new da("auth-internal",(e=>(e=>new xd(e))(kc(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(bd,wd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Sd)),Ls(bd,wd,"esm2017");async function Ed(e,t,n){var r;const{BuildInfo:i}=_d();ku(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(ku(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return bc()?a.ibi=i.packageName:gc()?a.apn=i.packageName:yu(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,fd(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function kd(e){const{cordova:t}=_d();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Od=20;class Td extends qh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Id(e){const t=await Pd()._get(jd(e));return t&&await Pd()._remove(jd(e)),t}function Ad(e,t){var n,r;const i=function(e){const t=Nd(e),n=t.link?decodeURIComponent(t.link):void 0,r=Nd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Nd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Nd(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?vu(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Cd(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Od;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Pd(){return ac(Kl)}function jd(e){return cc("authEvent",e.config.apiKey,e.name)}function Nd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return aa(n.join("?"))}const Dd=class{constructor(){this._redirectPersistence=Hl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vh,this._overrideRedirectResult=Rh}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Td(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){yu(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,u,c,l;const h=_d();_u("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_u("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_u("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_u("function"===typeof(null===(u=null===(s=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_u("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),jh.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Cd(),postBody:null,tenantId:e.tenantId,error:vu(e,"no-auth-event")}}(e,n,r);await function(e,t){return Pd()._set(jd(e),t)}(e,o);const a=await Ed(e,o,t);return async function(e,t,n){const{cordova:r}=_d();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function u(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(vu(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),gc()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await kd(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=_d(),n={};bc()?n.iosBundleId=t.packageName:gc()?n.androidPackageName=t.packageName:yu(e,"operation-not-supported-in-this-environment"),await Kh(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=_d(),o=setTimeout((async()=>{await Id(e),t.onEvent(Rd())}),500),a=async n=>{clearTimeout(o);const r=await Id(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Ad(r,n.url)),t.onEvent(i||Rd())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,u=`${i.packageName.toLowerCase()}://`;_d().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&a({url:e}),"function"===typeof s)try{s(e)}catch(t){console.error(t)}}}};function Rd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vu("no-auth-event")}}function Md(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return!("file:"!==Md()&&"ionic:"!==Md()&&"capacitor:"!==Md()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return Xo()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/Edge\/\d+/.test(e)}(e)}function Ud(){try{const e=self.localStorage,t=Xl();if(e)return e.setItem(t,"1"),e.removeItem(t),!Fd()||Jo()}catch(e){return Bd()&&Jo()}return!1}function Bd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Vd(){return("http:"===Md()||"https:"===Md()||Ho()||Ld())&&!(Qo()||Ko())&&Ud()&&!Bd()}function zd(){return Ld()&&"undefined"!==typeof document}const qd={LOCAL:"local",NONE:"none",SESSION:"session"},$d=_u,Wd="persistence";async function Kd(e){await e._initializationPromise;const t=Gd(),n=cc(Wd,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Gd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Hd=_u;class Qd{constructor(){this.browserResolver=ac(md),this.cordovaResolver=ac(Dd),this.underlyingResolver=null,this._redirectPersistence=Hl,this._completeRedirectFn=Vh,this._overrideRedirectResult=Rh}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return zd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hd(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!zd()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Xd(e){return e.unwrap()}function Yd(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new tf(e,function(e,t){var n;const r=ha(e),i=t;return _u(t.customData.operationType,r,"argument-error"),_u(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bl._fromError(r,i)}(e,t))}else if(r){const e=Jd(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Jd(e){const{_tokenResponse:t}=e instanceof Zo?e.customData:e;if(!t)return null;if(!(e instanceof Zo)&&"temporaryProof"in t&&"phoneNumber"in t)return Sh.credentialFromResult(e);const n=t.providerId;if(!n||n===iu.PASSWORD)return null;let r;switch(n){case iu.GOOGLE:r=el;break;case iu.FACEBOOK:r=Zc;break;case iu.GITHUB:r=tl;break;case iu.TWITTER:r=il;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?nl._create(n,a):Wc._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Jc(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof Zo?r.credentialFromError(e):r.credentialFromResult(e)}function Zd(e,t){return t.catch((t=>{throw t instanceof Zo&&Yd(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Jd(r)),additionalUserInfo:Fl(e),user:nf.getOrCreate(n)};var r}))}async function ef(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Zd(e,n.confirm(t))}}class tf{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Zd(Xd(this.auth),this.resolver.resolveSignIn(e))}}class nf{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=ha(e);return zl.has(t)||zl.set(t,Vl._fromUser(t)),zl.get(t)}(e)}static getOrCreate(e){return nf.USER_MAP.has(e)||nf.USER_MAP.set(e,new nf(e)),nf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Zd(this.auth,yl(this._delegate,e))}async linkWithPhoneNumber(e,t){return ef(this.auth,async function(e,t,n){const r=ha(e);await fl(!1,r,"phone");const i=await xh(r.auth,t,ha(n));return new wh(i,(e=>yl(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Zd(this.auth,async function(e,t,n){const r=ha(e);xu(r.auth,t,Xc);const i=_h(r.auth,n);return new Ch(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Qd))}async linkWithRedirect(e){return await Kd(kc(this.auth)),Bh(this._delegate,e,Qd)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Zd(this.auth,vl(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ef(this.auth,async function(e,t,n){const r=ha(e);if(Os(r.auth.app))return Promise.reject(wu(r.auth));const i=await xh(r.auth,t,ha(n));return new wh(i,(e=>vl(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Zd(this.auth,async function(e,t,n){const r=ha(e);if(Os(r.auth.app))return Promise.reject(vu(r.auth,"operation-not-supported-in-this-environment"));xu(r.auth,t,Xc);const i=_h(r.auth,n);return new Ch(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Qd))}async reauthenticateWithRedirect(e){return await Kd(kc(this.auth)),Uh(this._delegate,e,Qd)}sendEmailVerification(e){return Il(this._delegate,e)}async unlink(e){return await hl(this._delegate,e),this}updateEmail(e){return function(e,t){const n=ha(e);return Os(n.auth.app)?Promise.reject(wu(n.auth)):Pl(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Pl(ha(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=ha(e);if(Os(n.auth.app))return Promise.reject(wu(n.auth));await dl(n,t)}(this._delegate,e)}updateProfile(e){return Cl(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Al(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nf.USER_MAP=new WeakMap;const rf=_u;class of{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;rf(n,"invalid-api-key",{appName:e.name}),rf(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Qd:void 0;this._delegate=t.initialize({options:{persistence:sf(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(du),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Nc(this._delegate,e,t)}applyActionCode(e){return kl(this._delegate,e)}checkActionCode(e){return Ol(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Lc(ha(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&El(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Zd(this._delegate,async function(e,t,n){if(Os(e.app))return Promise.reject(wu(e));const r=kc(e),i=jc(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ol),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&El(e),t})),a=await al._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Tl(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Hc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){rf(Vd(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await kc(e)._initializationPromise,Vh(e,t,!1)}(this._delegate,Qd);return e?Zd(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){kc(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=af(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=af(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=kc(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){_u(t.handleCodeInApp,r,"argument-error"),t&&_l(r,e,t)}(i,n),await jc(r,i,"getOobCode",zc)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=kc(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&_l(r,i,n),await jc(r,i,"getOobCode",Vc)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){$d(Object.values(qd).includes(t),e,"invalid-persistence-type"),Qo()?$d(t!==qd.SESSION,e,"unsupported-persistence-type"):Ko()?$d(t===qd.NONE,e,"unsupported-persistence-type"):Bd()?$d(t===qd.NONE||t===qd.LOCAL&&Jo(),e,"unsupported-persistence-type"):$d(t===qd.NONE||Ud(),e,"unsupported-persistence-type")}(this._delegate,e),e){case qd.SESSION:t=Hl;break;case qd.LOCAL:t=await ac(ch)._isAvailable()?ch:Kl;break;case qd.NONE:t=uc;break;default:return yu("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Zd(this._delegate,async function(e){var t;if(Os(e.app))return Promise.reject(wu(e));const n=kc(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new al({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ol(n,{returnSecureToken:!0}),i=await al._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Zd(this._delegate,gl(this._delegate,e))}signInWithCustomToken(e){return Zd(this._delegate,bl(this._delegate,e))}signInWithEmailAndPassword(e,t){return Zd(this._delegate,function(e,t,n){return Os(e.app)?Promise.reject(wu(e)):gl(ha(e),Qc.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&El(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Zd(this._delegate,async function(e,t,n){if(Os(e.app))return Promise.reject(wu(e));const r=ha(e),i=Qc.credentialWithLink(t,n||Ou());return _u(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),gl(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ef(this._delegate,async function(e,t,n){if(Os(e.app))return Promise.reject(wu(e));const r=kc(e),i=await xh(r,t,ha(n));return new wh(i,(e=>gl(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return rf(Vd(),this._delegate,"operation-not-supported-in-this-environment"),Zd(this._delegate,async function(e,t,n){if(Os(e.app))return Promise.reject(vu(e,"operation-not-supported-in-this-environment"));const r=kc(e);xu(e,t,Xc);const i=_h(r,n);return new Ch(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Qd))}async signInWithRedirect(e){return rf(Vd(),this._delegate,"operation-not-supported-in-this-environment"),await Kd(this._delegate),Fh(this._delegate,e,Qd)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ol(ha(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function af(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&nf.getOrCreate(e)),error:t,complete:n}}function sf(e,t){const n=function(e,t){const n=Gd();if(!n)return[];const r=cc(Wd,e,t);switch(n.getItem(r)){case qd.NONE:return[uc];case qd.LOCAL:return[ch,Hl];case qd.SESSION:return[Hl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ch)||n.push(ch),"undefined"!==typeof window)for(const r of[Kl,Hl])n.includes(r)||n.push(r);return n.includes(uc)||n.push(uc),n}of.Persistence=qd;class uf{constructor(){this.providerId="phone",this._delegate=new Sh(Xd(nu.auth()))}static credential(e,t){return Sh.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}uf.PHONE_SIGN_IN_METHOD=Sh.PHONE_SIGN_IN_METHOD,uf.PROVIDER_ID=Sh.PROVIDER_ID;const cf=_u;class lf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nu.app();var r;cf(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new bh(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var hf;(hf=nu).INTERNAL.registerComponent(new da("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new of(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ou,PASSWORD_RESET:au,RECOVER_EMAIL:su,REVERT_SECOND_FACTOR_ADDITION:uu,VERIFY_AND_CHANGE_EMAIL:cu,VERIFY_EMAIL:lu}},EmailAuthProvider:Qc,FacebookAuthProvider:Zc,GithubAuthProvider:tl,GoogleAuthProvider:el,OAuthProvider:Jc,SAMLAuthProvider:rl,PhoneAuthProvider:uf,PhoneMultiFactorGenerator:vd,RecaptchaVerifier:lf,TwitterAuthProvider:il,Auth:of,AuthCredential:Mc,Error:Zo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),hf.registerVersion("@firebase/auth-compat","0.5.12");var df,ff,pf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mf={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),u=o(1),c=o(16777216);function l(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(u)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(l(t))throw Error("division by zero");if(l(e))return new m(s,s);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!l(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);h(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);l(o)&&(o=u),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(l(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(l(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:l(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(l(this)||l(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var u=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=u*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=u*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ff=mf.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var u=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+u),n);8>u?(u=a(Math.pow(n,u)),i=i.j(u).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},df=mf.Integer=r}).apply("undefined"!==typeof pf?pf:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var gf,yf,vf,bf,wf,xf,Sf,_f,Ef,kf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Of={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof kf&&kf];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function u(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:u).apply(null,arguments)}function l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new O),(e=>e.reset()));class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},C=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(FA){_(FA)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function j(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(FA){}return e}();function R(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}h(R,N);var M={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return H(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,u=Z(e);if(u||(e[$]=u=new V(e)),(n=u.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[$]=null)):B(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[$])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;x(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,u=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,j),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(e){j.call(this),this.h=e,this.g={}}h(ue,j);var ce=[];function le(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}ue.prototype.N=function(){ue.aa.N.call(this),le(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){N.call(this,"d")}function be(){N.call(this,"c")}h(ve,N),h(be,N);var we={},xe=null;function Se(){return xe=xe||new ne}function _e(e){N.call(this,we.La,e)}function Ee(e){const t=Se();re(t,new _e(t))}function ke(e,t){N.call(this,we.STAT_EVENT,e),this.stat=t}function Oe(e){const t=Se();re(t,new ke(t,e))}function Te(e,t){N.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ce(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(_e,N),we.STAT_EVENT="statevent",h(ke,N),we.Ma="timingevent",h(Te,N),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Pe,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||sn(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function He(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}nn(n),Oe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(l){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const l=c[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,u=r.L;u&&(s.I=u),s.B&&(We(s),qe(s)),r.g=a}else tn(r);0<n.i.length&&Yt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Ht(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(l){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==$t(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const d=$t(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=d||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var o=r.length,a=4==$t(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(u)){var l=u;break t}}l=null}if(!(n=l)){this.o=!1,this.s=3,Oe(12),Ge(this),Ke(this);break e}Ce(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,He(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==Fe){4==d&&(this.s=4,Oe(14),n=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Oe(15),Ce(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ce(this.i,this.l,e,null),He(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Oe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(h),h.M=!0,Oe(11))}}else Ce(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ce(this.i,this.l,s,null),He(this,s);4==d&&Ge(this),this.o&&!this.J&&(4==d?sn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=$t(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),Ge(this),Ke(this)}}}catch(d){}},Re.prototype.cancel=function(){this.J=!0,Ge(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Oe(17)),Ge(this),this.s=2,Ke(this)):$e(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,ut(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),ut(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ht(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){xt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return xt(e),t=kt(e,t),e.g.has(t)}function Et(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Tt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ct(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,_t(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(At,pe),At.prototype.g=function(){return new Ct(this.l,this.j)},At.prototype.i=function(e){return function(){return e}}({}),h(Ct,ne),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Nt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),zt(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=$t(e)||2!=e.Z()))if(e.u&&4==$t(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==$t(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Lt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<$t(e)?e.g.statusText:""}catch(u){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){qt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function $t(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Af){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ht(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Zt(e,n),(t=new Re(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}ln(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||C(),I||(T(),I=!0),A.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Rt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){lt(t,n,e)})),e.l&&rt({},(function(e,n){lt(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const u=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{It(u,e,"req"+n+"_")}catch(o){r&&r(u)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||C(),I||(T(),I=!0),A.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),un(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Be(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Te(r,n)),Yt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=l(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=l(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=l(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=l(Ot,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ot(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ot(0,0,!1,t)}))}(r.toString(),n)}else Oe(2);e.G=0,e.l&&e.l.sa(t),ln(e),Xt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ut(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&ut(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Zt(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch(VA){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(VA){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Oe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),lt(n=at(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Zt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Dt(o)))+"&"+t:this.m&&Rt(n,this.m,o)),et(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Ye(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Oe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ht(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Yt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,mn.aa.N.call(this)},h(gn,ve),h(yn,be),h(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ef=Of.createWebChannelTransport=function(){return new pn},_f=Of.getStatEventTarget=function(){return Se()},Sf=Of.Event=we,xf=Of.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,wf=Of.ErrorCode=je,Ne.COMPLETE="complete",bf=Of.EventType=Ne,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,vf=Of.WebChannel=ge,yf=Of.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,gf=Of.XhrIo=Mt}).apply("undefined"!==typeof kf?kf:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Tf="@firebase/firestore";class If{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}If.UNAUTHENTICATED=new If(null),If.GOOGLE_CREDENTIALS=new If("google-credentials-uid"),If.FIRST_PARTY=new If("first-party-uid"),If.MOCK_USER=new If("mock-user");let Af="10.13.0";const Cf=new Sa("@firebase/firestore");function Pf(){return Cf.logLevel}function jf(e){if(Cf.logLevel<=ya.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rf);Cf.debug(`Firestore (${Af}): ${e}`,...i)}}function Nf(e){if(Cf.logLevel<=ya.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rf);Cf.error(`Firestore (${Af}): ${e}`,...i)}}function Df(e){if(Cf.logLevel<=ya.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rf);Cf.warn(`Firestore (${Af}): ${e}`,...i)}}function Rf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Mf(){const e=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Nf(e),new Error(e)}function Lf(e,t){e||Mf()}function Ff(e,t){return e}const Uf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bf extends Zo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vf{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class zf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(If.UNAUTHENTICATED)))}shutdown(){}}class $f{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Wf{constructor(e){this.t=e,this.currentUser=If.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vf,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{jf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(jf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vf)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(jf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Lf("string"==typeof t.accessToken),new zf(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lf(null===e||"string"==typeof e),new If(e)}}class Kf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=If.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Kf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(If.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qf{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&jf("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,jf("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{jf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):jf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Lf("string"==typeof e.token),this.R=e.token,new Hf(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Yf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Xf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Jf(e,t){return e<t?-1:e>t?1:0}function Zf(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ep(e){return e+"\0"}class tp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bf(Uf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bf(Uf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bf(Uf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bf(Uf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tp.fromMillis(Date.now())}static fromDate(e){return tp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new tp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jf(this.nanoseconds,e.nanoseconds):Jf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class np{constructor(e){this.timestamp=e}static fromTimestamp(e){return new np(e)}static min(){return new np(new tp(0,0))}static max(){return new np(new tp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rp{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mf(),void 0===n?n=e.length-t:n>e.length-t&&Mf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===rp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ip extends rp{construct(e,t,n){return new ip(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Bf(Uf.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new ip(e)}static emptyPath(){return new ip([])}}const op=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ap extends rp{construct(e,t,n){return new ap(e,t,n)}static isValidIdentifier(e){return op.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ap.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ap(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Bf(Uf.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bf(Uf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bf(Uf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Bf(Uf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ap(t)}static emptyPath(){return new ap([])}}class sp{constructor(e){this.path=e}static fromPath(e){return new sp(ip.fromString(e))}static fromName(e){return new sp(ip.fromString(e).popFirst(5))}static empty(){return new sp(ip.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ip.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ip.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sp(new ip(e.slice()))}}class up{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function cp(e){return e.fields.find((e=>2===e.kind))}function lp(e){return e.fields.filter((e=>2!==e.kind))}up.UNKNOWN_ID=-1;class hp{constructor(e,t){this.fieldPath=e,this.kind=t}}class dp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dp(0,mp.min())}}function fp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=np.fromTimestamp(1e9===r?new tp(n+1,0):new tp(n,r));return new mp(i,sp.empty(),t)}function pp(e){return new mp(e.readTime,e.key,-1)}class mp{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new mp(np.min(),sp.empty(),-1)}static max(){return new mp(np.max(),sp.empty(),-1)}}function gp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=sp.comparator(e.documentKey,t.documentKey),0!==n?n:Jf(e.largestBatchId,t.largestBatchId))}const yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bp(e){if(e.code!==Uf.FAILED_PRECONDITION||e.message!==yp)throw e;jf("LocalStore","Unexpectedly lost primary lease")}class wp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new wp(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof wp?t:wp.resolve(t)}catch(e){return wp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):wp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):wp.reject(t)}static resolve(e){return new wp(((t,n)=>{t(e)}))}static reject(e){return new wp(((t,n)=>{n(e)}))}static waitFor(e){return new wp(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=wp.resolve(!1);for(const n of e)t=t.next((e=>e?wp.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new wp(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const u=s;t(e[u]).next((e=>{o[u]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new wp(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class xp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Vf,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new kp(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Cp(t.target.error);this.V.reject(new kp(e,n))}}static open(e,t,n,r){try{return new xp(t,e.transaction(r,n))}catch(e){throw new kp(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(jf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Tp(t)}}class Sp{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Sp.S(Wo())&&Nf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return jf("SimpleDb","Removing database:",e),Ip(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Jo())return!1;if(Sp.v())return!0;const e=Wo(),t=Sp.S(e),n=0<t&&t<10,r=_p(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(jf("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new kp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Bf(Uf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Bf(Uf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new kp(e,r))},r.onupgradeneeded=e=>{jf("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{jf("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=xp.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),wp.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(jf("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function _p(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Ep{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ip(this.B.delete())}}class kp extends Bf{constructor(e,t){super(Uf.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Op(e){return"IndexedDbTransactionError"===e.name}class Tp{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(jf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ip(n)}add(e){return jf("SimpleDb","ADD",this.store.name,e,e),Ip(this.store.add(e))}get(e){return Ip(this.store.get(e)).next((t=>(void 0===t&&(t=null),jf("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return jf("SimpleDb","DELETE",this.store.name,e),Ip(this.store.delete(e))}count(){return jf("SimpleDb","COUNT",this.store.name),Ip(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new wp(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new wp(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){jf("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new wp(((n,r)=>{t.onerror=e=>{const t=Cp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new wp(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Ep(i),a=t(i.primaryKey,i.value,o);if(a instanceof wp){const e=a.catch((e=>(o.done(),wp.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>wp.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ip(e){return new wp(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Cp(e.target.error);n(t)}}))}let Ap=!1;function Cp(e){const t=Sp.S(Wo());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Bf("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ap||(Ap=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Pp{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){jf("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{jf("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){Op(e)?jf("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await bp(e)}await this.X(6e4)}))}}class jp{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return wp.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return jf("IndexBackfiller",`Processing collection: ${t}`),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(jf("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=pp(t);gp(r,n)>0&&(n=r)})),new mp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Np{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Dp(e){return null==e}function Rp(e){return 0===e&&1/e==-1/0}function Mp(e){return"number"==typeof e&&Number.isInteger(e)&&!Rp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Lp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Up(t)),t=Fp(e.get(n),t);return Up(t)}function Fp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Up(e){return e+"\x01\x01"}function Bp(e){const t=e.length;if(Lf(t>=2),2===t)return Lf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ip.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Mf(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Mf()}o=t+2}return new ip(r)}Np.oe=-1;const Vp=["userId","batchId"];function zp(e,t){return[e,Lp(t)]}function qp(e,t,n){return[e,Lp(t),n]}const $p={},Wp=["prefixPath","collectionGroup","readTime","documentId"],Kp=["prefixPath","collectionGroup","documentId"],Gp=["collectionGroup","readTime","prefixPath","documentId"],Hp=["canonicalId","targetId"],Qp=["targetId","path"],Xp=["path","targetId"],Yp=["collectionId","parent"],Jp=["indexId","uid"],Zp=["uid","sequenceNumber"],em=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tm=["indexId","uid","orderedDocumentKey"],nm=["userId","collectionPath","documentId"],rm=["userId","collectionPath","largestBatchId"],im=["userId","collectionGroup","largestBatchId"],om=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],am=[...om,"documentOverlays"],sm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],um=sm,cm=[...um,"indexConfiguration","indexState","indexEntries"],lm=cm,hm=[...cm,"globals"];class dm extends vp{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function fm(e,t){const n=Ff(e);return Sp.F(n._e,t)}function pm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ym{constructor(e,t){this.comparator=e,this.root=t||bm.EMPTY}insert(e,t){return new ym(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bm.BLACK,null,null))}remove(e){return new ym(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vm(this.root,e,this.comparator,!1)}getReverseIterator(){return new vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vm(this.root,e,this.comparator,!0)}}class vm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:bm.RED,this.left=null!=r?r:bm.EMPTY,this.right=null!=i?i:bm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new bm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return bm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mf();if(this.right.isRed())throw Mf();const e=this.left.check();if(e!==this.right.check())throw Mf();return e+(this.isRed()?0:1)}}bm.EMPTY=null,bm.RED=!0,bm.BLACK=!1,bm.EMPTY=new class{constructor(){this.size=0}get key(){throw Mf()}get value(){throw Mf()}get color(){throw Mf()}get left(){throw Mf()}get right(){throw Mf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new bm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wm{constructor(e){this.comparator=e,this.data=new ym(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xm(this.data.getIterator())}getIteratorFrom(e){return new xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof wm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wm(this.comparator);return t.data=e,t}}class xm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sm(e){return e.hasNext()?e.getNext():void 0}class _m{constructor(e){this.fields=e,e.sort(ap.comparator)}static empty(){return new _m([])}unionWith(e){let t=new wm(ap.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _m(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Em extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class km{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Em("Invalid base64 string: "+e):e}}(e);return new km(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new km(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}km.EMPTY_BYTE_STRING=new km("");const Om=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tm(e){if(Lf(!!e),"string"==typeof e){let t=0;const n=Om.exec(e);if(Lf(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Im(e.seconds),nanos:Im(e.nanos)}}function Im(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Am(e){return"string"==typeof e?km.fromBase64String(e):km.fromUint8Array(e)}function Cm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pm(e){const t=e.mapValue.fields.__previous_value__;return Cm(t)?Pm(t):t}function jm(e){const t=Tm(e.mapValue.fields.__local_write_time__.timestampValue);return new tp(t.seconds,t.nanos)}class Nm{constructor(e,t,n,r,i,o,a,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=u}}class Dm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dm&&e.projectId===this.projectId&&e.database===this.database}}const Rm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mm={nullValue:"NULL_VALUE"};function Lm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cm(e)?4:Zm(e)?9007199254740991:Ym(e)?10:11:Mf()}function Fm(e,t){if(e===t)return!0;const n=Lm(e);if(n!==Lm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jm(e).isEqual(jm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Tm(e.timestampValue),r=Tm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Am(e.bytesValue).isEqual(Am(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Im(e.geoPointValue.latitude)===Im(t.geoPointValue.latitude)&&Im(e.geoPointValue.longitude)===Im(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Im(e.integerValue)===Im(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Im(e.doubleValue),r=Im(t.doubleValue);return n===r?Rp(n)===Rp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zf(e.arrayValue.values||[],t.arrayValue.values||[],Fm);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pm(n)!==pm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fm(n[i],r[i])))return!1;return!0}(e,t);default:return Mf()}}function Um(e,t){return void 0!==(e.values||[]).find((e=>Fm(e,t)))}function Bm(e,t){if(e===t)return 0;const n=Lm(e),r=Lm(t);if(n!==r)return Jf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Im(e.integerValue||e.doubleValue),r=Im(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vm(e.timestampValue,t.timestampValue);case 4:return Vm(jm(e),jm(t));case 5:return Jf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Am(e),r=Am(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Jf(n[i],r[i]);if(0!==e)return e}return Jf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Jf(Im(e.latitude),Im(t.latitude));return 0!==n?n:Jf(Im(e.longitude),Im(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zm(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},u=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,l=Jf((null===(i=null==u?void 0:u.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==l?l:zm(u,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Rm.mapValue&&t===Rm.mapValue)return 0;if(e===Rm.mapValue)return 1;if(t===Rm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Jf(r[a],o[a]);if(0!==e)return e;const t=Bm(n[r[a]],i[o[a]]);if(0!==t)return t}return Jf(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Mf()}}function Vm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jf(e,t);const n=Tm(e),r=Tm(t),i=Jf(n.seconds,r.seconds);return 0!==i?i:Jf(n.nanos,r.nanos)}function zm(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bm(n[i],r[i]);if(e)return e}return Jf(n.length,r.length)}function qm(e){return $m(e)}function $m(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Tm(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Am(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return sp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$m(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${$m(e.fields[i])}`;return n+"}"}(e.mapValue):Mf()}function Wm(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Km(e){return!!e&&"integerValue"in e}function Gm(e){return!!e&&"arrayValue"in e}function Hm(e){return!!e&&"nullValue"in e}function Qm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xm(e){return!!e&&"mapValue"in e}function Ym(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Jm(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jm(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const eg={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function tg(e){return"nullValue"in e?Mm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Wm(Dm.empty(),sp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Ym(e)?eg:{mapValue:{}}:Mf()}function ng(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Wm(Dm.empty(),sp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?eg:"mapValue"in e?Ym(e)?{mapValue:{}}:Rm:Mf()}function rg(e,t){const n=Bm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ig(e,t){const n=Bm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class og{constructor(e){this.value=e}static empty(){return new og({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jm(t)}setAll(e){let t=ap.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Jm(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){mm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new og(Jm(this.value))}}function ag(e){const t=[];return mm(e.fields,((e,n)=>{const r=new ap([e]);if(Xm(n)){const e=ag(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new _m(t)}class sg{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sg(e,0,np.min(),np.min(),np.min(),og.empty(),0)}static newFoundDocument(e,t,n,r){return new sg(e,1,t,np.min(),n,r,0)}static newNoDocument(e,t){return new sg(e,2,t,np.min(),np.min(),og.empty(),0)}static newUnknownDocument(e,t){return new sg(e,3,t,np.min(),np.min(),og.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(np.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=og.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=og.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=np.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ug{constructor(e,t){this.position=e,this.inclusive=t}}function cg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?sp.comparator(sp.fromName(a.referenceValue),n.key):Bm(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function lg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fm(e.position[n],t.position[n]))return!1;return!0}class hg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function dg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fg{}class pg extends fg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Eg(e,t,n):"array-contains"===t?new Ig(e,n):"in"===t?new Ag(e,n):"not-in"===t?new Cg(e,n):"array-contains-any"===t?new Pg(e,n):new pg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kg(e,n):new Og(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bm(t,this.value)):null!==t&&Lm(this.value)===Lm(t)&&this.matchesComparison(Bm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mg extends fg{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new mg(e,t)}matches(e){return gg(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gg(e){return"and"===e.op}function yg(e){return"or"===e.op}function vg(e){return bg(e)&&gg(e)}function bg(e){for(const t of e.filters)if(t instanceof mg)return!1;return!0}function wg(e){if(e instanceof pg)return e.field.canonicalString()+e.op.toString()+qm(e.value);if(vg(e))return e.filters.map((e=>wg(e))).join(",");{const t=e.filters.map((e=>wg(e))).join(",");return`${e.op}(${t})`}}function xg(e,t){return e instanceof pg?function(e,t){return t instanceof pg&&e.op===t.op&&e.field.isEqual(t.field)&&Fm(e.value,t.value)}(e,t):e instanceof mg?function(e,t){return t instanceof mg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&xg(n,t.filters[r])),!0)}(e,t):void Mf()}function Sg(e,t){const n=e.filters.concat(t);return mg.create(n,e.op)}function _g(e){return e instanceof pg?function(e){return`${e.field.canonicalString()} ${e.op} ${qm(e.value)}`}(e):e instanceof mg?function(e){return e.op.toString()+" {"+e.getFilters().map(_g).join(" ,")+"}"}(e):"Filter"}class Eg extends pg{constructor(e,t,n){super(e,t,n),this.key=sp.fromName(n.referenceValue)}matches(e){const t=sp.comparator(e.key,this.key);return this.matchesComparison(t)}}class kg extends pg{constructor(e,t){super(e,"in",t),this.keys=Tg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Og extends pg{constructor(e,t){super(e,"not-in",t),this.keys=Tg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Tg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>sp.fromName(e.referenceValue)))}class Ig extends pg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gm(t)&&Um(t.arrayValue,this.value)}}class Ag extends pg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Um(this.value.arrayValue,t)}}class Cg extends pg{constructor(e,t){super(e,"not-in",t)}matches(e){if(Um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Um(this.value.arrayValue,t)}}class Pg extends pg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Um(this.value.arrayValue,e)))}}class jg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Ng(e){return new jg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Dg(e){const t=Ff(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>wg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Dp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>qm(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>qm(e))).join(",")),t.ue=e}return t.ue}function Rg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lg(e.startAt,t.startAt)&&lg(e.endAt,t.endAt)}function Mg(e){return sp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Lg(e,t){return e.filters.filter((e=>e instanceof pg&&e.field.isEqual(t)))}function Fg(e,t,n){let r=Mm,i=!0;for(const o of Lg(e,t)){let e=Mm,t=!0;switch(o.op){case"<":case"<=":e=tg(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Mm}rg({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];rg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ug(e,t,n){let r=Rm,i=!0;for(const o of Lg(e,t)){let e=Rm,t=!0;switch(o.op){case">=":case">":e=ng(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Rm}ig({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ig({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Bg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Vg(e,t,n,r,i,o,a,s){return new Bg(e,t,n,r,i,o,a,s)}function zg(e){return new Bg(e)}function qg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $g(e){return null!==e.collectionGroup}function Wg(e){const t=Ff(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new wm(ap.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new hg(r,n))})),e.has(ap.keyField().canonicalString())||t.ce.push(new hg(ap.keyField(),n))}return t.ce}function Kg(e){const t=Ff(e);return t.le||(t.le=Gg(t,Wg(e))),t.le}function Gg(e,t){if("F"===e.limitType)return Ng(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new hg(e.field,t)}));const n=e.endAt?new ug(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ug(e.startAt.position,e.startAt.inclusive):null;return Ng(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Hg(e,t){const n=e.filters.concat([t]);return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qg(e,t,n){return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xg(e,t){return Rg(Kg(e),Kg(t))&&e.limitType===t.limitType}function Yg(e){return`${Dg(Kg(e))}|lt:${e.limitType}`}function Jg(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>_g(e))).join(", ")}]`),Dp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>qm(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>qm(e))).join(",")),`Target(${t})`}(Kg(e))}; limitType=${e.limitType})`}function Zg(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Wg(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wg(e),t))&&!(e.endAt&&!function(e,t,n){const r=cg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wg(e),t))}(e,t)}function ey(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ty(e){return(t,n)=>{let r=!1;for(const i of Wg(e)){const e=ny(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ny(e,t,n){const r=e.field.isKeyField()?sp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bm(r,i):Mf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mf()}}class ry{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){mm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return gm(this.inner)}size(){return this.innerSize}}const iy=new ym(sp.comparator);function oy(){return iy}const ay=new ym(sp.comparator);function sy(){let e=ay;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function uy(e){let t=ay;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function cy(){return hy()}function ly(){return hy()}function hy(){return new ry((e=>e.toString()),((e,t)=>e.isEqual(t)))}const dy=new ym(sp.comparator),fy=new wm(sp.comparator);function py(){let e=fy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const my=new wm(Jf);function gy(){return my}function yy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(t)?"-0":t}}function vy(e){return{integerValue:""+e}}function by(e,t){return Mp(t)?vy(t):yy(e,t)}class wy{constructor(){this._=void 0}}function xy(e,t,n){return e instanceof Ey?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Cm(t)&&(t=Pm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ky?Oy(e,t):e instanceof Ty?Iy(e,t):function(e,t){const n=_y(e,t),r=Cy(n)+Cy(e.Pe);return Km(n)&&Km(e.Pe)?vy(r):yy(e.serializer,r)}(e,t)}function Sy(e,t,n){return e instanceof ky?Oy(e,t):e instanceof Ty?Iy(e,t):n}function _y(e,t){return e instanceof Ay?function(e){return Km(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ey extends wy{}class ky extends wy{constructor(e){super(),this.elements=e}}function Oy(e,t){const n=Py(t);for(const r of e.elements)n.some((e=>Fm(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ty extends wy{constructor(e){super(),this.elements=e}}function Iy(e,t){let n=Py(t);for(const r of e.elements)n=n.filter((e=>!Fm(e,r)));return{arrayValue:{values:n}}}class Ay extends wy{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Cy(e){return Im(e.integerValue||e.doubleValue)}function Py(e){return Gm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class jy{constructor(e,t){this.field=e,this.transform=t}}class Ny{constructor(e,t){this.version=e,this.transformResults=t}}class Dy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dy}static exists(e){return new Dy(void 0,e)}static updateTime(e){return new Dy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ry(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class My{}function Ly(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gy(e.key,Dy.none()):new zy(e.key,e.data,Dy.none());{const n=e.data,r=og.empty();let i=new wm(ap.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new qy(e.key,r,new _m(i.toArray()),Dy.none())}}function Fy(e,t,n){e instanceof zy?function(e,t,n){const r=e.value.clone(),i=Wy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qy?function(e,t,n){if(!Ry(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($y(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Uy(e,t,n,r){return e instanceof zy?function(e,t,n,r){if(!Ry(e.precondition,t))return n;const i=e.value.clone(),o=Ky(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qy?function(e,t,n,r){if(!Ry(e.precondition,t))return n;const i=Ky(e.fieldTransforms,r,t),o=t.data;return o.setAll($y(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ry(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function By(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_y(r.transform,e||null);null!=i&&(null===n&&(n=og.empty()),n.set(r.field,i))}return n||null}function Vy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zf(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ky&&t instanceof ky||e instanceof Ty&&t instanceof Ty?Zf(e.elements,t.elements,Fm):e instanceof Ay&&t instanceof Ay?Fm(e.Pe,t.Pe):e instanceof Ey&&t instanceof Ey}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zy extends My{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qy extends My{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $y(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Wy(e,t,n){const r=new Map;Lf(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Sy(a,s,n[i]))}return r}function Ky(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,xy(e,o,t))}return r}class Gy extends My{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hy extends My{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qy{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fy(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Uy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Uy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ly();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Ly(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(np.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),py())}isEqual(e){return this.batchId===e.batchId&&Zf(this.mutations,e.mutations,((e,t)=>Vy(e,t)))&&Zf(this.baseMutations,e.baseMutations,((e,t)=>Vy(e,t)))}}class Xy{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Lf(e.mutations.length===n.length);let r=dy;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Xy(e,t,n,r)}}class Yy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jy{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zy,ev;function tv(e){switch(e){default:return Mf();case Uf.CANCELLED:case Uf.UNKNOWN:case Uf.DEADLINE_EXCEEDED:case Uf.RESOURCE_EXHAUSTED:case Uf.INTERNAL:case Uf.UNAVAILABLE:case Uf.UNAUTHENTICATED:return!1;case Uf.INVALID_ARGUMENT:case Uf.NOT_FOUND:case Uf.ALREADY_EXISTS:case Uf.PERMISSION_DENIED:case Uf.FAILED_PRECONDITION:case Uf.ABORTED:case Uf.OUT_OF_RANGE:case Uf.UNIMPLEMENTED:case Uf.DATA_LOSS:return!0}}function nv(e){if(void 0===e)return Nf("GRPC error has no .code"),Uf.UNKNOWN;switch(e){case Zy.OK:return Uf.OK;case Zy.CANCELLED:return Uf.CANCELLED;case Zy.UNKNOWN:return Uf.UNKNOWN;case Zy.DEADLINE_EXCEEDED:return Uf.DEADLINE_EXCEEDED;case Zy.RESOURCE_EXHAUSTED:return Uf.RESOURCE_EXHAUSTED;case Zy.INTERNAL:return Uf.INTERNAL;case Zy.UNAVAILABLE:return Uf.UNAVAILABLE;case Zy.UNAUTHENTICATED:return Uf.UNAUTHENTICATED;case Zy.INVALID_ARGUMENT:return Uf.INVALID_ARGUMENT;case Zy.NOT_FOUND:return Uf.NOT_FOUND;case Zy.ALREADY_EXISTS:return Uf.ALREADY_EXISTS;case Zy.PERMISSION_DENIED:return Uf.PERMISSION_DENIED;case Zy.FAILED_PRECONDITION:return Uf.FAILED_PRECONDITION;case Zy.ABORTED:return Uf.ABORTED;case Zy.OUT_OF_RANGE:return Uf.OUT_OF_RANGE;case Zy.UNIMPLEMENTED:return Uf.UNIMPLEMENTED;case Zy.DATA_LOSS:return Uf.DATA_LOSS;default:return Mf()}}(ev=Zy||(Zy={}))[ev.OK=0]="OK",ev[ev.CANCELLED=1]="CANCELLED",ev[ev.UNKNOWN=2]="UNKNOWN",ev[ev.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ev[ev.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ev[ev.NOT_FOUND=5]="NOT_FOUND",ev[ev.ALREADY_EXISTS=6]="ALREADY_EXISTS",ev[ev.PERMISSION_DENIED=7]="PERMISSION_DENIED",ev[ev.UNAUTHENTICATED=16]="UNAUTHENTICATED",ev[ev.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ev[ev.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ev[ev.ABORTED=10]="ABORTED",ev[ev.OUT_OF_RANGE=11]="OUT_OF_RANGE",ev[ev.UNIMPLEMENTED=12]="UNIMPLEMENTED",ev[ev.INTERNAL=13]="INTERNAL",ev[ev.UNAVAILABLE=14]="UNAVAILABLE",ev[ev.DATA_LOSS=15]="DATA_LOSS";let rv=null;function iv(){return new TextEncoder}const ov=new df([4294967295,4294967295],0);function av(e){const t=iv().encode(e),n=new ff;return n.update(t),new Uint8Array(n.digest())}function sv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new df([n,r],0),new df([i,o],0)]}class uv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cv(`Invalid padding: ${t}`);if(n<0)throw new cv(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new cv(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new cv(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=df.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(df.fromNumber(n)));return 1===r.compare(ov)&&(r=new df([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=av(e),[n,r]=sv(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new uv(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=av(e),[n,r]=sv(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,hv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new lv(np.min(),r,new ym(Jf),oy(),py())}}class hv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hv(n,t,py(),py(),py())}}class dv{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class fv{constructor(e,t){this.targetId=e,this.me=t}}class pv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:km.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class mv{constructor(){this.fe=0,this.ge=vv(),this.pe=km.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=py(),t=py(),n=py();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mf()}})),new hv(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=vv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Lf(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gv{constructor(e){this.Le=e,this.Be=new Map,this.ke=oy(),this.qe=yv(),this.Qe=new ym(Jf)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Mf()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Mg(i))if(0===n){const e=new sp(i.path);this.Ue(t,e,sg.newNoDocument(e,np.min()))}else Lf(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==rv||rv.et(function(e,t,n,r,i){var o,a,s,u,c,l;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(u=null===(s=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Am(n).toUint8Array()}catch(e){if(e instanceof Em)return Df("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new uv(o,r,i)}catch(e){return Df(e instanceof cv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Mg(i.target)){const t=new sp(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,sg.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=py();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new lv(e,t,this.Qe,this.ke,n);return this.ke=oy(),this.qe=yv(),this.Qe=new ym(Jf),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new mv,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new wm(Jf),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||jf("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mv),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function yv(){return new ym(sp.comparator)}function vv(){return new ym(sp.comparator)}const bv={asc:"ASCENDING",desc:"DESCENDING"},wv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xv={and:"AND",or:"OR"};class Sv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _v(e,t){return e.useProto3Json||Dp(t)?t:{value:t}}function Ev(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ov(e,t){return Ev(e,t.toTimestamp())}function Tv(e){return Lf(!!e),np.fromTimestamp(function(e){const t=Tm(e);return new tp(t.seconds,t.nanos)}(e))}function Iv(e,t){return Av(e,t).canonicalString()}function Av(e,t){const n=function(e){return new ip(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cv(e){const t=ip.fromString(e);return Lf(Jv(t)),t}function Pv(e,t){return Iv(e.databaseId,t.path)}function jv(e,t){const n=Cv(t);if(n.get(1)!==e.databaseId.projectId)throw new Bf(Uf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bf(Uf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sp(Mv(n))}function Nv(e,t){return Iv(e.databaseId,t)}function Dv(e){const t=Cv(e);return 4===t.length?ip.emptyPath():Mv(t)}function Rv(e){return new ip(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mv(e){return Lf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lv(e,t,n){return{name:Pv(e,t),fields:n.value.mapValue.fields}}function Fv(e,t,n){const r=jv(e,t.name),i=Tv(t.updateTime),o=t.createTime?Tv(t.createTime):np.min(),a=new og({mapValue:{fields:t.fields}}),s=sg.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Uv(e,t){let n;if(t instanceof zy)n={update:Lv(e,t.key,t.value)};else if(t instanceof Gy)n={delete:Pv(e,t.key)};else if(t instanceof qy)n={update:Lv(e,t.key,t.data),updateMask:Yv(t.fieldMask)};else{if(!(t instanceof Hy))return Mf();n={verify:Pv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ey)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ky)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ty)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ay)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Mf()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ov(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mf()}(e,t.precondition)),n}function Bv(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Dy.updateTime(Tv(e.updateTime)):void 0!==e.exists?Dy.exists(e.exists):Dy.none()}(t.currentDocument):Dy.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Lf("REQUEST_TIME"===t.setToServerValue),n=new Ey;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ky(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ty(e)}else"increment"in t?n=new Ay(e,t.increment):Mf();const r=ap.fromServerFormat(t.fieldPath);return new jy(r,n)}(e,t))):[];if(t.update){t.update.name;const i=jv(e,t.update.name),o=new og({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new _m(t.map((e=>ap.fromServerFormat(e))))}(t.updateMask);return new qy(i,o,e,n,r)}return new zy(i,o,n,r)}if(t.delete){const r=jv(e,t.delete);return new Gy(r,n)}if(t.verify){const r=jv(e,t.verify);return new Hy(r,n)}return Mf()}function Vv(e,t){return{documents:[Nv(e,t.path)]}}function zv(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nv(e,i);const o=function(e){if(0!==e.length)return Xv(mg.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Hv(e.field),direction:Wv(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=_v(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function qv(e){let t=Dv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lf(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=$v(e);return t instanceof mg&&vg(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new hg(Qv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Dp(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new ug(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ug(n,t)}(n.endAt)),Vg(t,i,a,o,s,"F",u,c)}function $v(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qv(e.unaryFilter.field);return pg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Qv(e.unaryFilter.field);return pg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qv(e.unaryFilter.field);return pg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Qv(e.unaryFilter.field);return pg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mf()}}(e):void 0!==e.fieldFilter?function(e){return pg.create(Qv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mg.create(e.compositeFilter.filters.map((e=>$v(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mf()}}(e.compositeFilter.op))}(e):Mf()}function Wv(e){return bv[e]}function Kv(e){return wv[e]}function Gv(e){return xv[e]}function Hv(e){return{fieldPath:e.canonicalString()}}function Qv(e){return ap.fromServerFormat(e.fieldPath)}function Xv(e){return e instanceof pg?function(e){if("=="===e.op){if(Qm(e.value))return{unaryFilter:{field:Hv(e.field),op:"IS_NAN"}};if(Hm(e.value))return{unaryFilter:{field:Hv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qm(e.value))return{unaryFilter:{field:Hv(e.field),op:"IS_NOT_NAN"}};if(Hm(e.value))return{unaryFilter:{field:Hv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hv(e.field),op:Kv(e.op),value:e.value}}}(e):e instanceof mg?function(e){const t=e.getFilters().map((e=>Xv(e)));return 1===t.length?t[0]:{compositeFilter:{op:Gv(e.op),filters:t}}}(e):Mf()}function Yv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Jv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:np.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:np.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:km.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Zv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eb{constructor(e){this.ct=e}}function tb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ev(e,t.version.toTimestamp()),createTime:Ev(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rb(t.version)};else{if(!t.isUnknownDocument())return Mf();r.unknownDocument={path:n.path.toArray(),version:rb(t.version)}}return r}function nb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ib(e){const t=new tp(e.seconds,e.nanoseconds);return np.fromTimestamp(t)}function ob(e,t){const n=(t.baseMutations||[]).map((t=>Bv(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Bv(e.ct,t))),i=tp.fromMillis(t.localWriteTimeMs);return new Qy(t.batchId,i,n,r)}function ab(e){const t=ib(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ib(e.lastLimboFreeSnapshotVersion):np.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Lf(1===e.documents.length),Kg(zg(Dv(e.documents[0])))}(e.query):function(e){return Kg(qv(e))}(e.query),new Zv(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,km.fromBase64String(e.resumeToken))}function sb(e,t){const n=rb(t.snapshotVersion),r=rb(t.lastLimboFreeSnapshotVersion);let i;i=Mg(t.target)?Vv(e.ct,t.target):zv(e.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Dg(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ub(e){const t=qv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qg(t,t.limit,"L"):t}function cb(e,t){return new Yy(t.largestBatchId,Bv(e.ct,t.overlayMutation))}function lb(e,t){const n=t.path.lastSegment();return[e,Lp(t.path.popLast()),n]}function hb(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:rb(r.readTime),documentKey:Lp(r.documentKey.path),largestBatchId:r.largestBatchId}}class db{getBundleMetadata(e,t){return fb(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ib(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return fb(e).put(function(e){return{bundleId:e.id,createTime:rb(Tv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return pb(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:ub(e.bundledQuery),readTime:ib(e.readTime)}}(e)}))}saveNamedQuery(e,t){return pb(e).put(function(e){return{name:e.name,readTime:rb(Tv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function fb(e){return fm(e,"bundles")}function pb(e){return fm(e,"namedQueries")}class mb{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new mb(e,n)}getOverlay(e,t){return gb(e).get(lb(this.userId,t)).next((e=>e?cb(this.serializer,e):null))}getOverlays(e,t){const n=cy();return wp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Yy(t,i);r.push(this.ht(e,o))})),wp.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Lp(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(gb(e).j("collectionPathOverlayIndex",r))})),wp.waitFor(i)}getOverlaysForCollection(e,t,n){const r=cy(),i=Lp(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return gb(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=cb(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=cy();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gb(e).J({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=cb(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return gb(e).put(function(e,t,n){const[r,i,o]=lb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Uv(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function gb(e){return fm(e,"documentOverlays")}class yb{Pt(e){return fm(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?km.fromUint8Array(t):km.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class vb{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Im(e.integerValue));else if("doubleValue"in e){const n=Im(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Rp(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Tm(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Am(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Zm(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Ym(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Mf()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Im(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),sp.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}function bb(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function wb(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=bb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}vb.vt=new vb;class xb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ot(n.value),n=t.next();this.Nt()}Lt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Bt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ot(e);else if(e<2048)this.Ot(960|e>>>6),this.Ot(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e);else{const e=t.codePointAt(0);this.Ot(240|e>>>18),this.Ot(128|63&e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e)}}this.Nt()}kt(e){const t=this.qt(e),n=wb(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){const t=this.qt(e),n=wb(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Sb{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class _b{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Eb{constructor(){this.jt=new xb,this.Ht=new Sb(this.jt),this.Jt=new _b(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class kb{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new kb(this.indexId,this.documentKey,this.arrayValue,n)}}function Ob(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Tb(e.arrayValue,t.arrayValue),0!==n?n:(n=Tb(e.directionalValue,t.directionalValue),0!==n?n:sp.comparator(e.documentKey,t.documentKey)))}function Tb(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Ib{constructor(e){this.Xt=new wm(((e,t)=>ap.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const e=t;e.isInequality()?this.Xt=this.Xt.add(e):this.tn.push(e)}}get nn(){return this.Xt.size>1}rn(e){if(Lf(e.collectionGroup===this.collectionId),this.nn)return!1;const t=cp(e);if(void 0!==t&&!this.sn(t))return!1;const n=lp(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.sn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Xt.size>0){const e=this.Xt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.on(e,t)||!this._n(this.en[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.en.length||!this._n(this.en[o++],e))return!1}return!0}an(){if(this.nn)return null;let e=new wm(ap.comparator);const t=[];for(const n of this.tn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new hp(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new hp(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new hp(n.field,"asc"===n.dir?0:1)));return new up(up.UNKNOWN_ID,this.collectionId,t,dp.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ab(e){var t,n;if(Lf(e instanceof pg||e instanceof mg),e instanceof pg){if(e instanceof Ag){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>pg.create(e.field,"==",t))))||[];return mg.create(r,"or")}return e}const r=e.filters.map((e=>Ab(e)));return mg.create(r,e.op)}function Cb(e){if(0===e.getFilters().length)return[];const t=Db(Ab(e));return Lf(Nb(t)),Pb(t)||jb(t)?[t]:t.getFilters()}function Pb(e){return e instanceof pg}function jb(e){return e instanceof mg&&vg(e)}function Nb(e){return Pb(e)||jb(e)||function(e){if(e instanceof mg&&yg(e)){for(const t of e.getFilters())if(!Pb(t)&&!jb(t))return!1;return!0}return!1}(e)}function Db(e){if(Lf(e instanceof pg||e instanceof mg),e instanceof pg)return e;if(1===e.filters.length)return Db(e.filters[0]);const t=e.filters.map((e=>Db(e)));let n=mg.create(t,e.op);return n=Lb(n),Nb(n)?n:(Lf(n instanceof mg),Lf(gg(n)),Lf(n.filters.length>1),n.filters.reduce(((e,t)=>Rb(e,t))))}function Rb(e,t){let n;return Lf(e instanceof pg||e instanceof mg),Lf(t instanceof pg||t instanceof mg),n=e instanceof pg?t instanceof pg?function(e,t){return mg.create([e,t],"and")}(e,t):Mb(e,t):t instanceof pg?Mb(t,e):function(e,t){if(Lf(e.filters.length>0&&t.filters.length>0),gg(e)&&gg(t))return Sg(e,t.getFilters());const n=yg(e)?e:t,r=yg(e)?t:e,i=n.filters.map((e=>Rb(e,r)));return mg.create(i,"or")}(e,t),Lb(n)}function Mb(e,t){if(gg(t))return Sg(t,e.getFilters());{const n=t.filters.map((t=>Rb(e,t)));return mg.create(n,"or")}}function Lb(e){if(Lf(e instanceof pg||e instanceof mg),e instanceof pg)return e;const t=e.getFilters();if(1===t.length)return Lb(t[0]);if(bg(e))return e;const n=t.map((e=>Lb(e))),r=[];return n.forEach((t=>{t instanceof pg?r.push(t):t instanceof mg&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:mg.create(r,e.op)}class Fb{constructor(){this.un=new Ub}addToCollectionParentIndex(e,t){return this.un.add(t),wp.resolve()}getCollectionParents(e,t){return wp.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return wp.resolve()}deleteFieldIndex(e,t){return wp.resolve()}deleteAllFieldIndexes(e){return wp.resolve()}createTargetIndexes(e,t){return wp.resolve()}getDocumentsMatchingTarget(e,t){return wp.resolve(null)}getIndexType(e,t){return wp.resolve(0)}getFieldIndexes(e,t){return wp.resolve([])}getNextCollectionGroupToUpdate(e){return wp.resolve(null)}getMinOffset(e,t){return wp.resolve(mp.min())}getMinOffsetFromCollectionGroup(e,t){return wp.resolve(mp.min())}updateCollectionGroup(e,t,n){return wp.resolve()}updateIndexEntries(e,t){return wp.resolve()}}class Ub{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wm(ip.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new wm(ip.comparator)).toArray()}}const Bb=new Uint8Array(0);class Vb{constructor(e,t){this.databaseId=t,this.cn=new Ub,this.ln=new ry((e=>Dg(e)),((e,t)=>Rg(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.cn.add(t)}));const i={collectionId:n,parent:Lp(r)};return zb(e).put(i)}return wp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ep(t),""],!1,!0);return zb(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Bp(r.parent))}return n}))}addFieldIndex(e,t){const n=$b(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Wb(e);return i.next((e=>{n.put(hb(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=$b(e),r=Wb(e),i=qb(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=$b(e),n=qb(e),r=Wb(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return wp.forEach(this.hn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Ib(t).an();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=qb(e);let r=!0;const i=new Map;return wp.forEach(this.hn(t),(t=>this.Pn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=py();const r=[];return wp.forEach(i,((i,o)=>{jf("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${Dg(t)}`);const a=function(e,t){const n=cp(t);if(void 0===n)return null;for(const r of Lg(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),s=function(e,t){const n=new Map;for(const r of lp(t))for(const t of Lg(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of lp(t)){const t=0===i.kind?Fg(e,i.fieldPath,e.startAt):Ug(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ug(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of lp(t)){const t=0===i.kind?Ug(e,i.fieldPath,e.endAt):Fg(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ug(n,r)}(o,i),l=this.In(i,o,u),h=this.In(i,o,c),d=this.Tn(i,o,s),f=this.En(i.indexId,a,l,u.inclusive,h,c.inclusive,d);return wp.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=sp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return wp.resolve(null)}))}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:Cb(mg.create(e.filters,"and")).map((t=>Ng(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,t),t)}En(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),u=s/(null!=t?t.length:1),c=[];for(let l=0;l<s;++l){const s=t?this.dn(t[l/u]):Bb,h=this.An(e,s,n[l%u],r),d=this.Rn(e,s,i[l%u],o),f=a.map((t=>this.An(e,s,t,!0)));c.push(...this.createRange(h,d,f))}return c}An(e,t,n,r){const i=new kb(e,sp.empty(),t,n);return r?i:i.Zt()}Rn(e,t,n,r){const i=new kb(e,sp.empty(),t,n);return r?i.Zt():i}Pn(e,t){const n=new Ib(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.rn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.hn(t);return wp.forEach(r,(t=>this.Pn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new wm(ap.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}Vn(e,t){const n=new Eb;for(const r of lp(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Yt(r.kind);vb.vt.It(e,i)}return n.zt()}dn(e){const t=new Eb;return vb.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const n=new Eb;return vb.vt.It(Wm(this.databaseId,t),n.Yt(function(e){const t=lp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}Tn(e,t,n){if(null===n)return[];let r=[];r.push(new Eb);let i=0;for(const o of lp(e)){const e=n[i++];for(const n of r)if(this.fn(t,o.fieldPath)&&Gm(e))r=this.gn(r,o,e);else{const t=n.Yt(o.kind);vb.vt.It(e,t)}}return this.pn(r)}In(e,t,n){return this.Tn(e,t,n.position)}pn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].zt();return t}gn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Eb;n.seed(e.zt()),vb.vt.It(o,n.Yt(t.kind)),i.push(n)}return i}fn(e,t){return!!e.filters.find((e=>e instanceof pg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=$b(e),r=Wb(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return wp.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new dp(t.sequenceNumber,new mp(ib(t.readTime),new sp(Bp(t.documentKey)),t.largestBatchId)):dp.empty(),r=e.fields.map((e=>{let[t,n]=e;return new hp(ap.fromServerFormat(t),n)}));return new up(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Jf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=$b(e),i=Wb(e);return this.yn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>wp.forEach(t,(t=>i.put(hb(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return wp.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?wp.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),wp.forEach(i,(n=>this.wn(e,t,n).next((t=>{const i=this.Sn(r,n);return t.isEqual(i)?wp.resolve():this.bn(e,r,n,t,i)})))))))}))}Dn(e,t,n,r){return qb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}vn(e,t,n,r){return qb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const r=qb(e);let i=new wm(Ob);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},((e,r)=>{i=i.add(new kb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Sn(e,t){let n=new wm(Ob);const r=this.Vn(t,e);if(null==r)return n;const i=cp(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Gm(o))for(const i of o.arrayValue.values||[])n=n.add(new kb(t.indexId,e.key,this.dn(i),r))}else n=n.add(new kb(t.indexId,e.key,Bb,r));return n}bn(e,t,n,r,i){jf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=Sm(o),u=Sm(a);for(;s||u;){let e=!1,t=!1;if(s&&u){const r=n(s,u);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(u),u=Sm(a)):t?(i(s),s=Sm(o)):(s=Sm(o),u=Sm(a))}}(r,i,Ob,(r=>{o.push(this.Dn(e,t,n,r))}),(r=>{o.push(this.vn(e,t,n,r))})),wp.waitFor(o)}yn(e){let t=1;return Wb(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Ob(e,t))).filter(((e,t,n)=>!t||0!==Ob(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Ob(o,e),i=Ob(o,t);if(0===n)r[0]=e.Zt();else if(n>0&&i<0)r.push(o),r.push(o.Zt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Bb,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Bb,[]];i.push(IDBKeyRange.bound(e,t))}return i}Cn(e,t){return Ob(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kb)}getMinOffset(e,t){return wp.mapArray(this.hn(t),(t=>this.Pn(e,t).next((e=>e||Mf())))).next(Kb)}}function zb(e){return fm(e,"collectionParents")}function qb(e){return fm(e,"indexEntries")}function $b(e){return fm(e,"indexConfiguration")}function Wb(e){return fm(e,"indexState")}function Kb(e){Lf(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;gp(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new mp(t.readTime,t.documentKey,n)}const Gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Hb(e,Hb.DEFAULT_COLLECTION_PERCENTILE,Hb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qb(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const u=r.J({range:a},((e,t,n)=>(s++,n.delete())));o.push(u.next((()=>{Lf(1===s)})));const c=[];for(const l of n.mutations){const e=qp(t,l.key.path,n.batchId);o.push(i.delete(e)),c.push(l.key)}return wp.waitFor(o).next((()=>c))}function Xb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mf();t=e.noDocument}return JSON.stringify(t).length}Hb.DEFAULT_COLLECTION_PERCENTILE=10,Hb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hb.DEFAULT=new Hb(41943040,Hb.DEFAULT_COLLECTION_PERCENTILE,Hb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hb.DISABLED=new Hb(-1,0,0);class Yb{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Fn={}}static lt(e,t,n,r){Lf(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Yb(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zb(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=ew(e),o=Zb(e);return o.add({}).next((a=>{Lf("number"==typeof a);const s=new Qy(a,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>Uv(e.ct,t))),i=n.mutations.map((t=>Uv(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let l=new wm(((e,t)=>Jf(e.canonicalString(),t.canonicalString())));for(const e of r){const t=qp(this.userId,e.key.path,a);l=l.add(e.key.path.popLast()),c.push(o.put(u)),c.push(i.put(t,$p))}return l.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Fn[a]=s.keys()})),wp.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return Zb(e).get(t).next((e=>e?(Lf(e.userId===this.userId),ob(this.serializer,e)):null))}Mn(e,t){return this.Fn[t]?wp.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Fn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Zb(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Lf(t.batchId>=n),i=ob(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Zb(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zb(e).U("userMutationsIndex",t).next((e=>e.map((e=>ob(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=zp(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ew(e).J({range:r},((n,r,o)=>{const[a,s,u]=n,c=Bp(s);if(a===this.userId&&t.path.isEqual(c))return Zb(e).get(u).next((e=>{if(!e)throw Mf();Lf(e.userId===this.userId),i.push(ob(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wm(Jf);const r=[];return t.forEach((t=>{const i=zp(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=ew(e).J({range:o},((e,r,i)=>{const[o,a,s]=e,u=Bp(a);o===this.userId&&t.path.isEqual(u)?n=n.add(s):i.done()}));r.push(a)})),wp.waitFor(r).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=zp(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new wm(Jf);return ew(e).J({range:o},((e,t,i)=>{const[o,s,u]=e,c=Bp(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(u)):i.done()})).next((()=>this.xn(e,a)))}xn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Zb(e).get(t).next((e=>{if(null===e)throw Mf();Lf(e.userId===this.userId),n.push(ob(this.serializer,e))})))})),wp.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Qb(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.On(t.batchId)})),wp.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return wp.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return ew(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Bp(e[1]);r.push(t)}else n.done()})).next((()=>{Lf(0===r.length)}))}))}containsKey(e,t){return Jb(e,this.userId,t)}Nn(e){return tw(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Jb(e,t,n){const r=zp(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return ew(e).J({range:o,H:!0},((e,n,r)=>{const[o,s,u]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function Zb(e){return fm(e,"mutations")}function ew(e){return fm(e,"documentMutations")}function tw(e){return fm(e,"mutationQueues")}class nw{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new nw(0)}static kn(){return new nw(-1)}}class rw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next((t=>{const n=new nw(t.highestTargetId);return t.highestTargetId=n.next(),this.Qn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((e=>np.fromTimestamp(new tp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.qn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Qn(e,r))))}addTargetData(e,t){return this.Kn(e,t).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(t,n),this.Qn(e,n))))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>iw(e).delete(t.targetId))).next((()=>this.qn(e))).next((t=>(Lf(t.targetCount>0),t.targetCount-=1,this.Qn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return iw(e).J(((o,a)=>{const s=ab(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>wp.waitFor(i))).next((()=>r))}forEachTarget(e,t){return iw(e).J(((e,n)=>{const r=ab(n);t(r)}))}qn(e){return ow(e).get("targetGlobalKey").next((e=>(Lf(null!==e),e)))}Qn(e,t){return ow(e).put("targetGlobalKey",t)}Kn(e,t){return iw(e).put(sb(this.serializer,t))}$n(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Dg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return iw(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=ab(n);Rg(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=aw(e);return t.forEach((t=>{const o=Lp(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),wp.waitFor(r)}removeMatchingKeys(e,t,n){const r=aw(e);return wp.forEach(t,(t=>{const i=Lp(t.path);return wp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=aw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=aw(e);let i=py();return r.J({range:n,H:!0},((e,t,n)=>{const r=Bp(e[1]),o=new sp(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Lp(t.path),r=IDBKeyRange.bound([n],[ep(n)],!1,!0);let i=0;return aw(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return iw(e).get(t).next((e=>e?ab(e):null))}}function iw(e){return fm(e,"targets")}function ow(e){return fm(e,"targetGlobal")}function aw(e){return fm(e,"targetDocuments")}function sw(e,t){let[n,r]=e,[i,o]=t;const a=Jf(n,i);return 0===a?Jf(r,o):a}class uw{constructor(e){this.Un=e,this.buffer=new wm(sw),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();sw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){jf("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Op(e)?jf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await bp(e)}await this.Hn(3e5)}))}}class lw{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return wp.resolve(Np.oe);const n=new uw(t);return this.Jn.forEachTarget(e,(e=>n.zn(e.sequenceNumber))).next((()=>this.Jn.Zn(e,(e=>n.zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(jf("LruGarbageCollector","Garbage collection skipped; disabled"),wp.resolve(Gb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(jf("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gb):this.Xn(e,t)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let n,r,i,o,a,s,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(jf("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Pf()<=ya.DEBUG&&jf("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-s)+"ms\n"+`Total Duration: ${u-c}ms`),wp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function hw(e,t){return new lw(e,t)}class dw{constructor(e,t){this.db=e,this.garbageCollector=hw(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}er(e){let t=0;return this.Zn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,((e,n)=>t(n)))}addReference(e,t,n){return fw(e,n)}removeReference(e,t,n){return fw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return fw(e,t)}nr(e,t){return function(e,t){let n=!1;return tw(e).Y((r=>Jb(e,r,t).next((e=>(e&&(n=!0),wp.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.tr(e,((o,a)=>{if(a<=t){const t=this.nr(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,np.min()),aw(e).delete(function(e){return[0,Lp(e.path)]}(o)))))}));r.push(t)}})).next((()=>wp.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return fw(e,t)}tr(e,t){const n=aw(e);let r,i=Np.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:u}=n;0===o?(i!==Np.oe&&t(new sp(Bp(r)),i),i=u,r=s):i=Np.oe})).next((()=>{i!==Np.oe&&t(new sp(Bp(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fw(e,t){return aw(e).put(function(e,t){return{targetId:0,path:Lp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class pw{constructor(){this.changes=new ry((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?wp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return bw(e).put(n)}removeEntry(e,t,n){return bw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nb(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.rr(e,n))))}getEntry(e,t){let n=sg.newInvalidDocument(t);return bw(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ww(t))},((e,r)=>{n=this.ir(t,r)})).next((()=>n))}sr(e,t){let n={size:0,document:sg.newInvalidDocument(t)};return bw(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ww(t))},((e,r)=>{n={document:this.ir(t,r),size:Xb(r)}})).next((()=>n))}getEntries(e,t){let n=oy();return this._r(e,t,((e,t)=>{const r=this.ir(e,t);n=n.insert(e,r)})).next((()=>n))}ar(e,t){let n=oy(),r=new ym(sp.comparator);return this._r(e,t,((e,t)=>{const i=this.ir(e,t);n=n.insert(e,i),r=r.insert(e,Xb(t))})).next((()=>({documents:n,ur:r})))}_r(e,t,n){if(t.isEmpty())return wp.resolve();let r=new wm(Sw);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(ww(r.first()),ww(r.last())),o=r.getIterator();let a=o.getNext();return bw(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=sp.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Sw(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.$(ww(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),nb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bw(e).U(IDBKeyRange.bound(a,s,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=oy();for(const i of e){const e=this.ir(sp.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Zg(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=oy();const o=xw(t,n),a=xw(t,mp.max());return bw(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.ir(sp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new yw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return vw(e).get("remoteDocumentGlobalKey").next((e=>(Lf(!!e),e)))}rr(e,t){return vw(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Fv(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=sp.fromSegments(t.noDocument.path),r=ib(t.noDocument.readTime);n=sg.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mf();{const e=sp.fromSegments(t.unknownDocument.path),r=ib(t.unknownDocument.version);n=sg.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new tp(e[0],e[1]);return np.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(np.min()))return e}return sg.newInvalidDocument(e)}}function gw(e){return new mw(e)}class yw extends pw{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new ry((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new wm(((e,t)=>Jf(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.lr.get(i);if(t.push(this.cr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=tb(this.cr.serializer,o);r=r.add(i.path.popLast());const u=Xb(s);n+=u-a.size,t.push(this.cr.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=tb(this.cr.serializer,o.convertToNoDocument(np.min()));t.push(this.cr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.cr.updateMetadata(e,n)),wp.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next((e=>(this.lr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.cr.ar(e,t).next((e=>{let{documents:t,ur:n}=e;return n.forEach(((e,n)=>{this.lr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function vw(e){return fm(e,"remoteDocumentGlobal")}function bw(e){return fm(e,"remoteDocumentsV14")}function ww(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xw(e,t){const n=t.documentKey.path.toArray();return[e,nb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Sw(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Jf(n[o],r[o]),i)return i;return i=Jf(n.length,r.length),i||(i=Jf(n[n.length-2],r[r.length-2]),i||Jf(n[n.length-1],r[r.length-1]))}class _w{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ew{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Uy(n.mutation,e,_m.empty(),tp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,py()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:py();const r=cy();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=sy();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=cy();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,py())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=oy();const o=hy(),a=hy();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof qy)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Uy(a.mutation,t,a.mutation.getFieldMask(),tp.now())):o.set(t.key,_m.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new _w(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=hy();let r=new ym(((e,t)=>e-t)),i=py();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||_m.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||py()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,u=r.value,c=ly();u.forEach((e=>{if(!i.has(e)){const r=Ly(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return wp.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return sp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$g(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):wp.resolve(cy());let a=-1,s=i;return o.next((t=>wp.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?wp.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,py()))).next((e=>({batchId:a,changes:uy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sp(t)).next((e=>{let t=sy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=sy();return this.indexManager.getCollectionParents(e,i).next((a=>wp.forEach(a,(a=>{const s=function(e,t){return new Bg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,sg.newInvalidDocument(r)))}));let n=sy();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Uy(o.mutation,r,_m.empty(),tp.now()),Zg(t,r)&&(n=n.insert(e,r))})),n}))}}class kw{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return wp.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Tv(e.createTime)}}(t)),wp.resolve()}getNamedQuery(e,t){return wp.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:ub(e.bundledQuery),readTime:Tv(e.readTime)}}(t)),wp.resolve()}}class Ow{constructor(){this.overlays=new ym(sp.comparator),this.Ir=new Map}getOverlay(e,t){return wp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cy();return wp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),wp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),wp.resolve()}getOverlaysForCollection(e,t,n){const r=cy(),i=t.length+1,o=new sp(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return wp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ym(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=cy(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=cy(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return wp.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Yy(t,n));let i=this.Ir.get(t);void 0===i&&(i=py(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Tw{constructor(){this.sessionToken=km.EMPTY_BYTE_STRING}getSessionToken(e){return wp.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,wp.resolve()}}class Iw{constructor(){this.Tr=new wm(Aw.Er),this.dr=new wm(Aw.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Aw(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Aw(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new sp(new ip([])),n=new Aw(t,e),r=new Aw(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new sp(new ip([])),n=new Aw(t,e),r=new Aw(t,e+1);let i=py();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Aw(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Aw{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return sp.comparator(e.key,t.key)||Jf(e.wr,t.wr)}static Ar(e,t){return Jf(e.wr,t.wr)||sp.comparator(e.key,t.key)}}class Cw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new wm(Aw.Er)}checkEmpty(e){return wp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qy(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new Aw(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return wp.resolve(o)}lookupMutationBatch(e,t){return wp.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return wp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return wp.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return wp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Aw(t,0),r=new Aw(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),wp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wm(Jf);return t.forEach((e=>{const t=new Aw(e,0),r=new Aw(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),wp.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;sp.isDocumentKey(i)||(i=i.child(""));const o=new Aw(new sp(i),0);let a=new wm(Jf);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),o),wp.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Lf(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return wp.forEach(t.mutations,(r=>{const i=new Aw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Aw(t,0),r=this.br.firstAfterOrEqual(n);return wp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,wp.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pw{constructor(e){this.Mr=e,this.docs=new ym(sp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return wp.resolve(n?n.document.mutableCopy():sg.newInvalidDocument(t))}getEntries(e,t){let n=oy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():sg.newInvalidDocument(e))})),wp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=oy();const o=t.path,a=new sp(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||gp(pp(a),n)<=0||(r.has(a.key)||Zg(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return wp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mf()}Or(e,t){return wp.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new jw(this)}getSize(e){return wp.resolve(this.size)}}class jw extends pw{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),wp.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Nw{constructor(e){this.persistence=e,this.Nr=new ry((e=>Dg(e)),Rg),this.lastRemoteSnapshotVersion=np.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Iw,this.targetCount=0,this.kr=nw.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),wp.resolve()}getLastRemoteSnapshotVersion(e){return wp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wp.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),wp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),wp.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new nw(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,wp.resolve()}updateTargetData(e,t){return this.Kn(t),wp.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,wp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),wp.waitFor(i).next((()=>r))}getTargetCount(e){return wp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return wp.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),wp.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),wp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),wp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return wp.resolve(n)}containsKey(e,t){return wp.resolve(this.Br.containsKey(t))}}class Dw{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Np(0),this.Kr=!1,this.Kr=!0,this.$r=new Tw,this.referenceDelegate=e(this),this.Ur=new Nw(this),this.indexManager=new Fb,this.remoteDocumentCache=function(e){return new Pw(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new eb(t),this.Gr=new kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ow,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Cw(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){jf("MemoryPersistence","Starting transaction:",e);const r=new Rw(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return wp.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Rw extends vp{constructor(e){super(),this.currentSequenceNumber=e}}class Mw{constructor(e){this.persistence=e,this.Jr=new Iw,this.Yr=null}static Zr(e){return new Mw(e)}get Xr(){if(this.Yr)return this.Yr;throw Mf()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),wp.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),wp.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),wp.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wp.forEach(this.Xr,(n=>{const r=sp.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,np.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return wp.or([()=>wp.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Lw{constructor(e){this.serializer=e}O(e,t,n,r){const i=new xp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vp,{unique:!0}),e.createObjectStore("documentMutations")}(e),Fw(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=wp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Fw(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:np.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vp,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return wp.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.ni(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i))))),n<7&&r>=7&&(o=o.next((()=>this.ii(i)))),n<8&&r>=8&&(o=o.next((()=>this.si(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.oi(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:nm});t.createIndex("collectionPathOverlayIndex",rm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",im,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Wp});t.createIndex("documentKeyIndex",Kp),t.createIndex("collectionGroupIndex",Gp)}(e))).next((()=>this._i(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ai(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Jp}).createIndex("sequenceNumberIndex",Zp,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:em}).createIndex("documentKeyIndex",tm,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),o}ri(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Xb(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>wp.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>wp.forEach(n,(n=>{Lf(n.userId===t.userId);const r=ob(this.serializer,n);return Qb(e,t.userId,r).next((()=>{}))}))))}))))}ii(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new ip(n),a=function(e){return[0,Lp(e)]}(o);r.push(t.get(a).next((n=>n?wp.resolve():(n=>t.put({targetId:0,path:Lp(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>wp.waitFor(r)))}))}si(e,t){e.createObjectStore("collectionParents",{keyPath:Yp});const n=t.store("collectionParents"),r=new Ub,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Lp(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new ip(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const a=Bp(r);return i(a.popLast())}))))}oi(e){const t=e.store("targets");return t.J(((e,n)=>{const r=ab(n),i=sb(this.serializer,r);return t.put(i)}))}_i(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new sp(ip.fromString(e.document.name).popFirst(5)):e.noDocument?sp.fromSegments(e.noDocument.path):e.unknownDocument?sp.fromSegments(e.unknownDocument.path):Mf()}(n).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>wp.waitFor(r)))}ai(e,t){const n=t.store("mutations"),r=gw(this.serializer),i=new Dw(Mw.Zr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:py();ob(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),wp.forEach(n,((e,n)=>{const o=new If(n),a=mb.lt(this.serializer,o),s=i.getIndexManager(o),u=Yb.lt(o,this.serializer,s,i.referenceDelegate);return new Ew(r,u,a,s).recalculateAndSaveOverlaysForDocumentKeys(new dm(t,Np.oe),e).next()}))}))}}function Fw(e){e.createObjectStore("targetDocuments",{keyPath:Qp}).createIndex("documentTargetsIndex",Xp,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hp,{unique:!0}),e.createObjectStore("targetGlobal")}const Uw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bw{constructor(e,t,n,r,i,o,a,s,u,c){let l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ui=i,this.window=o,this.document=a,this.ci=u,this.li=c,this.hi=l,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=e=>Promise.resolve(),!Bw.D())throw new Bf(Uf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dw(this,r),this.Ai=t+"main",this.serializer=new eb(s),this.Ri=new Sp(this.Ai,this.hi,new Lw(this.serializer)),this.$r=new yb,this.Ur=new rw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gw(this.serializer),this.Gr=new db,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===c&&Nf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bf(Uf.FAILED_PRECONDITION,Uw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new Np(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>zw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((t=>this.isPrimary&&!t?this.bi(e).next((()=>!1)):!!t&&this.Di(e).next((()=>!0)))))).catch((e=>{if(Op(e))return jf("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return jf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Vw(e).get("owner").next((e=>wp.resolve(this.vi(e))))}Ci(e){return zw(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=fm(e,"clientMetadata");return t.U().next((e=>{const n=this.xi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return wp.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?wp.resolve(!0):Vw(e).get("owner").next((t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new Bf(Uf.FAILED_PRECONDITION,Uw);return!1}}return!(!this.networkEnabled||!this.inForeground)||zw(e).U().next((e=>void 0===this.xi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&jf("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new dm(e,Np.oe);return this.bi(t).next((()=>this.Ci(t)))})),this.Ri.close(),this.qi()}xi(e,t){return e.filter((e=>this.Mi(e.updateTimeMs,t)&&!this.Ni(e.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>zw(e).U().next((e=>this.xi(e,18e5).map((e=>e.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return Yb.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vb(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return mb.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,n){jf("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?hm:16===e?lm:15===e?cm:14===e?um:13===e?sm:12===e?am:11===e?om:void Mf()}(this.hi);let o;return this.Ri.runTransaction(e,r,i,(r=>(o=new dm(r,this.Qr?this.Qr.next():Np.oe),"readwrite-primary"===t?this.wi(o).next((e=>!!e||this.Si(o))).next((t=>{if(!t)throw Nf(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Bf(Uf.FAILED_PRECONDITION,yp);return n(o)})).next((e=>this.Di(o).next((()=>e)))):this.Ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Ki(e){return Vw(e).get("owner").next((e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Bf(Uf.FAILED_PRECONDITION,Uw)}))}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vw(e).put("owner",t)}static D(){return Sp.D()}bi(e){const t=Vw(e);return t.get("owner").next((e=>this.vi(e)?(jf("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):wp.resolve()))}Mi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Nf(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;Yo()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const n=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return jf("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Nf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Nf("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch(e){}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vw(e){return fm(e,"owner")}function zw(e){return fm(e,"clientMetadata")}function qw(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class $w{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=py(),r=py();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new $w(e,t.fromCache,n,r)}}class Ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Kw{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Yo()?8:_p(Wo())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ww;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(Pf()<=ya.DEBUG&&jf("QueryEngine","SDK will not create cache indexes for query:",Jg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),wp.resolve()):(Pf()<=ya.DEBUG&&jf("QueryEngine","Query:",Jg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Pf()<=ya.DEBUG&&jf("QueryEngine","The SDK decides to create cache indexes for query:",Jg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kg(t))):wp.resolve())}Yi(e,t){if(qg(t))return wp.resolve(null);let n=Kg(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qg(t,null,"F"),n=Kg(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=py(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Qg(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return qg(t)||r.isEqual(np.min())?wp.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?wp.resolve(null):(Pf()<=ya.DEBUG&&jf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jg(t)),this.rs(e,o,t,fp(r,-1)).next((e=>e)))}))}ts(e,t){let n=new wm(ty(e));return t.forEach(((t,r)=>{Zg(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Pf()<=ya.DEBUG&&jf("QueryEngine","Using full collection scan to execute query:",Jg(t)),this.Ji.getDocumentsMatchingQuery(e,t,mp.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Gw{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ym(Jf),this._s=new ry((e=>Dg(e)),Rg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ew(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function Hw(e,t,n,r){return new Gw(e,t,n,r)}async function Qw(e,t){const n=Ff(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=py();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Xw(e){const t=Ff(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Yw(e,t,n){let r=py(),i=py();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=oy();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(np.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):jf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}function Jw(e,t){const n=Ff(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Zw(e,t){const n=Ff(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,wp.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Zv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function ex(e,t,n){const r=Ff(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Op(e))throw e;jf("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function tx(e,t,n){const r=Ff(e);let i=np.min(),o=py();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ff(e),i=r._s.get(n);return void 0!==i?wp.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Kg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:np.min(),n?o:py()))).next((e=>(ix(r,ey(t),e),{documents:e,Ts:o})))))}function nx(e,t){const n=Ff(e),r=Ff(n.Ur),i=n.os.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function rx(e,t){const n=Ff(e),r=n.us.get(t)||np.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.cs.getAllFromCollectionGroup(e,t,fp(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(ix(n,t,e),e)))}function ix(e,t,n){let r=e.us.get(t)||np.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}async function ox(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:py();const r=await Zw(e,Kg(ub(t.bundledQuery))),i=Ff(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Tv(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(e,t);const a=r.withResumeToken(km.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(e,a).next((()=>i.Ur.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Ur.addMatchingKeys(e,n,r.targetId))).next((()=>i.Gr.saveNamedQuery(e,t)))}))}function ax(e,t){return`firestore_clients_${e}_${t}`}function sx(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function ux(e,t){return`firestore_targets_${e}_${t}`}class cx{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Rs(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Bf(r.error.code,r.error.message))),o?new cx(e,t,r.state,i):(Nf("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lx{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Rs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Bf(n.error.code,n.error.message))),i?new lx(e,n.state,r):(Nf("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=gy();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Mp(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new hx(e,i):(Nf("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dx{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dx(t.clientId,t.onlineState):(Nf("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fx{constructor(){this.activeTargetIds=gy()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class px{constructor(e,t,n,r,i){this.window=e,this.ui=t,this.persistenceKey=n,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ym(Jf),this.started=!1,this.bs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ds=ax(this.persistenceKey,this.ps),this.vs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new fx),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Os=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const e=this.getItem(ax(this.persistenceKey,n));if(e){const t=hx.Rs(n,e);t&&(this.Ss=this.Ss.insert(t.clientId,t))}}this.Ns();const t=this.storage.getItem(this.xs);if(t){const e=this.Ls(t);e&&this.Bs(e)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,n){this.qs(e,t,n),this.Qs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ux(this.persistenceKey,e));if(n){const r=lx.Rs(e,n);r&&(t=r.state)}}return this.Ks.fs(e),this.Ns(),t}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ux(this.persistenceKey,e))}updateQueryState(e,t,n){this.$s(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Qs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return jf("SharedClientState","READ",e,t),t}setItem(e,t){jf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){jf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const t=e;if(t.storageArea===this.storage){if(jf("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void Nf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Cs.test(t.key)){if(null==t.newValue){const e=this.Gs(t.key);return this.zs(e,null)}{const e=this.js(t.key,t.newValue);if(e)return this.zs(e.clientId,e)}}else if(this.Fs.test(t.key)){if(null!==t.newValue){const e=this.Hs(t.key,t.newValue);if(e)return this.Js(e)}}else if(this.Ms.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.xs){if(null!==t.newValue){const e=this.Ls(t.newValue);if(e)return this.Bs(e)}}else if(t.key===this.vs){const e=function(e){let t=Np.oe;if(null!=e)try{const n=JSON.parse(e);Lf("number"==typeof n),t=n}catch(e){Nf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Np.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Os){const e=this.Xs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.eo(e))))}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,n){const r=new cx(this.currentUser,e,t,n),i=sx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Vs())}Qs(e){const t=sx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){const t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,n){const r=ux(this.persistenceKey,e),i=new lx(e,t,n);this.setItem(r,i.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const n=this.Gs(e);return hx.Rs(n,t)}Hs(e,t){const n=this.Fs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cx.Rs(new If(i),r,t)}Ys(e,t){const n=this.Ms.exec(e),r=Number(n[1]);return lx.Rs(r,t)}Ls(e){return dx.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);jf("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const n=t?this.Ss.insert(e,t):this.Ss.remove(e),r=this.ks(this.Ss),i=this.ks(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.io(o,a).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=gy();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class mx{constructor(){this.so=new fx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gx{_o(e){}shutdown(){}}class yx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){jf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){jf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vx=null;function bx(){return null===vx?vx=268435456+Math.round(2147483648*Math.random()):vx++,"0x"+vx.toString(16)}const wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xx{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Sx="WebChannelConnection";class _x extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const o=bx(),a=this.xo(e,t.toUriEncodedString());jf("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then((t=>(jf("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Df("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Af,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=wx[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=bx();return new Promise(((o,a)=>{const s=new gf;s.setWithCredentials(!0),s.listenOnce(bf.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case wf.NO_ERROR:const t=s.getResponseJson();jf(Sx,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case wf.TIMEOUT:jf(Sx,`RPC '${e}' ${i} timed out`),a(new Bf(Uf.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const n=s.getStatus();if(jf(Sx,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Uf).indexOf(t)>=0?t:Uf.UNKNOWN}(t.status);a(new Bf(e,t.message))}else a(new Bf(Uf.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Bf(Uf.UNAVAILABLE,"Connection failed."));break;default:Mf()}}finally{jf(Sx,`RPC '${e}' ${i} completed.`)}}));const u=JSON.stringify(r);jf(Sx,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",u,n,15)}))}Bo(e,t,n){const r=bx(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ef(),a=_f(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new yf({})),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");jf(Sx,`Creating RPC '${e}' stream ${r}: ${c}`,s);const l=o.createWebChannel(c,s);let h=!1,d=!1;const f=new xx({Io:t=>{d?jf(Sx,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(jf(Sx,`Opening RPC '${e}' stream ${r} transport.`),l.open(),h=!0),jf(Sx,`RPC '${e}' stream ${r} sending:`,t),l.send(t))},To:()=>l.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(l,vf.EventType.OPEN,(()=>{d||(jf(Sx,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(l,vf.EventType.CLOSE,(()=>{d||(d=!0,jf(Sx,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(l,vf.EventType.ERROR,(t=>{d||(d=!0,Df(Sx,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new Bf(Uf.UNAVAILABLE,"The operation could not be completed")))})),p(l,vf.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Lf(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){jf(Sx,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Zy[e];if(void 0!==t)return nv(t)}(t),i=a.message;void 0===n&&(n=Uf.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.So(new Bf(n,i)),l.close()}else jf(Sx,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(a,Sf.STAT_EVENT,(t=>{t.stat===xf.PROXY?jf(Sx,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===xf.NOPROXY&&jf(Sx,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function Ex(){return"undefined"!=typeof window?window:null}function kx(){return"undefined"!=typeof document?document:null}function Ox(e){return new Sv(e,!0)}class Tx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&jf("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ix{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tx(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Uf.RESOURCE_EXHAUSTED?(Nf(t.toString()),Nf("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Uf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new Bf(Uf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return jf("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(jf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ax extends Ix{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Lf(void 0===t||"string"==typeof t),km.fromBase64String(t||"")):(Lf(void 0===t||t instanceof Buffer||t instanceof Uint8Array),km.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Uf.UNKNOWN:nv(e.code);return new Bf(t,e.message||"")}(a);n=new pv(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=jv(e,r.document.name),o=Tv(r.document.updateTime),a=r.document.createTime?Tv(r.document.createTime):np.min(),s=new og({mapValue:{fields:r.document.fields}}),u=sg.newFoundDocument(i,o,a,s),c=r.targetIds||[],l=r.removedTargetIds||[];n=new dv(c,l,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=jv(e,r.document),o=r.readTime?Tv(r.readTime):np.min(),a=sg.newNoDocument(i,o),s=r.removedTargetIds||[];n=new dv([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=jv(e,r.document),o=r.removedTargetIds||[];n=new dv([],o,i,null)}else{if(!("filter"in t))return Mf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Jy(r,i),a=e.targetId;n=new fv(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return np.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?np.min():t.readTime?Tv(t.readTime):np.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Rv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Mg(r)?{documents:Vv(e,r)}:{query:zv(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kv(e,t.resumeToken);const r=_v(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(np.min())>0){n.readTime=Ev(e,t.snapshotVersion.toTimestamp());const r=_v(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Rv(this.serializer),t.removeTarget=e,this.a_(t)}}class Cx extends Ix{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Lf(!!e.streamToken),this.lastStreamToken=e.streamToken,Lf(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Lf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Lf(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Tv(e.updateTime):Tv(t);return n.isEqual(np.min())&&(n=Tv(t)),new Ny(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Tv(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Rv(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Uv(this.serializer,e)))};this.a_(t)}}class Px extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Bf(Uf.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Mo(e,Av(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Uf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bf(Uf.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Lo(e,Av(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Uf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bf(Uf.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class jx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Nf(t),this.D_=!1):jf("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Nx{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{zx(this)&&(jf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ff(e);t.L_.add(4),await Rx(t),t.q_.set("Unknown"),t.L_.delete(4),await Dx(t)}(this))}))})),this.q_=new jx(n,r)}}async function Dx(e){if(zx(e))for(const t of e.B_)await t(!0)}async function Rx(e){for(const t of e.B_)await t(!1)}function Mx(e,t){const n=Ff(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Vx(n)?Bx(n):sS(n).r_()&&Fx(n,t))}function Lx(e,t){const n=Ff(e),r=sS(n);n.N_.delete(t),r.r_()&&Ux(n,t),0===n.N_.size&&(r.r_()?r.o_():zx(n)&&n.q_.set("Unknown"))}function Fx(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(np.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sS(e).A_(t)}function Ux(e,t){e.Q_.xe(t),sS(e).R_(t)}function Bx(e){e.Q_=new gv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),sS(e).start(),e.q_.v_()}function Vx(e){return zx(e)&&!sS(e).n_()&&e.N_.size>0}function zx(e){return 0===Ff(e).L_.size}function qx(e){e.Q_=void 0}async function $x(e){e.q_.set("Online")}async function Wx(e){e.N_.forEach(((t,n)=>{Fx(e,t)}))}async function Kx(e,t){qx(e),Vx(e)?(e.q_.M_(t),Bx(e)):e.q_.set("Unknown")}async function Gx(e,t,n){if(e.q_.set("Online"),t instanceof pv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){jf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Hx(e,n)}else if(t instanceof dv?e.Q_.Ke(t):t instanceof fv?e.Q_.He(t):e.Q_.We(t),!n.isEqual(np.min()))try{const t=await Xw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(km.EMPTY_BYTE_STRING,r.snapshotVersion)),Ux(e,t);const i=new Zv(r.target,t,n,r.sequenceNumber);Fx(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){jf("RemoteStore","Failed to raise snapshot:",t),await Hx(e,t)}}async function Hx(e,t,n){if(!Op(t))throw t;e.L_.add(1),await Rx(e),e.q_.set("Offline"),n||(n=()=>Xw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{jf("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Dx(e)}))}function Qx(e,t){return t().catch((n=>Hx(e,n,t)))}async function Xx(e){const t=Ff(e),n=uS(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Yx(t);)try{const e=await Jw(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Jx(t,e)}catch(e){await Hx(t,e)}Zx(t)&&eS(t)}function Yx(e){return zx(e)&&e.O_.length<10}function Jx(e,t){e.O_.push(t);const n=uS(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Zx(e){return zx(e)&&!uS(e).n_()&&e.O_.length>0}function eS(e){uS(e).start()}async function tS(e){uS(e).p_()}async function nS(e){const t=uS(e);for(const n of e.O_)t.m_(n.mutations)}async function rS(e,t,n){const r=e.O_.shift(),i=Xy.from(r,t,n);await Qx(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Xx(e)}async function iS(e,t){t&&uS(e).V_&&await async function(e,t){if(function(e){return tv(e)&&e!==Uf.ABORTED}(t.code)){const n=e.O_.shift();uS(e).s_(),await Qx(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Xx(e)}}(e,t),Zx(e)&&eS(e)}async function oS(e,t){const n=Ff(e);n.asyncQueue.verifyOperationInProgress(),jf("RemoteStore","RemoteStore received new credentials");const r=zx(n);n.L_.add(3),await Rx(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Dx(n)}async function aS(e,t){const n=Ff(e);t?(n.L_.delete(2),await Dx(n)):t||(n.L_.add(2),await Rx(n),n.q_.set("Unknown"))}function sS(e){return e.K_||(e.K_=function(e,t,n){const r=Ff(e);return r.w_(),new Ax(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:$x.bind(null,e),Ro:Wx.bind(null,e),mo:Kx.bind(null,e),d_:Gx.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Vx(e)?Bx(e):e.q_.set("Unknown")):(await e.K_.stop(),qx(e))}))),e.K_}function uS(e){return e.U_||(e.U_=function(e,t,n){const r=Ff(e);return r.w_(),new Cx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tS.bind(null,e),mo:iS.bind(null,e),f_:nS.bind(null,e),g_:rS.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Xx(e)):(await e.U_.stop(),e.O_.length>0&&(jf("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class cS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new cS(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bf(Uf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lS(e,t){if(Nf("AsyncQueue",`${t}: ${e}`),Op(e))return new Bf(Uf.UNAVAILABLE,`${t}: ${e}`);throw e}class hS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||sp.comparator(t.key,n.key):(e,t)=>sp.comparator(e.key,t.key),this.keyedMap=sy(),this.sortedSet=new ym(this.comparator)}static emptySet(e){return new hS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new hS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class dS{constructor(){this.W_=new ym(sp.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Mf():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class fS{constructor(e,t,n,r,i,o,a,s,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new fS(e,t,hS.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class pS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class mS{constructor(){this.queries=gS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Ff(e),r=n.queries;n.queries=gS(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new Bf(Uf.ABORTED,"Firestore shutting down"))}}function gS(){return new ry((e=>Yg(e)),Xg)}async function yS(e,t){const n=Ff(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new pS,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=lS(e,`Initialization of query '${Jg(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&xS(n)}async function vS(e,t){const n=Ff(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bS(e,t){const n=Ff(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&xS(n)}function wS(e,t,n){const r=Ff(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function xS(e){e.Y_.forEach((e=>{e.next()}))}var SS,_S;(_S=SS||(SS={})).ea="default",_S.Cache="cache";class ES{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new fS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=fS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==SS.Cache}}class kS{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class OS{constructor(e){this.serializer=e}Es(e){return jv(this.serializer,e)}ds(e){return e.metadata.exists?Fv(this.serializer,e.document,!1):sg.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Tv(e)}}class TS{constructor(e,t,n){this.ca=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=IS(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const n=ip.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,n=new OS(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Es(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||py()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ff(e);let o=py(),a=oy();for(const c of n){const e=t.Es(c.metadata.name);c.document&&(o=o.add(e));const n=t.ds(c);n.setReadTime(t.As(c.metadata.readTime)),a=a.insert(e,n)}const s=i.cs.newChangeBuffer({trackRemovals:!0}),u=await Zw(i,function(e){return Kg(zg(ip.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Yw(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Ur.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.Ur.addMatchingKeys(e,o,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Ps,t.Is))).next((()=>t.Ps))))))}(this.localStore,new OS(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(const n of this.queries)await ox(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function IS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class AS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class PS{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=py(),this.mutatedKeys=py(),this.Aa=ty(e),this.Ra=new hS(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new dS,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),l=Zg(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.ga(c,l)||(n.track({type:2,doc:l}),f=!0,(s&&this.Aa(l,s)>0||u&&this.Aa(l,u)<0)&&(a=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(s||u)&&(a=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mf()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,u=s!==this.Ea;return this.Ea=s,0!==o.length||u?{snapshot:new fS(this.query,e.Ra,i,o,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=py(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new CS(e))})),this.da.forEach((n=>{e.has(n)||t.push(new AS(n))})),t}ba(e){this.Ta=e.Ts,this.da=py();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return fS.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class jS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class NS{constructor(e){this.key=e,this.va=!1}}class DS{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ry((e=>Yg(e)),Xg),this.Ma=new Map,this.xa=new Set,this.Oa=new ym(sp.comparator),this.Na=new Map,this.La=new Iw,this.Ba={},this.ka=new Map,this.qa=nw.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function RS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=l_(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await LS(r,t,n,!0),i}async function MS(e,t){const n=l_(e);await LS(n,t,!0,!1)}async function LS(e,t,n,r){const i=await Zw(e.localStore,Kg(t)),o=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let s;return r&&(s=await FS(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Mx(e.remoteStore,i),s}async function FS(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await tx(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return XS(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await tx(e.localStore,t,!0),a=new PS(t,o.Ts),s=a.ma(o.documents),u=hv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,u);XS(e,n,c.wa);const l=new jS(t,n,a);return e.Fa.set(t,l),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function US(e,t,n){const r=Ff(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!Xg(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ex(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lx(r.remoteStore,i.targetId),HS(r,i.targetId)})).catch(bp)):(HS(r,i.targetId),await ex(r.localStore,i.targetId,!0))}async function BS(e,t){const n=Ff(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lx(n.remoteStore,r.targetId))}async function VS(e,t){const n=Ff(e);try{const e=await function(e,t){const n=Ff(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((o,s)=>{const u=i.get(s);if(!u)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s))));let c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(km.EMPTY_BYTE_STRING,np.min()).withLastLimboFreeSnapshotVersion(np.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,o)&&a.push(n.Ur.updateTargetData(e,c))}));let s=oy(),u=py();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Yw(e,o,t.documentUpdates).next((e=>{s=e.Ps,u=e.Is}))),!r.isEqual(np.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return wp.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,u))).next((()=>s))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(Lf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Lf(r.va):e.removedDocuments.size>0&&(Lf(r.va),r.va=!1))})),await ZS(n,e,t)}catch(e){await bp(e)}}function zS(e,t,n){const r=Ff(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ff(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&xS(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qS(e,t,n){const r=Ff(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new ym(sp.comparator);e=e.insert(o,sg.newNoDocument(o,np.min()));const n=py().add(o),i=new lv(np.min(),new Map,new ym(Jf),e,n);await VS(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),JS(r)}else await ex(r.localStore,t,!1).then((()=>HS(r,t,n))).catch(bp)}async function $S(e,t){const n=Ff(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ff(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=wp.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Lf(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=py();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);GS(n,r,null),KS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ZS(n,e)}catch(e){await bp(e)}}async function WS(e,t,n){const r=Ff(e);try{const e=await function(e,t){const n=Ff(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Lf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);GS(r,t,n),KS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ZS(r,e)}catch(n){await bp(n)}}function KS(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function GS(e,t,n){const r=Ff(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function HS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||QS(e,t)}))}function QS(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Lx(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),JS(e))}function XS(e,t,n){for(const r of n)r instanceof AS?(e.La.addReference(r.key,t),YS(e,r)):r instanceof CS?(jf("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||QS(e,r.key)):Mf()}function YS(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(jf("SyncEngine","New document in limbo: "+n),e.xa.add(r),JS(e))}function JS(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new sp(ip.fromString(t)),r=e.qa.next();e.Na.set(r,new NS(n)),e.Oa=e.Oa.insert(n,r),Mx(e.remoteStore,new Zv(Kg(zg(n.path)),r,"TargetPurposeLimboResolution",Np.oe))}}async function ZS(e,t,n){const r=Ff(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,s)=>{a.push(r.Ka(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=$w.Wi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Ff(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>wp.forEach(t,(t=>wp.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>wp.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Op(e))throw e;jf("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function e_(e,t){const n=Ff(e);if(!n.currentUser.isEqual(t)){jf("SyncEngine","User change. New user:",t.toKey());const e=await Qw(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new Bf(Uf.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ZS(n,e.hs)}}function t_(e,t){const n=Ff(e),r=n.Na.get(t);if(r&&r.va)return py().add(r.key);{let e=py();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}async function n_(e,t){const n=Ff(e),r=await tx(n.localStore,t.query,!0),i=t.view.ba(r);return n.isPrimaryClient&&XS(n,t.targetId,i.wa),i}async function r_(e,t){const n=Ff(e);return rx(n.localStore,t).then((e=>ZS(n,e)))}async function i_(e,t,n,r){const i=Ff(e),o=await function(e,t){const n=Ff(e),r=Ff(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Mn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):wp.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Xx(i.remoteStore):"acknowledged"===n||"rejected"===n?(GS(i,t,r||null),KS(i,t),function(e,t){Ff(Ff(e).mutationQueue).On(t)}(i.localStore,t)):Mf(),await ZS(i,o)):jf("SyncEngine","Cannot apply mutation batch with id: "+t)}async function o_(e,t,n){const r=Ff(e),i=[],o=[];for(const a of t){let e;const t=r.Ma.get(a);if(t&&0!==t.length){e=await Zw(r.localStore,Kg(t[0]));for(const e of t){const t=r.Fa.get(e),n=await n_(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await nx(r.localStore,a);e=await Zw(r.localStore,t),await FS(r,a_(t),a,!1,e.resumeToken)}i.push(e)}return r.Ca.d_(o),i}function a_(e){return Vg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function s_(e){return function(e){return Ff(Ff(e).persistence).Qi()}(Ff(e).localStore)}async function u_(e,t,n,r){const i=Ff(e);if(i.Qa)return void jf("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await rx(i.localStore,ey(o[0])),r=lv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,km.EMPTY_BYTE_STRING);await ZS(i,e,r);break}case"rejected":await ex(i.localStore,t,!0),HS(i,t,r);break;default:Mf()}}async function c_(e,t,n){const r=l_(e);if(r.Qa){for(const e of t){if(r.Ma.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){jf("SyncEngine","Adding an already active target "+e);continue}const t=await nx(r.localStore,e),n=await Zw(r.localStore,t);await FS(r,a_(t),n.targetId,!1,n.resumeToken),Mx(r.remoteStore,n)}for(const e of n)r.Ma.has(e)&&await ex(r.localStore,e,!1).then((()=>{Lx(r.remoteStore,e),HS(r,e)})).catch(bp)}}function l_(e){const t=Ff(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qS.bind(null,t),t.Ca.d_=bS.bind(null,t.eventManager),t.Ca.$a=wS.bind(null,t.eventManager),t}function h_(e){const t=Ff(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$S.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,t),t}class d_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ox(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hw(this.persistence,new Kw,e.initialUser,this.serializer)}createPersistence(e){return new Dw(Mw.Zr,this.serializer)}createSharedClientState(e){return new mx}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class f_ extends d_{constructor(e,t,n){super(),this.Wa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Wa.initialize(this,e),await h_(this.Wa.syncEngine),await Xx(this.Wa.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Hw(this.persistence,new Kw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new cw(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new jp(t,this.persistence);return new Pp(e.asyncQueue,n)}createPersistence(e){const t=qw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hb.withCacheSize(this.cacheSizeBytes):Hb.DEFAULT;return new Bw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ex(),kx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new mx}}class p_ extends f_{constructor(e,t){super(e,t,!1),this.Wa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Wa.syncEngine;this.sharedClientState instanceof px&&(this.sharedClientState.syncEngine={no:i_.bind(null,t),ro:u_.bind(null,t),io:c_.bind(null,t),Qi:s_.bind(null,t),eo:r_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.yi((async e=>{await async function(e,t){const n=Ff(e);if(l_(n),h_(n),!0===t&&!0!==n.Qa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await o_(n,e.toArray());n.Qa=!0,await aS(n.remoteStore,!0);for(const r of t)Mx(n.remoteStore,r)}else if(!1===t&&!1!==n.Qa){const e=[];let t=Promise.resolve();n.Ma.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(HS(n,i),ex(n.localStore,i,!0)))),Lx(n.remoteStore,i)})),await t,await o_(n,e),function(e){const t=Ff(e);t.Na.forEach(((e,n)=>{Lx(t.remoteStore,n)})),t.La.pr(),t.Na=new Map,t.Oa=new ym(sp.comparator)}(n),n.Qa=!1,await aS(n.remoteStore,!1)}}(this.Wa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Ex();if(!px.D(t))throw new Bf(Uf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=qw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new px(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class m_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=e_.bind(null,this.syncEngine),await aS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mS}createDatastore(e){const t=Ox(e.databaseInfo.databaseId),n=function(e){return new _x(e)}(e.databaseInfo);return function(e,t,n,r){return new Px(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Nx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>zS(this.syncEngine,e,0)),yx.D()?new yx:new gx)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new DS(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ff(e);jf("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Rx(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function g_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class y_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Nf("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class v_{constructor(e,t){this.ja=e,this.serializer=t,this.metadata=new Vf,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then((e=>{e&&e.ua()?this.metadata.resolve(e.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.aa)}`))}),(e=>this.metadata.reject(e)))}close(){return this.ja.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.Ja()}async Ja(){const e=await this.Ya();if(null===e)return null;const t=this.Ha.decode(e),n=Number(t);isNaN(n)&&this.Za(`length string (${t}) is not valid number`);const r=await this.Xa(n);return new kS(JSON.parse(r),e.length+n)}eu(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ya(){for(;this.eu()<0&&!await this.tu(););if(0===this.buffer.length)return null;const e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Xa(e){for(;this.buffer.length<e;)await this.tu()&&this.Za("Reached the end of bundle when more is expected.");const t=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}async tu(){const e=await this.ja.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class b_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Bf(Uf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Ff(e),r={documents:t.map((e=>Pv(n.serializer,e)))},i=await n.Lo("BatchGetDocuments",n.serializer.databaseId,ip.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Lf(!!t.found),t.found.name,t.found.updateTime;const n=jv(e,t.found.name),r=Tv(t.found.updateTime),i=t.found.createTime?Tv(t.found.createTime):np.min(),o=new og({mapValue:{fields:t.found.fields}});return sg.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Lf(!!t.missing),Lf(!!t.readTime);const n=jv(e,t.missing),r=Tv(t.readTime);return sg.newNoDocument(n,r)}(e,t):Mf()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Lf(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=sp.fromPath(t);this.mutations.push(new Hy(n,this.precondition(n)))})),await async function(e,t){const n=Ff(e),r={writes:t.map((e=>Uv(n.serializer,e)))};await n.Mo("Commit",n.serializer.databaseId,ip.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mf();t=np.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Bf(Uf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(np.min())?Dy.exists(!1):Dy.updateTime(t):Dy.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(np.min()))throw new Bf(Uf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dy.updateTime(t)}return Dy.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class w_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.nu=n.maxAttempts,this.t_=new Tx(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go((async()=>{const e=new b_(this.datastore),t=this.su(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ou(e)}))))})).catch((e=>{this.ou(e)}))}))}su(e){try{const t=this.updateFunction(e);return!Dp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget((()=>(this.iu(),Promise.resolve())))):this.deferred.reject(e)}_u(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!tv(t)}return!1}}class x_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=If.UNAUTHENTICATED,this.clientId=Yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{jf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(jf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bf(Uf.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=lS(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function S_(e,t){e.asyncQueue.verifyOperationInProgress(),jf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Qw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function __(e,t){e.asyncQueue.verifyOperationInProgress();const n=await k_(e);jf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>oS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>oS(t.remoteStore,n))),e._onlineComponents=t}function E_(e){return"FirebaseError"===e.name?e.code===Uf.FAILED_PRECONDITION||e.code===Uf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function k_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){jf("FirestoreClient","Using user provided OfflineComponentProvider");try{await S_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!E_(n))throw n;Df("Error using user provided cache. Falling back to memory cache: "+n),await S_(e,new d_)}}else jf("FirestoreClient","Using default OfflineComponentProvider"),await S_(e,new d_);return e._offlineComponents}async function O_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(jf("FirestoreClient","Using user provided OnlineComponentProvider"),await __(e,e._uninitializedComponentsProvider._online)):(jf("FirestoreClient","Using default OnlineComponentProvider"),await __(e,new m_))),e._onlineComponents}function T_(e){return k_(e).then((e=>e.persistence))}function I_(e){return k_(e).then((e=>e.localStore))}function A_(e){return O_(e).then((e=>e.remoteStore))}function C_(e){return O_(e).then((e=>e.syncEngine))}function P_(e){return O_(e).then((e=>e.datastore))}async function j_(e){const t=await O_(e),n=t.eventManager;return n.onListen=RS.bind(null,t.syncEngine),n.onUnlisten=US.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=MS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BS.bind(null,t.syncEngine),n}function N_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new y_({next:o=>{t.enqueueAndForget((()=>vS(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Bf(Uf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Bf(Uf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new ES(zg(n.path),o,{includeMetadataChanges:!0,_a:!0});return yS(e,a)}(await j_(e),e.asyncQueue,t,n,r))),r.promise}function D_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new y_({next:n=>{t.enqueueAndForget((()=>vS(e,a))),n.fromCache&&"server"===r.source?i.reject(new Bf(Uf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ES(n,o,{includeMetadataChanges:!0,_a:!0});return yS(e,a)}(await j_(e),e.asyncQueue,t,n,r))),r.promise}function R_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?iv().encode(e):e,function(e,t){return new v_(e,t)}(function(e,t){if(e instanceof Uint8Array)return g_(e,t);if(e instanceof ArrayBuffer)return g_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ox(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ff(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ff(e),r=Tv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Gr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(IS(r));const i=new TS(r,e.localStore,t.serializer);let o=await t.Ua();for(;o;){const e=await i.la(o);e&&n._updateProgress(e),o=await t.Ua()}const a=await i.complete();return await ZS(e,a.Ia,void 0),await function(e,t){const n=Ff(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Gr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Pa)}catch(e){return Df("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await C_(e),i,r)}))}function M_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const L_=new Map;function F_(e,t,n){if(!n)throw new Bf(Uf.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function U_(e,t,n,r){if(!0===t&&!0===r)throw new Bf(Uf.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function B_(e){if(!sp.isDocumentKey(e))throw new Bf(Uf.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function V_(e){if(sp.isDocumentKey(e))throw new Bf(Uf.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function z_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Mf()}function q_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bf(Uf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=z_(e);throw new Bf(Uf.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function $_(e,t){if(t<=0)throw new Bf(Uf.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class W_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bf(Uf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bf(Uf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bf(Uf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Bf(Uf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Bf(Uf.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bf(Uf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bf(Uf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qf;switch(e.type){case"firstParty":return new Gf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bf(Uf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=L_.get(e);t&&(jf("ComponentProvider","Removing Datastore"),L_.delete(e),t.terminate())}(this),Promise.resolve()}}function G_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=q_(e,K_))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&Df("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=If.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fo(JSON.stringify({alg:"none",type:"JWT"})),Fo(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Bf(Uf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new If(o)}e._authCredentials=new $f(new zf(t,n))}}class H_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new H_(this.firestore,e,this._query)}}class Q_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new X_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Q_(this.firestore,e,this._key)}}class X_ extends H_{constructor(e,t,n){super(e,t,zg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Q_(this.firestore,null,new sp(e))}withConverter(e){return new X_(this.firestore,e,this._path)}}function Y_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ha(e),F_("collection","path",t),e instanceof K_){const n=ip.fromString(t,...r);return V_(n),new X_(e,null,n)}{if(!(e instanceof Q_||e instanceof X_))throw new Bf(Uf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ip.fromString(t,...r));return V_(n),new X_(e.firestore,null,n)}}function J_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ha(e),1===arguments.length&&(t=Yf.newId()),F_("doc","path",t),e instanceof K_){const n=ip.fromString(t,...r);return B_(n),new Q_(e,null,new sp(n))}{if(!(e instanceof Q_||e instanceof X_))throw new Bf(Uf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ip.fromString(t,...r));return B_(n),new Q_(e.firestore,e instanceof X_?e.converter:null,new sp(n))}}function Z_(e,t){return e=ha(e),t=ha(t),(e instanceof Q_||e instanceof X_)&&(t instanceof Q_||t instanceof X_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eE(e,t){return e=ha(e),t=ha(t),e instanceof H_&&t instanceof H_&&e.firestore===t.firestore&&Xg(e._query,t._query)&&e.converter===t.converter}class tE{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Tx(this,"async_queue_retry"),this.Eu=()=>{const e=kx();e&&jf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()};const e=kx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=kx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise((()=>{}));const t=new Vf;return this.Au((()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.uu.push(e),this.Ru())))}async Ru(){if(0!==this.uu.length){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Op(e))throw e;jf("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go((()=>this.Ru()))}}Au(e){const t=this.au.then((()=>(this.Pu=!0,e().catch((e=>{this.hu=e,this.Pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Nf("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Pu=!1,e))))));return this.au=t,t}enqueueAfterDelay(e,t,n){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const r=cS.createAndSchedule(this,e,t,n,(e=>this.Vu(e)));return this.lu.push(r),r}du(){this.hu&&Mf()}verifyOperationInProgress(){}async mu(){let e;do{e=this.au,await e}while(e!==this.au)}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then((()=>{this.lu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()}))}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function nE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class rE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class iE extends K_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new tE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aE(this),this._firestoreClient.terminate()}}function oE(e){return e._firestoreClient||aE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function aE(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Nm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,M_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new x_(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function sE(e,t,n){const r=new Vf;return e.asyncQueue.enqueue((async()=>{try{await S_(e,n),await __(e,t),r.resolve()}catch(e){const n=e;if(!E_(n))throw n;Df("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function uE(e){return function(e){const t=new Vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ff(e);zx(n.remoteStore)||jf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ff(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ka.get(e)||[];r.push(t),n.ka.set(e,r)}catch(e){const n=lS(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await C_(e),t))),t.promise}(oE(e=q_(e,iE)))}function cE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await T_(e),n=await A_(e);return t.setNetworkEnabled(!0),function(e){const t=Ff(e);return t.L_.delete(0),Dx(t)}(n)}))}(oE(e=q_(e,iE)))}function lE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await T_(e),n=await A_(e);return t.setNetworkEnabled(!1),async function(e){const t=Ff(e);t.L_.add(0),await Rx(t),t.q_.set("Offline")}(n)}))}(oE(e=q_(e,iE)))}function hE(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ff(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Gr.getNamedQuery(e,t)))}(await I_(e),t)))}(oE(e=q_(e,iE)),t).then((t=>t?new H_(e,null,t.query):null))}function dE(e){if(e._initialized||e._terminated)throw new Bf(Uf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fE(km.fromBase64String(e))}catch(e){throw new Bf(Uf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fE(km.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Bf(Uf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ap(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mE{constructor(e){this._methodName=e}}class gE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bf(Uf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bf(Uf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jf(this._lat,e._lat)||Jf(this._long,e._long)}}class yE{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const vE=/^__.*__$/;class bE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new qy(e,this.data,this.fieldMask,t,this.fieldTransforms):new zy(e,this.data,t,this.fieldTransforms)}}class wE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mf()}}class SE{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new SE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.vu(e),r}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return zE(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(xE(this.wu)&&vE.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class _E{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ox(e)}Nu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new SE({wu:e,methodName:t,Ou:n,path:ap.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EE(e){const t=e._freezeSettings(),n=Ox(e._databaseId);return new _E(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kE(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Nu(o.merge||o.mergeFields?2:0,t,n,i);FE("Data must be an object, but it was:",a,r);const s=ME(r,a);let u,c;if(o.merge)u=new _m(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=UE(t,r,n);if(!a.contains(i))throw new Bf(Uf.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);qE(e,i)||e.push(i)}u=new _m(e),c=a.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,c=a.fieldTransforms;return new bE(new og(s),u,c)}class OE extends mE{_toFieldTransform(e){if(2!==e.wu)throw 1===e.wu?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof OE}}function TE(e,t,n){return new SE({wu:3,Ou:t.settings.Ou,methodName:e._methodName,Du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class IE extends mE{_toFieldTransform(e){return new jy(e.path,new Ey)}isEqual(e){return e instanceof IE}}class AE extends mE{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=TE(this,e,!0),n=this.Lu.map((e=>RE(e,t))),r=new ky(n);return new jy(e.path,r)}isEqual(e){return e instanceof AE&&ra(this.Lu,e.Lu)}}class CE extends mE{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=TE(this,e,!0),n=this.Lu.map((e=>RE(e,t))),r=new Ty(n);return new jy(e.path,r)}isEqual(e){return e instanceof CE&&ra(this.Lu,e.Lu)}}class PE extends mE{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=new Ay(e.serializer,by(e.serializer,this.Bu));return new jy(e.path,t)}isEqual(e){return e instanceof PE&&this.Bu===e.Bu}}function jE(e,t,n,r){const i=e.Nu(1,t,n);FE("Data must be an object, but it was:",i,r);const o=[],a=og.empty();mm(r,((e,r)=>{const s=VE(t,e,n);r=ha(r);const u=i.Cu(s);if(r instanceof OE)o.push(s);else{const e=RE(r,u);null!=e&&(o.push(s),a.set(s,e))}}));const s=new _m(o);return new wE(a,s,i.fieldTransforms)}function NE(e,t,n,r,i,o){const a=e.Nu(1,t,n),s=[UE(t,r,n)],u=[i];if(o.length%2!=0)throw new Bf(Uf.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(UE(t,o[d])),u.push(o[d+1]);const c=[],l=og.empty();for(let d=s.length-1;d>=0;--d)if(!qE(c,s[d])){const e=s[d];let t=u[d];t=ha(t);const n=a.Cu(e);if(t instanceof OE)c.push(e);else{const r=RE(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new _m(c);return new wE(l,h,a.fieldTransforms)}function DE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return RE(n,e.Nu(r?4:3,t))}function RE(e,t){if(LE(e=ha(e)))return FE("Unsupported field value:",t,e),ME(e,t);if(e instanceof mE)return function(e,t){if(!xE(t.wu))throw t.Mu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Mu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=RE(i,t.Fu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ha(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return by(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=tp.fromDate(e);return{timestampValue:Ev(t.serializer,n)}}if(e instanceof tp){const n=new tp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ev(t.serializer,n)}}if(e instanceof gE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fE)return{bytesValue:kv(t.serializer,e._byteString)};if(e instanceof Q_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Iv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof yE)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Mu("VectorValues must only contain numeric values.");return yy(t.serializer,e)}))}}}}}}(e,t);throw t.Mu(`Unsupported field value: ${z_(e)}`)}(e,t)}function ME(e,t){const n={};return gm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mm(e,((e,r)=>{const i=RE(r,t.bu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function LE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tp||e instanceof gE||e instanceof fE||e instanceof Q_||e instanceof mE||e instanceof yE)}function FE(e,t,n){if(!LE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=z_(n);throw"an object"===r?t.Mu(e+" a custom object"):t.Mu(e+" "+r)}}function UE(e,t,n){if((t=ha(t))instanceof pE)return t._internalPath;if("string"==typeof t)return VE(e,t);throw zE("Field path arguments must be of type string or ",e,!1,void 0,n)}const BE=new RegExp("[~\\*/\\[\\]]");function VE(e,t,n){if(t.search(BE)>=0)throw zE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pE(...t.split("."))._internalPath}catch(aT){throw zE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zE(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Bf(Uf.INVALID_ARGUMENT,s+e+u)}function qE(e,t){return e.some((e=>e.isEqual(t)))}class $E{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Q_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new WE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(KE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class WE extends $E{data(){return super.data()}}function KE(e,t){return"string"==typeof t?VE(e,t):t instanceof pE?t._internalPath:t._delegate._internalPath}function GE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bf(Uf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HE{}class QE extends HE{}function XE(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof HE&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof JE)).length,n=e.filter((e=>e instanceof YE)).length;if(t>1||t>0&&n>0)throw new Bf(Uf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class YE extends QE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new YE(e,t,n)}_apply(e){const t=this._parse(e);return ak(e._query,t),new H_(e.firestore,e.converter,Hg(e._query,t))}_parse(e){const t=EE(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Bf(Uf.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){ok(a,o);const t=[];for(const n of a)t.push(ik(r,e,n));s={arrayValue:{values:t}}}else s=ik(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ok(a,o),s=DE(n,t,a,"in"===o||"not-in"===o);return pg.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class JE extends HE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new JE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:mg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ak(n,i),n=Hg(n,i)}(e._query,t),new H_(e.firestore,e.converter,Hg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZE extends QE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZE(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Bf(Uf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bf(Uf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hg(t,n)}(e._query,this._field,this._direction);return new H_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class ek extends QE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ek(e,t,n)}_apply(e){return new H_(e.firestore,e.converter,Qg(e._query,this._limit,this._limitType))}}class tk extends QE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new tk(e,t,n)}_apply(e){const t=rk(e,this.type,this._docOrFields,this._inclusive);return new H_(e.firestore,e.converter,function(e,t){return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class nk extends QE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new nk(e,t,n)}_apply(e){const t=rk(e,this.type,this._docOrFields,this._inclusive);return new H_(e.firestore,e.converter,function(e,t){return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function rk(e,t,n,r){if(n[0]=ha(n[0]),n[0]instanceof $E)return function(e,t,n,r,i){if(!r)throw new Bf(Uf.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const a of Wg(e))if(a.field.isKeyField())o.push(Wm(t,r.key));else{const e=r.data.field(a.field);if(Cm(e))throw new Bf(Uf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Bf(Uf.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new ug(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=EE(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new Bf(Uf.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const s=[];for(let u=0;u<i.length;u++){const o=i[u];if(a[u].field.isKeyField()){if("string"!=typeof o)throw new Bf(Uf.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!$g(e)&&-1!==o.indexOf("/"))throw new Bf(Uf.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(ip.fromString(o));if(!sp.isDocumentKey(n))throw new Bf(Uf.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new sp(n);s.push(Wm(t,i))}else{const e=DE(n,r,o);s.push(e)}}return new ug(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ik(e,t,n){if("string"==typeof(n=ha(n))){if(""===n)throw new Bf(Uf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$g(t)&&-1!==n.indexOf("/"))throw new Bf(Uf.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ip.fromString(n));if(!sp.isDocumentKey(r))throw new Bf(Uf.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wm(e,new sp(r))}if(n instanceof Q_)return Wm(e,n._key);throw new Bf(Uf.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${z_(n)}.`)}function ok(e,t){if(!Array.isArray(e)||0===e.length)throw new Bf(Uf.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ak(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Bf(Uf.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Bf(Uf.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Lm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Im(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Am(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return mm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Im(e.doubleValue)));return new yE(i)}convertGeoPoint(e){return new gE(Im(e.latitude),Im(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Pm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jm(e));default:return null}}convertTimestamp(e){const t=Tm(e);return new tp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ip.fromString(e);Lf(Jv(n));const r=new Dm(n.get(1),n.get(3)),i=new sp(n.popFirst(5));return r.isEqual(t)||Nf(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function uk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ck extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new fE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Q_(this.firestore,null,t)}}class lk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hk extends $E{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new dk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(KE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dk extends hk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class fk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new dk(this._firestore,this._userDataWriter,n.key,n,new lk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bf(Uf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new dk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new dk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:pk(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function pk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mf()}}function mk(e,t){return e instanceof hk&&t instanceof hk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof fk&&t instanceof fk&&e._firestore===t._firestore&&eE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class gk extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new fE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Q_(this.firestore,null,t)}}function yk(e){e=q_(e,Q_);const t=q_(e.firestore,iE),n=oE(t),r=new gk(t);return function(e,t){const n=new Vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ff(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Bf(Uf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=lS(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await I_(e),t,n))),n.promise}(n,e._key).then((n=>new hk(t,r,e._key,n,new lk(null!==n&&n.hasLocalMutations,!0),e.converter)))}function vk(e){e=q_(e,H_);const t=q_(e.firestore,iE),n=oE(t),r=new gk(t);return function(e,t){const n=new Vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await tx(e,t,!0),i=new PS(t,r.Ts),o=i.ma(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=lS(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await I_(e),t,n))),n.promise}(n,e._query).then((n=>new fk(t,r,e,n)))}function bk(e,t,n){e=q_(e,Q_);const r=q_(e.firestore,iE),i=uk(e.converter,t,n);return _k(r,[kE(EE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Dy.none())])}function wk(e,t,n){e=q_(e,Q_);const r=q_(e.firestore,iE),i=EE(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),u=3;u<a;u++)s[u-3]=arguments[u];return o="string"==typeof(t=ha(t))||t instanceof pE?NE(i,"updateDoc",e._key,t,n,s):jE(i,"updateDoc",e._key,t),_k(r,[o.toMutation(e._key,Dy.exists(!0))])}function xk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=ha(e);let s={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof n[u]||nE(n[u])||(s=n[u],u++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nE(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[u+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let l,h,d;if(e instanceof Q_)h=q_(e.firestore,iE),d=zg(e._key.path),l={next:t=>{n[u]&&n[u](Ek(h,e,t))},error:n[u+1],complete:n[u+2]};else{const t=q_(e,H_);h=q_(t.firestore,iE),d=t._query;const r=new gk(h);l={next:e=>{n[u]&&n[u](new fk(h,r,t,e))},error:n[u+1],complete:n[u+2]},GE(e._query)}return function(e,t,n,r){const i=new y_(r),o=new ES(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>yS(await j_(e),o))),()=>{i.za(),e.asyncQueue.enqueueAndForget((async()=>vS(await j_(e),o)))}}(oE(h),d,c,l)}function Sk(e,t){return function(e,t){const n=new y_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ff(e).Y_.add(t),t.next()}(await j_(e),n))),()=>{n.za(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ff(e).Y_.delete(t)}(await j_(e),n)))}}(oE(e=q_(e,iE)),nE(t)?t:{next:t})}function _k(e,t){return function(e,t){const n=new Vf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=h_(e);try{const e=await function(e,t){const n=Ff(e),r=tp.now(),i=t.reduce(((e,t)=>e.add(t.key)),py());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=oy(),u=py();return n.cs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(u=u.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=By(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new qy(e.key,t,ag(t.value.mapValue),Dy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:uy(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ym(Jf)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await ZS(r,e.changes),await Xx(r.remoteStore)}catch(e){const t=lS(e,"Failed to persist write");n.reject(t)}}(await C_(e),t,n))),n.promise}(oE(e),t)}function Ek(e,t,n){const r=n.docs.get(t._key),i=new gk(e);return new hk(e,i,t._key,r,new lk(n.hasPendingWrites,n.fromCache),t.converter)}const kk={maxAttempts:5};class Ok{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=EE(e)}set(e,t,n){this._verifyNotCommitted();const r=Tk(e,this._firestore),i=uk(r.converter,t,n),o=kE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Dy.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Tk(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=ha(t))||t instanceof pE?NE(this._dataReader,"WriteBatch.update",r._key,t,n,a):jE(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Dy.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Tk(e,this._firestore);return this._mutations=this._mutations.concat(new Gy(t._key,Dy.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bf(Uf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tk(e,t){if((e=ha(e)).firestore!==t)throw new Bf(Uf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ik extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=EE(e)}get(e){const t=Tk(e,this._firestore),n=new ck(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Mf();const r=e[0];if(r.isFoundDocument())return new $E(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new $E(this._firestore,n,t._key,null,t.converter);throw Mf()}))}set(e,t,n){const r=Tk(e,this._firestore),i=uk(r.converter,t,n),o=kE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Tk(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=ha(t))||t instanceof pE?NE(this._dataReader,"Transaction.update",r._key,t,n,a):jE(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Tk(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Tk(e,this._firestore),n=new gk(this._firestore);return super.get(e).then((e=>new hk(this._firestore,n,t._key,e._document,new lk(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Af=e}(Ps),Ss(new da("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new iE(new Wf(e.getProvider("auth-internal")),new Qf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bf(Uf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dm(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Ls(Tf,"4.7.0",e),Ls(Tf,"4.7.0","esm2017")}();function Ak(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Bf("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Ck(){if("undefined"===typeof Uint8Array)throw new Bf("unimplemented","Uint8Arrays are not available in this environment.")}function Pk(){if("undefined"==typeof atob)throw new Bf("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jk{constructor(e){this._delegate=e}static fromBase64String(e){return Pk(),new jk(fE.fromBase64String(e))}static fromUint8Array(e){return Ck(),new jk(fE.fromUint8Array(e))}toBase64(){return Pk(),this._delegate.toBase64()}toUint8Array(){return Ck(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Nk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Dk{enableIndexedDbPersistence(e,t){return function(e,t){dE(e=q_(e,iE));const n=oE(e);if(n._uninitializedComponentsProvider)throw new Bf(Uf.FAILED_PRECONDITION,"SDK cache is already specified.");Df("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new m_;return sE(n,i,new f_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){dE(e=q_(e,iE));const t=oE(e);if(t._uninitializedComponentsProvider)throw new Bf(Uf.FAILED_PRECONDITION,"SDK cache is already specified.");Df("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new m_;return sE(t,r,new p_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Bf(Uf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Vf;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Sp.D())return Promise.resolve();const t=e+"main";await Sp.delete(t)}(qw(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Rk{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Df("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};G_(this._delegate,e,t,n)}enableNetwork(){return cE(this._delegate)}disableNetwork(){return lE(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,U_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return uE(this._delegate)}onSnapshotsInSync(e){return Sk(this._delegate,e)}get app(){if(!this._appCompat)throw new Bf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qk(this,Y_(this._delegate,e))}catch(t){throw Vk(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bk(this,J_(this._delegate,e))}catch(t){throw Vk(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Kk(this,function(e,t){if(e=q_(e,K_),F_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Bf(Uf.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new H_(e,null,function(e){return new Bg(ip.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Vk(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=q_(e,iE);const r=Object.assign(Object.assign({},kk),n);return function(e){if(e.maxAttempts<1)throw new Bf(Uf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Vf;return e.asyncQueue.enqueueAndForget((async()=>{const i=await P_(e);new w_(e.asyncQueue,i,n,t,r).ru()})),r.promise}(oE(e),(n=>t(new Ik(e,n))),r)}(this._delegate,(t=>e(new Lk(this,t))))}batch(){return oE(this._delegate),new Fk(new Ok(this._delegate,(e=>_k(this._delegate,e))))}loadBundle(e){return function(e,t){const n=oE(e=q_(e,iE)),r=new rE;return R_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return hE(this._delegate,e).then((e=>e?new Kk(this,e):null))}}class Mk extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new jk(new fE(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bk.forKey(t,this.firestore,null)}}class Lk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Mk(e)}get(e){const t=Xk(e);return this._delegate.get(t).then((e=>new $k(this._firestore,new hk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Xk(e);return n?(Ak("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=Xk(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Xk(e);return this._delegate.delete(t),this}}class Fk{constructor(e){this._delegate=e}set(e,t,n){const r=Xk(e);return n?(Ak("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=Xk(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Xk(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Uk{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new dk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wk(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Uk.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Uk(e,new Mk(e),t),r.set(t,i)),i}}Uk.INSTANCES=new WeakMap;class Bk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mk(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Bf("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bk(t,new Q_(t._delegate,n,new sp(e)))}static forKey(e,t,n){return new Bk(t,new Q_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Qk(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qk(this.firestore,Y_(this._delegate,e))}catch(t){throw Vk(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ha(e))instanceof Q_&&Z_(this._delegate,e)}set(e,t){t=Ak("DocumentReference.set",t);try{return t?bk(this._delegate,e,t):bk(this._delegate,e)}catch(n){throw Vk(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?wk(this._delegate,e):wk(this._delegate,e,t,...r)}catch(o){throw Vk(o,"updateDoc()","DocumentReference.update()")}}delete(){return _k(q_((e=this._delegate).firestore,iE),[new Gy(e._key,Dy.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=zk(t),i=qk(t,(e=>new $k(this.firestore,new hk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return xk(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?yk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=q_(e,Q_);const t=q_(e.firestore,iE);return N_(oE(t),e._key,{source:"server"}).then((n=>Ek(t,e,n)))}(this._delegate):function(e){e=q_(e,Q_);const t=q_(e.firestore,iE);return N_(oE(t),e._key).then((n=>Ek(t,e,n)))}(this._delegate),t.then((e=>new $k(this.firestore,new hk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Bk(this.firestore,e?this._delegate.withConverter(Uk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Vk(e,t,n){return e.message=e.message.replace(t,n),e}function zk(e){for(const t of e)if("object"===typeof t&&!Nk(t))return t;return{}}function qk(e,t){var n,r;let i;return i=Nk(e[0])?e[0]:Nk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class $k{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bk(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mk(this._delegate,e._delegate)}}class Wk extends $k{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Mf(),t}}class Kk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mk(e)}where(e,t,n){try{return new Kk(this.firestore,XE(this._delegate,function(e,t,n){const r=t,i=KE("where",e);return YE._create(i,r,n)}(e,t,n)))}catch(r){throw Vk(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Kk(this.firestore,XE(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=KE("orderBy",e);return ZE._create(n,t)}(e,t)))}catch(n){throw Vk(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Kk(this.firestore,XE(this._delegate,($_("limit",t=e),ek._create("limit",t,"F"))))}catch(t){throw Vk(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Kk(this.firestore,XE(this._delegate,($_("limitToLast",t=e),ek._create("limitToLast",t,"L"))))}catch(t){throw Vk(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Kk(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tk._create("startAt",t,!0)}(...arguments)))}catch(e){throw Vk(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Kk(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tk._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Vk(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Kk(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nk._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Vk(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Kk(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nk._create("endAt",t,!0)}(...arguments)))}catch(e){throw Vk(e,"endAt()","Query.endAt()")}}isEqual(e){return eE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?vk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=q_(e,H_);const t=q_(e.firestore,iE),n=oE(t),r=new gk(t);return D_(n,e._query,{source:"server"}).then((n=>new fk(t,r,e,n)))}(this._delegate):function(e){e=q_(e,H_);const t=q_(e.firestore,iE),n=oE(t),r=new gk(t);return GE(e._query),D_(n,e._query).then((n=>new fk(t,r,e,n)))}(this._delegate),t.then((e=>new Hk(this.firestore,new fk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=zk(t),i=qk(t,(e=>new Hk(this.firestore,new fk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return xk(this._delegate,r,i)}withConverter(e){return new Kk(this.firestore,e?this._delegate.withConverter(Uk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Gk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Wk(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Kk(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Wk(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Gk(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Wk(this._firestore,n))}))}isEqual(e){return mk(this._delegate,e._delegate)}}class Qk extends Kk{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bk(this.firestore,e):null}doc(e){try{return new Bk(this.firestore,void 0===e?J_(this._delegate):J_(this._delegate,e))}catch(t){throw Vk(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=q_(e.firestore,iE),r=J_(e),i=uk(e.converter,t);return _k(n,[kE(EE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Dy.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Bk(this.firestore,e)))}isEqual(e){return Z_(this._delegate,e._delegate)}withConverter(e){return new Qk(this.firestore,e?this._delegate.withConverter(Uk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xk(e){return q_(e,Q_)}class Yk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new pE(...t)}static documentId(){return new Yk(ap.keyField().canonicalString())}isEqual(e){return(e=ha(e))instanceof pE&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jk{constructor(e){this._delegate=e}static serverTimestamp(){const e=new IE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Jk(e)}static delete(){const e=new OE("deleteField");return e._methodName="FieldValue.delete",new Jk(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new AE("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Jk(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CE("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Jk(e)}static increment(e){const t=new PE("increment",e);return t._methodName="FieldValue.increment",new Jk(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Zk={Firestore:Rk,GeoPoint:gE,Timestamp:tp,Blob:jk,Transaction:Lk,WriteBatch:Fk,DocumentReference:Bk,DocumentSnapshot:$k,Query:Kk,QueryDocumentSnapshot:Wk,QuerySnapshot:Hk,CollectionReference:Qk,FieldPath:Yk,FieldValue:Jk,setLogLevel:function(e){var t;t=e,Cf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function eO(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function tO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(e){!function(e,t){e.INTERNAL.registerComponent(new da("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Zk)))}(e,((e,t)=>new Rk(e,t,new Dk))),e.registerVersion("@firebase/firestore-compat","0.3.35")}(nu);var nO=function(){return nO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nO.apply(this,arguments)},rO=function(e){return{loading:void 0===e||null===e,value:e}},iO=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return nO(nO({},e),{error:t.error,loading:!1,value:void 0});case"reset":return rO(t.defaultValue);case"value":return nO(nO({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),rO(t)),r=n[0],o=n[1],a=(0,i.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),s=(0,i.useCallback)((function(e){o({type:"error",error:e})}),[]),u=(0,i.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:s,setValue:u,value:r.value}}),[r.error,r.loading,a,s,u,r.value])},oO=function(e,t){var n=iO((function(){return e.currentUser})),r=n.error,o=n.loading,a=n.setError,s=n.setValue,u=n.value;return(0,i.useEffect)((function(){var n=function(e,t,n,r){return ha(e).onAuthStateChanged(t,n,r)}(e,(function(e){return eO(void 0,void 0,void 0,(function(){var n;return tO(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),a(n),[3,4];case 4:return s(e),[2]}}))}))}),a);return function(){n()}}),[e]),[u,o,r]};var aO=function(){return aO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aO.apply(this,arguments)},sO=function(e){return{loading:void 0===e||null===e,value:e}},uO=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return aO(aO({},e),{error:t.error,loading:!1,value:void 0});case"reset":return sO(t.defaultValue);case"value":return aO(aO({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),sO(t)),r=n[0],o=n[1],a=(0,i.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),s=(0,i.useCallback)((function(e){o({type:"error",error:e})}),[]),u=(0,i.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:s,setValue:u,value:r.value}}),[r.error,r.loading,a,s,u,r.value])},cO=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},lO=function(e,t){var n=!e&&!t,r=!!e&&!!t&&eE(e,t);return n||r},hO=function(e,t){return cO(e,lO,t)},dO=function(e,t){var n=function(e,t){var n=uO(),r=n.error,o=n.loading,a=n.reset,s=n.setError,u=n.setValue,c=n.value,l=hO(e,a);return(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?xk(l.current,t.snapshotListenOptions,u,s):xk(l.current,u,s);return function(){e()}}u(void 0)}),[l.current]),[c,o,r]}(e,t),r=n[0],o=n[1],a=n[2];return[fO(r,null===t||void 0===t?void 0:t.snapshotOptions,null===t||void 0===t?void 0:t.initialValue),o,a,r]},fO=function(e,t,n){return(0,i.useMemo)((function(){var r;return null!==(r=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)})))&&void 0!==r?r:n}),[e,t])};const pO={apiKey:"AIzaSyDcDT6_YwFCdV-rTmWpPg4AU_TZuWkozU0",authDomain:"myduka-7a96c.firebaseapp.com",projectId:"myduka-7a96c",storageBucket:"myduka-7a96c.appspot.com",messagingSenderId:"605956557028",appId:"1:605956557028:web:54ce760fd340f6c3e8c4f1",measurementId:"G-L282JV82EF"};nu.apps.length||nu.initializeApp(pO);const mO=nu.auth(),gO=nu.firestore();function yO(e){let{selectUser:t}=e;const n=gO.collection("users"),[r]=dO(n),[i]=oO(mO);if(!r||!i)return(0,di.jsx)("p",{children:"Loading..."});const o=r.filter((e=>e.uid!==i.uid));return(0,di.jsxs)("div",{className:"user-list",children:[(0,di.jsx)("h3",{className:"user-list-header",children:"Select a user to chat with:"}),o.length>0?o.map((e=>(0,di.jsx)("div",{onClick:()=>t(e),className:"user-item",children:(0,di.jsx)("p",{className:"user-name",children:e.displayName})},e.uid))):(0,di.jsx)("p",{children:"No users available to chat with."})]})}function vO(e){let{chatId:t,selectedUser:n,onBack:r}=e;const o=(0,i.useRef)(),a=nu.firestore().collection("chats").doc(t).collection("messages"),s=a.orderBy("createdAt").limit(25),[u]=dO(s,{idField:"id"}),[c,l]=(0,i.useState)("");return(0,i.useEffect)((()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[u]),(0,di.jsxs)(di.Fragment,{children:[(0,di.jsx)("header",{children:(0,di.jsxs)("div",{className:"header-container",children:[(0,di.jsx)("div",{className:"back-button-container",children:r()}),(0,di.jsx)("h2",{className:"header-title",children:n.displayName})]})}),(0,di.jsxs)("main",{className:"main",children:[u&&u.map((e=>(0,di.jsx)(bO,{message:e},e.id))),(0,di.jsx)("span",{ref:o})]}),(0,di.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{uid:t,photoURL:n}=mO.currentUser;await a.add({text:c,createdAt:nu.firestore.FieldValue.serverTimestamp(),uid:t,photoURL:n}),l(""),o.current.scrollIntoView({behavior:"smooth"})},className:"form",children:[(0,di.jsx)("input",{className:"input",value:c,onChange:e=>l(e.target.value),placeholder:"Say something nice"}),(0,di.jsx)("button",{className:"button",type:"submit",disabled:!c,children:"Send"})]})]})}function bO(e){const{text:t,uid:n,photoURL:r}=e.message,i=n===mO.currentUser.uid?"sent":"received";return(0,di.jsxs)("div",{className:`message ${i}`,children:[(0,di.jsx)("img",{className:"img",src:r||"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"avatar"}),(0,di.jsx)("p",{className:"p",children:t})]})}const wO=function(){const e=b((e=>e.user.user)),[t]=oO(mO),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(null),s=(0,i.useRef)(!1),u=()=>{r(null),a(null)},[c,l]=(0,i.useState)(!0),h=()=>{window.innerWidth>768?l(!0):l(!1)};return(0,i.useEffect)((()=>(h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)})),[]),(0,i.useEffect)((()=>{e&&!s.current&&((async()=>{try{await mO.signInWithEmailAndPassword(e.email,e.email)}catch(t){if("auth/user-not-found"===t.code||"auth/invalid-credential"===t.code)try{const t=(await mO.createUserWithEmailAndPassword(e.email,e.email)).user;await gO.collection("users").doc(t.uid).set({uid:t.uid,displayName:e.username,email:e.email,photoURL:e.profilePicture||""})}catch(n){console.error("Error during sign up:",n)}else console.error("Error during sign in:",t)}})(),s.current=!0)}),[e]),(0,di.jsxs)("div",{className:"AppChat",children:[(0,di.jsx)("button",{className:"menu-button",onClick:()=>{l(!c)},children:"\u2630"}),c&&(0,di.jsx)("div",{className:"sidebarChat",children:(0,di.jsx)(TO,{})}),(0,di.jsx)("div",{className:"chat-area",children:(0,di.jsx)("section",{children:t?n?(0,di.jsx)(vO,{chatId:o,selectedUser:n,onBack:function(){return(0,di.jsx)("button",{onClick:u,className:"button back-button",style:{color:"white"},children:"Back"})}}):(0,di.jsx)(yO,{selectUser:e=>{const t=[mO.currentUser.uid,e.uid].sort().join("_");a(t),r(e)}}):(0,di.jsx)("p",{className:"p",children:"Loading..."})})})]})},xO="Profile_profileContainer__CUA1O",SO="Profile_profileHeader__PkwQv",_O="Profile_closeButton__3d3xP",EO="Profile_profileDetails__pwz5t",kO="Profile_saveButton__5-BXx",OO=e=>{let{onClose:t}=e;const n=b((e=>e.user.user)),r=P(),[o,a]=(0,i.useState)({username:n.username,email:n.email,phone_number:n.phone_number}),s=e=>{const{name:t,value:n}=e.target;a({...o,[t]:n})};return(0,di.jsxs)("div",{className:xO,children:[(0,di.jsx)("div",{className:SO,children:(0,di.jsx)("button",{onClick:t,className:_O,children:"X"})}),(0,di.jsxs)("div",{className:EO,children:[(0,di.jsxs)("label",{children:["Username:",(0,di.jsx)("input",{type:"text",name:"username",value:o.username,onChange:s})]}),(0,di.jsxs)("label",{children:["Email:",(0,di.jsx)("input",{type:"email",name:"email",value:o.email,onChange:s})]}),(0,di.jsxs)("label",{children:["Phone:",(0,di.jsx)("input",{type:"text",name:"phone_number",value:o.phone_number,onChange:s})]})]}),(0,di.jsx)("button",{onClick:()=>{console.log(o),fetch(`https://my-duka-back-end.vercel.app/editUser/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,role:n.role})}).then((e=>e.json())).then((e=>{console.log(e),r(dt(e))})),t()},className:kO,children:"Save"})]})},TO=()=>{const e=b((e=>e.user.user)),t=b((e=>e.darkMode.mode)),n=(b((e=>e.showAddProduct.mode)),P()),r=lo(),[o,a]=(0,i.useState)(!1),s=()=>{a(!o)};(0,i.useEffect)((()=>{const e=localStorage.getItem("darkMode");e&&n(St(JSON.parse(e)))}),[n]),console.log(e.profilePicture);return(0,di.jsxs)("div",{className:t?Po:Co,children:[(0,di.jsx)("h2",{onClick:()=>{"Merchant"===e.role?r("/merchant"):"Clerk"===e.role?r(`/clerk/${e.id}`):r(`/admin/${e.id}`)},style:{cursor:"pointer"},children:"My Duka"}),(0,di.jsxs)("div",{className:jo,children:[(0,di.jsx)("img",{src:e.profilePicture,alt:"Profile Icon",className:No,onClick:s}),(0,di.jsx)("span",{className:Do,children:e.username})," "]}),(0,di.jsx)("button",{className:"add-product-btn",onClick:()=>{"Merchant"===e.role?r("/merchant"):"Clerk"===e.role?r(`/clerk/${e.id}`):r(`/admin/${e.id}`)},style:{cursor:"pointer"},children:"Dashboard"}),(0,di.jsx)("button",{className:"add-product-btn",onClick:()=>r("/chatBot"),children:"Messages"}),(0,di.jsx)("button",{onClick:()=>{n(St()),localStorage.setItem("darkMode",JSON.stringify(!t))},className:"add-product-btn",children:t?"Light Mode":"Dark Mode"}),(0,di.jsxs)("div",{className:"navItem",style:{gap:"1rem"},children:[(0,di.jsx)("img",{src:Ao,width:30,alt:"logout"})," ",(0,di.jsx)("h2",{onClick:()=>{localStorage.clear("access_token"),mO.signOut(),r("/")},style:{cursor:"pointer",textDecoration:"none",marginTop:"0.8rem"},onMouseEnter:e=>e.target.style.textDecoration="underline",onMouseLeave:e=>e.target.style.textDecoration="none",children:"Log Out"})]}),"Admin"==e.role&&(0,di.jsxs)("button",{className:"add-product-btn",onClick:()=>n(si()),children:[(0,di.jsx)("span",{className:"plus-icon",children:"+"})," Add Product"]}),"Merchant"==e.role&&(0,di.jsxs)("button",{className:"add-product-btn",onClick:()=>n(li()),children:[(0,di.jsx)("span",{className:"plus-icon",children:"+"})," Add Store"]}),o&&(0,di.jsx)(OO,{onClose:s})," "]})},IO=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)(null),[s,u]=(0,i.useState)(0),c=(lo(),P()),[l,h]=(0,i.useState)(!1),[d,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),g=b((e=>e.user.user)),y=b((e=>e.truthValue.truthValue)),v=b((e=>e.product.currentPackage)),w=b((e=>e.darkMode.mode)),x=g.store_id;(0,i.useEffect)((()=>{fetch(`https://my-duka-back-end.vercel.app/getProducts/${x}`).then((e=>e.json())).then((e=>t(e)))}),[y,g,x,n]),(0,i.useEffect)((()=>{fetch(`https://my-duka-back-end.vercel.app/sales/${x}`).then((e=>e.json())).then((e=>r(e.sales.filter((e=>e.clerk_id===g.id)))))}),[x,e,y]);const S=()=>{h(!0)},_=e=>{c(ut(e)),h(!1),f(!0)},E=()=>{fetch(`http://127.0.0.1:5555/requests/${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_name:v.name,stock:parseInt(v.stock),product_price:v.price,brand_name:v.brand_name,clerk_id:g.id,category:v.category})}).then((e=>e.json())),c(ct()),f(!1)},k=()=>{m(!0)},O=e=>{fetch(`https://my-duka-back-end.vercel.app/sales/${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_name:e.productName,date:e.date,quantity:parseInt(e.quantity),clerk_id:g.id})}).then((e=>e.json())),console.log("Sold item:",e),m(!1),c(gt())},T=(e=>e.reduce(((e,t)=>{const{product_name:n}=t;return e[n]||(e[n]=[]),e[n].push(t),e}),{}))(n);if(!g)return(0,di.jsx)("h2",{children:"Kindly log in"});const I=e=>{((e,n)=>{t((t=>t.map((t=>t.id===e?{...t,spoilt_items:n}:t))))})(e,s),a(null),fetch(`https://my-duka-back-end.vercel.app/updateProduct/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({spoilt_items:s})}).then((e=>e.json())).then((()=>{a(null)}))};return"Clerk"===g.role?(0,di.jsxs)("div",{className:"admin-page "+(w?"dark-mode":""),children:[(0,di.jsx)(TO,{}),(0,di.jsxs)("main",{className:"main-content",children:[(0,di.jsxs)("header",{children:[(0,di.jsx)("h1",{children:g.username}),(0,di.jsxs)("div",{children:[(0,di.jsx)("button",{className:"sell-btn",onClick:k,children:"Sell Item"}),(0,di.jsx)("button",{className:"request-btn",onClick:S,children:"Request Products"})]})]}),(0,di.jsxs)("section",{className:"inventory",children:[(0,di.jsx)("h2",{children:"Inventory"}),(0,di.jsx)("div",{className:"table-responsive",children:(0,di.jsxs)("table",{children:[(0,di.jsx)("thead",{children:(0,di.jsxs)("tr",{children:[(0,di.jsx)("th",{children:"Item"}),(0,di.jsx)("th",{children:"Payment status"}),(0,di.jsx)("th",{children:"In stock"}),(0,di.jsx)("th",{children:"In units"}),(0,di.jsx)("th",{children:"Spoilt items"}),(0,di.jsx)("th",{children:"Unit Price"}),(0,di.jsx)("th",{children:"Sell Price"})]})}),(0,di.jsx)("tbody",{children:e.map((e=>(0,di.jsxs)("tr",{children:[(0,di.jsx)("td",{children:e.product_name}),(0,di.jsx)("td",{children:e.payment_status}),(0,di.jsx)("td",{children:e.closing_stock}),(0,di.jsx)("td",{children:"kg"}),(0,di.jsx)("td",{style:{display:"flex",gap:"1rem"},children:o===e.id?(0,di.jsxs)("div",{children:[(0,di.jsx)("input",{type:"number",value:s,onChange:e=>u(parseInt(e.target.value)),style:{width:"50%"}}),(0,di.jsx)("button",{onClick:()=>I(e.id),children:"Save"})]}):(0,di.jsxs)(di.Fragment,{children:[e.spoilt_items,(0,di.jsx)("button",{onClick:()=>{return t=e.id,n=e.spoilt_items,a(t),void u(n);var t,n},children:"Edit"})]})}),(0,di.jsx)("td",{children:e.buying_price}),(0,di.jsx)("td",{children:e.selling_price})]},e.id)))})]})})]}),(0,di.jsxs)("section",{className:"sales",children:[(0,di.jsx)("h2",{children:"Sales"}),Object.keys(T).map((e=>(0,di.jsxs)("div",{children:[(0,di.jsx)("h3",{children:e}),(0,di.jsx)("div",{className:"table-responsive",children:(0,di.jsxs)("table",{children:[(0,di.jsx)("thead",{children:(0,di.jsxs)("tr",{children:[(0,di.jsx)("th",{children:"DATE"}),(0,di.jsx)("th",{children:"ITEM"}),(0,di.jsx)("th",{children:"QUANTITY SOLD"}),(0,di.jsx)("th",{children:"QUANTITY UNSOLD"}),(0,di.jsx)("th",{children:"PROFIT"})]})}),(0,di.jsx)("tbody",{children:T[e].map((e=>(0,di.jsxs)("tr",{children:[(0,di.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,di.jsx)("td",{children:e.product_name}),(0,di.jsx)("td",{children:e.quantity_sold}),(0,di.jsx)("td",{children:e.quantity_in_hand}),(0,di.jsx)("td",{children:e.profit})]},e.id)))})]})})]},e)))]})]}),l&&(0,di.jsx)(fi,{onClose:()=>h(!1),onAddPackage:_}),d&&(0,di.jsx)(pi,{onClose:()=>f(!1),onConfirmPackage:E}),p&&(0,di.jsx)(mi,{onClose:()=>m(!1),onAddSoldItem:O})]}):void 0};var AO=n(7950),CO=n.t(AO,2);function PO(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(aH){}new Map;const jO=o.startTransition;CO.flushSync,o.useId;function NO(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),ki((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=Ei(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Si("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:_i(t))}),(function(e,t){wi("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let u=a.current,[c,l]=i.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&jO?jO((()=>l(e))):l(e)}),[l,h]);return i.useLayoutEffect((()=>u.listen(d)),[u,d]),i.createElement(Oo,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var DO,RO;function MO(e){let t=i.useRef(PO(e)),n=i.useRef(!1),r=uo(),o=i.useMemo((()=>function(e,t){let n=PO(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=lo(),s=i.useCallback(((e,t)=>{const r=PO("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DO||(DO={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(RO||(RO={}));const LO=n.p+"static/media/pexels-rebrand-cities-581004-1367272.6f9e208c303ebb5ad286.jpg";function FO(){const[e]=MO(),[t,n]=(0,i.useState)({full_name:"",phone_number:"",email:"",password:"",confirmPassword:"",profilePicture:""}),r=e.get("token"),[o,a]=(0,i.useState)(),[s,u]=(0,i.useState)(!1),c=lo(),l=P(),h=e=>{n({...t,[e.target.name]:e.target.value})};return(0,i.useEffect)((()=>{fetch("https://my-duka-back-end.vercel.app/validate-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r})}).then((e=>e.json())).then((e=>{e.valid?u(!0):u(!1)}))}),[r]),console.log(r),(0,di.jsx)("div",{className:"container",children:(0,di.jsxs)("div",{className:"combined-section",children:[(0,di.jsxs)("div",{className:"welcome-section",children:[(0,di.jsx)("h1",{className:"title",children:"Welcome to MyDuka"}),(0,di.jsx)("img",{src:LO,style:{width:"100%"},alt:"Background"}),(0,di.jsx)("p",{className:"description",children:"Join us to manage your inventory efficiently and grow your business."})]}),s?(0,di.jsxs)("div",{className:"signup-section",children:[(0,di.jsxs)("div",{className:"signup-form-container",children:[(0,di.jsx)("h2",{className:"form-title",children:"Create Account"}),(0,di.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.password===t.confirmPassword?fetch("https://my-duka-back-end.vercel.app/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,token:r})}).then((e=>e.json())).then((e=>{localStorage.setItem("access_token",e.access_token);let t=e.user;l(dt(t)),"Clerk"===t.role?c(`/clerk/${t.id}`):"Admin"===t.role?c(`/admin/${t.id}`):"Merchant"===t.role?c("/merchant"):c("/")})).catch((e=>console.log(e))):a("Passwords do not match")},className:"signup-form",children:[(0,di.jsxs)("div",{className:"input-group",children:[(0,di.jsx)(zO,{className:"icon"}),(0,di.jsx)("input",{type:"text",placeholder:"Full Name",className:"input",onChange:h,name:"full_name",value:t.full_name})]}),(0,di.jsxs)("div",{className:"input-group",children:[(0,di.jsx)(zO,{className:"icon"}),(0,di.jsx)("input",{type:"text",placeholder:"Image link",className:"input",onChange:h,name:"profilePicture",value:t.profilePicture})]}),(0,di.jsxs)("div",{className:"input-group",children:[(0,di.jsx)(VO,{className:"icon"}),(0,di.jsx)("input",{type:"text",placeholder:"Phone Number",className:"input",onChange:h,name:"phone_number",value:t.phone_number})]}),(0,di.jsxs)("div",{className:"input-group",children:[(0,di.jsx)(BO,{className:"icon"}),(0,di.jsx)("input",{type:"email",placeholder:"Email",className:"input",name:"email",onChange:h,value:t.email})]}),(0,di.jsxs)("div",{className:"input-group",children:[(0,di.jsx)(UO,{className:"icon"}),(0,di.jsx)("input",{type:"password",placeholder:"Password",className:"input",name:"password",onChange:h,value:t.password})]}),(0,di.jsxs)("div",{className:"input-group",children:[(0,di.jsx)(UO,{className:"icon"}),(0,di.jsx)("input",{type:"password",placeholder:"Confirm Password",className:"input",onChange:h,name:"confirmPassword",value:t.confirmPassword})]}),(0,di.jsx)("button",{type:"submit",className:"submit-button small-button",children:"CREATE ACCOUNT"})]}),(0,di.jsxs)("p",{className:"login-link",children:["Already have an account?"," ",(0,di.jsx)("p",{className:"login-button",onClick:()=>c("/login"),style:{cursor:"pointer",textDecoration:"none"},onMouseEnter:e=>e.target.style.textDecoration="underline",onMouseLeave:e=>e.target.style.textDecoration="none",children:"Log In"})]})]}),(0,di.jsx)("p",{children:o})]}):(0,di.jsx)("p",{children:"Invalid token"})]})})}function UO(e){return(0,di.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,di.jsx)("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),(0,di.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}function BO(e){return(0,di.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,di.jsx)("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),(0,di.jsx)("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}function VO(e){return(0,di.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,di.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}function zO(e){return(0,di.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,di.jsx)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,di.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}const qO="AdminItem_adminItem__yH1dO",$O="AdminItem_button__q7b1U",WO="AdminItem_deleteButton__AdHUa",KO="AdminItem_inactivateButton__g4RUw",GO="AdminItem_viewButton__UjGwC",HO=e=>{let{admin:t,removeAdmin:n}=e;const r=P(),o=lo(),[a,s]=(0,i.useState)(t.account_status);return(0,di.jsxs)("div",{className:qO,children:[(0,di.jsx)("span",{children:`Store ${t.store_id} [${t.username}]`}),(0,di.jsx)("button",{onClick:async()=>{n(t.id);try{const e=await fetch(`https://my-duka-back-end.vercel.app/adminAccountStatus/${t.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});e.ok?console.log(`Deleted ${t.name}`):console.error("Error deleting admin:",e.statusText)}catch(e){console.error("Error deleting admin:",e)}},className:`${$O} ${WO}`,children:"Delete"}),(0,di.jsx)("button",{onClick:async()=>{try{fetch(`https://my-duka-back-end.vercel.app/adminAccountStatus/${t.id}`).then((e=>{if(e.ok)return console.log(`Inactivated ${t.username}`),e.json();console.error("Error inactivating merchant:",e.statusText)})).then((e=>s(e.status)))}catch(e){console.error("Error inactivating merchant:",e)}},className:`${$O} ${KO}`,children:a}),(0,di.jsx)("button",{className:`${$O} ${GO}`,onClick:function(){r(bt(t)),o(`/admin/${t.id}`)},children:"View Store"})]})},QO="AddAdminForm_overlay__CdVLM",XO="AddAdminForm_formContainer__oieu7",YO="AddAdminForm_formGroup__PNQqM",JO="AddAdminForm_formActions__HgRvP",ZO="AddAdminForm_submitButton__9jJ1L",eT="AddAdminForm_cancelButton__A6ux1",tT=e=>{let{onClose:t}=e;const[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(),[s,u]=(0,i.useState)();(0,i.useEffect)((()=>{fetch("https://my-duka-back-end.vercel.app/stores").then((e=>e.json())).then((e=>u(e)))}),[]);return(0,di.jsx)("div",{className:QO,children:(0,di.jsxs)("div",{className:XO,children:[(0,di.jsx)("h2",{children:"Add Admin"}),(0,di.jsxs)("form",{onSubmit:e=>{var r;e.preventDefault();const i=null===(r=s.find((e=>e.name===o)))||void 0===r?void 0:r.id;i?fetch("https://my-duka-back-end.vercel.app/inviteAdmin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({store_id:i,email:n})}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{t()})).catch((e=>{console.error("There was a problem with the fetch operation:",e),alert("Failed to add new admin.")})):alert("Store not found or not selected.")},children:[(0,di.jsxs)("div",{className:YO,children:[(0,di.jsx)("label",{children:"email:"}),(0,di.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),required:!0}),(0,di.jsx)("label",{children:"store id:"}),(0,di.jsxs)("select",{value:o,onChange:e=>a(e.target.value),required:!0,children:[(0,di.jsx)("option",{children:"Select a store"}),s&&s.map((e=>(0,di.jsx)("option",{children:e.name},e.id)))]})]}),(0,di.jsxs)("div",{className:JO,children:[(0,di.jsx)("button",{type:"submit",className:ZO,children:"Add"}),(0,di.jsx)("button",{type:"button",onClick:t,className:eT,children:"Cancel"})]})]})]})})},nT="MerchantDashboard_mainContent__QEO9J",rT="MerchantDashboard_header__V5iHL",iT="MerchantDashboard_addButton__IF4Ia",oT="MerchantDashboard_sales__fzPkB";function aT(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=aT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const sT=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=aT(e))&&(r&&(r+=" "),r+=t);return r};var uT=n(9889),cT=n.n(uT),lT=n(9062),hT=n(620),dT=n.n(hT),fT=n(5268),pT=n.n(fT),mT=n(3097),gT=n.n(mT),yT=n(9160),vT=n.n(yT),bT=function(e){return 0===e?0:e>0?1:-1},wT=function(e){return dT()(e)&&e.indexOf("%")===e.length-1},xT=function(e){return vT()(e)&&!pT()(e)},ST=function(e){return xT(e)||dT()(e)},_T=0,ET=function(e){var t=++_T;return"".concat(e||"").concat(t)},kT=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!xT(e)&&!dT()(e))return r;if(wT(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return pT()(n)&&(n=r),i&&n>t&&(n=t),n},OT=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},TT=function(e,t){return xT(e)&&xT(t)?function(n){return e+n*(t-e)}:function(){return t}};function IT(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):gT()(e,t))===n})):null}var AT=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},CT=n(9686),PT=n.n(CT),jT=n(1629),NT=n.n(jT),DT=n(6686),RT=n.n(DT);function MT(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function LT(e){return LT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LT(e)}var FT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UT=["points","pathLength"],BT={svg:["viewBox","children"],polygon:UT,polyline:UT},VT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zT=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!RT()(n))return null;var r={};return Object.keys(n).forEach((function(e){VT.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},qT=function(e,t,n){if(!RT()(e)||"object"!==LT(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];VT.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},$T=["children"],WT=["children"];function KT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GT(e){return GT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GT(e)}var HT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},QT=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},XT=null,YT=null,JT=function e(t){if(t===XT&&Array.isArray(YT))return YT;var n=[];return i.Children.forEach(t,(function(t){PT()(t)||((0,lT.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),YT=n,XT=t,n};function ZT(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return QT(e)})):[QT(t)],JT(e).forEach((function(e){var t=gT()(e,"type.displayName")||gT()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function eI(e,t){var n=ZT(e,t);return n&&n[0]}var tI=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!xT(n)||n<=0||!xT(r)||r<=0)},nI=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rI=function(e){return e&&e.type&&dT()(e.type)&&nI.indexOf(e.type)>=0},iI=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!RT()(r))return null;var o={};return Object.keys(r).forEach((function(e){var i;(function(e,t,n,r){var i,o=null!==(i=null===BT||void 0===BT?void 0:BT[r])&&void 0!==i?i:[];return!NT()(e)&&(r&&o.includes(t)||FT.includes(t))||n&&VT.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(o[e]=r[e])})),o},oI=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return aI(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!aI(a,s))return!1}return!0},aI=function(e,t){if(PT()(e)&&PT()(t))return!0;if(!PT()(e)&&!PT()(t)){var n=e.props||{},r=n.children,i=KT(n,$T),o=t.props||{},a=o.children,s=KT(o,WT);return r&&a?MT(i,s)&&oI(r,a):!r&&!a&&MT(i,s)}return!1},sI=function(e,t){var n=[],r={};return JT(e).forEach((function(e,i){if(rI(e))n.push(e);else if(e){var o=QT(e.type),a=t[o]||{},s=a.handler,u=a.once;if(s&&(!u||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n};function uI(e){return uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uI(e)}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cI(Object(n),!0).forEach((function(t){hI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=uI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pI=(0,i.forwardRef)((function(e,t){var n=e.aspect,r=e.initialDimension,o=void 0===r?{width:-1,height:-1}:r,a=e.width,s=void 0===a?"100%":a,u=e.height,c=void 0===u?"100%":u,l=e.minWidth,h=void 0===l?0:l,d=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,S=(0,i.useRef)(null),_=(0,i.useRef)();_.current=b,(0,i.useImperativeHandle)(t,(function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})}));var E=dI((0,i.useState)({containerWidth:o.width,containerHeight:o.height}),2),k=E[0],O=E[1],T=(0,i.useCallback)((function(e,t){O((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,i.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;T(r,i),null===(t=_.current)||void 0===t||t.call(_,r,i)};g>0&&(e=cT()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,i=n.height;return T(r,i),t.observe(S.current),function(){t.disconnect()}}),[T,g]);var I=(0,i.useMemo)((function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;AT(wT(s)||wT(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),AT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=wT(s)?e:s,o=wT(c)?t:c;n&&n>0&&(r?o=r/n:o&&(r=o*n),f&&o>f&&(o=f)),AT(r>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,o,s,c,h,d,n);var a=!Array.isArray(p)&&(0,lT.isElement)(p)&&QT(p.type).endsWith("Chart");return i.Children.map(p,(function(e){return(0,lT.isElement)(e)?(0,i.cloneElement)(e,lI({width:r,height:o},a?{style:lI({height:"100%",width:"100%",maxHeight:o,maxWidth:r},e.props.style)}:{})):e}))}),[n,p,c,f,d,h,k,s]);return i.createElement("div",{id:y?"".concat(y):void 0,className:sT("recharts-responsive-container",v),style:lI(lI({},x),{},{width:s,height:c,minWidth:h,minHeight:d,maxHeight:f}),ref:S},I)})),mI=n(6604),gI=n.n(mI),yI=n(7424),vI=n.n(yI),bI=!0,wI="Invariant failed";function xI(e,t){if(!e){if(bI)throw new Error(wI);var n="function"===typeof t?t():t,r=n?"".concat(wI,": ").concat(n):wI;throw new Error(r)}}var SI=["children","width","height","viewBox","className","style","title","desc"];function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(this,arguments)}function EI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kI(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,s=e.style,u=e.title,c=e.desc,l=EI(e,SI),h=o||{width:n,height:r,x:0,y:0},d=sT("recharts-surface",a);return i.createElement("svg",_I({},iI(l,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),i.createElement("title",null,u),i.createElement("desc",null,c),t)}var OI=["children","className"];function TI(){return TI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TI.apply(this,arguments)}function II(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var AI=i.forwardRef((function(e,t){var n=e.children,r=e.className,o=II(e,OI),a=sT("recharts-layer",r);return i.createElement("g",TI({className:a},iI(o,!0),{ref:t}),n)}));function CI(e){return CI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CI(e)}function PI(){return PI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PI.apply(this,arguments)}function jI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return NI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DI(Object(n),!0).forEach((function(t){MI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LI(e){return Array.isArray(e)&&ST(e[0])&&ST(e[1])?e.join(" ~ "):e}var FI=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,o=void 0===r?{}:r,a=e.itemStyle,s=void 0===a?{}:a,u=e.labelStyle,c=void 0===u?{}:u,l=e.payload,h=e.formatter,d=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=RI({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=RI({margin:0},c),x=!PT()(m),S=x?m:"",_=sT("recharts-default-tooltip",f),E=sT("recharts-tooltip-label",p);x&&g&&void 0!==l&&null!==l&&(S=g(m,l));var k=v?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",PI({className:_,style:b},k),i.createElement("p",{className:E,style:w},i.isValidElement(S)?S:"".concat(S)),function(){if(l&&l.length){var e=(d?vI()(l,d):l).map((function(e,t){if("none"===e.type)return null;var r=RI({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||h||LI,a=e.value,u=e.name,c=a,d=u;if(o&&null!=c&&null!=d){var f=o(a,u,e,t,l);if(Array.isArray(f)){var p=jI(f,2);c=p[0],d=p[1]}else c=f}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},ST(d)?i.createElement("span",{className:"recharts-tooltip-item-name"},d):null,ST(d)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function UI(e){return UI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UI(e)}function BI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VI="recharts-tooltip-wrapper",zI={visibility:"hidden"};function qI(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return sT(VI,BI(BI(BI(BI({},"".concat(VI,"-right"),xT(n)&&t&&xT(t.x)&&n>=t.x),"".concat(VI,"-left"),xT(n)&&t&&xT(t.x)&&n<t.x),"".concat(VI,"-bottom"),xT(r)&&t&&xT(t.y)&&r>=t.y),"".concat(VI,"-top"),xT(r)&&t&&xT(t.y)&&r<t.y))}function $I(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,u=e.viewBox,c=e.viewBoxDimension;if(o&&xT(o[r]))return o[r];var l=n[r]-s-i,h=n[r]+i;return t[r]?a[r]?l:h:a[r]?l<u[r]?Math.max(h,u[r]):Math.max(l,u[r]):h+s>u[r]+c?Math.max(l,u[r]):Math.max(h,u[r])}function WI(e){return WI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WI(e)}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KI(Object(n),!0).forEach((function(t){eA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tA(r.key),r)}}function QI(e,t,n){return t=YI(t),function(e,t){if(t&&("object"===WI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return JI(e)}(e,XI()?Reflect.construct(t,n||[],YI(e).constructor):t.apply(e,n))}function XI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(XI=function(){return!!e})()}function YI(e){return YI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YI(e)}function JI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZI(e,t){return ZI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZI(e,t)}function eA(e,t,n){return(t=tA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tA(e){var t=function(e,t){if("object"!=WI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WI(t)?t:String(t)}var nA=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eA(JI(e=QI(this,t,[].concat(r))),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eA(JI(e),"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZI(e,t)}(t,e),n=t,(r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,u=t.coordinate,c=t.hasPayload,l=t.isAnimationActive,h=t.offset,d=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,u=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox;return{cssProperties:u.height>0&&u.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=$I({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:u.width,viewBox:l,viewBoxDimension:l.width}),translateY:n=$I({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:u.height,viewBox:l,viewBoxDimension:l.height}),useTranslate3d:c}):zI,cssClasses:qI({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:u,offsetTopLeft:h,position:d,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,w=GI(GI({transition:l&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return i.createElement("div",{tabIndex:-1,className:v,style:w,ref:function(t){e.wrapperNode=t}},s)}}])&&HI(n.prototype,r),o&&HI(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent),rA={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return rA[e]},set:function(e,t){if("string"===typeof e)rA[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){rA[t]=e[t]}))}}},iA=n(977),oA=n.n(iA);function aA(e,t,n){return!0===t?oA()(e,n):NT()(t)?oA()(e,t):e}function sA(e){return sA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sA(e)}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uA(Object(n),!0).forEach((function(t){mA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gA(r.key),r)}}function hA(e,t,n){return t=fA(t),function(e,t){if(t&&("object"===sA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dA()?Reflect.construct(t,n||[],fA(e).constructor):t.apply(e,n))}function dA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dA=function(){return!!e})()}function fA(e){return fA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fA(e)}function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pA(e,t)}function mA(e,t,n){return(t=gA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gA(e){var t=function(e,t){if("object"!=sA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sA(t)?t:String(t)}function yA(e){return e.dataKey}var vA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hA(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pA(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,u=t.coordinate,c=t.filterNull,l=t.isAnimationActive,h=t.offset,d=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==d&&void 0!==d?d:[];c&&b.length&&(b=aA(d.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,yA));var w=b.length>0;return i.createElement(nA,{allowEscapeViewBox:r,animationDuration:o,animationEasing:a,isAnimationActive:l,active:n,coordinate:u,hasPayload:w,offset:h,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(FI,t)}(s,cA(cA({},this.props),{},{payload:b})))}}])&&lA(n.prototype,r),o&&lA(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);mA(vA,"displayName","Tooltip"),mA(vA,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!rA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bA=n(643),wA=n.n(bA);Math.abs,Math.atan2;const xA=Math.cos,SA=(Math.max,Math.min,Math.sin),_A=Math.sqrt,EA=Math.PI,kA=2*EA;const OA={draw(e,t){const n=_A(t/EA);e.moveTo(n,0),e.arc(0,0,n,0,kA)}},TA={draw(e,t){const n=_A(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},IA=_A(1/3),AA=2*IA,CA={draw(e,t){const n=_A(t/AA),r=n*IA;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},PA={draw(e,t){const n=_A(t),r=-n/2;e.rect(r,r,n,n)}},jA=SA(EA/10)/SA(7*EA/10),NA=SA(kA/10)*jA,DA=-xA(kA/10)*jA,RA={draw(e,t){const n=_A(.8908130915292852*t),r=NA*n,i=DA*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=kA*o/5,a=xA(t),s=SA(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},MA=_A(3),LA={draw(e,t){const n=-_A(t/(3*MA));e.moveTo(0,2*n),e.lineTo(-MA*n,-n),e.lineTo(MA*n,-n),e.closePath()}},FA=-.5,UA=_A(3)/2,BA=1/_A(12),VA=3*(BA/2+1),zA={draw(e,t){const n=_A(t/VA),r=n/2,i=n*BA,o=r,a=n*BA+n,s=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(FA*r-UA*i,UA*r+FA*i),e.lineTo(FA*o-UA*a,UA*o+FA*a),e.lineTo(FA*s-UA*u,UA*s+FA*u),e.lineTo(FA*r+UA*i,FA*i-UA*r),e.lineTo(FA*o+UA*a,FA*a-UA*o),e.lineTo(FA*s+UA*u,FA*u-UA*s),e.closePath()}};function qA(e){return function(){return e}}const $A=Math.PI,WA=2*$A,KA=1e-6,GA=WA-KA;function HA(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class QA{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?HA:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HA;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,u=r-t,c=o-e,l=a-t,h=c*c+l*l;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>KA)if(Math.abs(l*s-u*c)>KA&&i){let d=n-o,f=r-a,p=s*s+u*u,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan(($A-Math.acos((p+h-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>KA&&this._append`L${e+b*c},${t+b*l}`,this._append`A${i},${i},0,0,${+(l*d>c*f)},${this._x1=e+w*s},${this._y1=t+w*u}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),u=e+a,c=t+s,l=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${u},${c}`:(Math.abs(this._x1-u)>KA||Math.abs(this._y1-c)>KA)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%WA+WA),h>GA?this._append`A${n},${n},0,1,${l},${e-a},${t-s}A${n},${n},0,1,${l},${this._x1=u},${this._y1=c}`:h>KA&&this._append`A${n},${n},0,${+(h>=$A)},${l},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function XA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new QA(t)}QA.prototype;_A(3),_A(3);function YA(e){return YA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YA(e)}var JA=["type","size","sizeType"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZA.apply(this,arguments)}function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YA(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var iC={symbolCircle:OA,symbolCross:TA,symbolDiamond:CA,symbolSquare:PA,symbolStar:RA,symbolTriangle:LA,symbolWye:zA},oC=Math.PI/180,aC=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,o=void 0===r?64:r,a=e.sizeType,s=void 0===a?"area":a,u=tC(tC({},rC(e,JA)),{},{type:n,size:o,sizeType:s}),c=u.className,l=u.cx,h=u.cy,d=iI(u,!0);return l===+l&&h===+h&&o===+o?i.createElement("path",ZA({},d,{className:sT("recharts-symbols",c),transform:"translate(".concat(l,", ").concat(h,")"),d:function(){var e=function(e){var t="symbol".concat(wA()(e));return iC[t]||OA}(n),t=function(e,t){let n=null,r=XA(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:qA(e||OA),t="function"===typeof t?t:qA(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:qA(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:qA(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*oC;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function sC(e){return sC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sC(e)}function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uC.apply(this,arguments)}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gC(r.key),r)}}function hC(e,t,n){return t=fC(t),function(e,t){if(t&&("object"===sC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dC()?Reflect.construct(t,n||[],fC(e).constructor):t.apply(e,n))}function dC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dC=function(){return!!e})()}function fC(e){return fC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fC(e)}function pC(e,t){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pC(e,t)}function mC(e,t,n){return(t=gC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gC(e){var t=function(e,t){if("object"!=sC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sC(t)?t:String(t)}aC.registerSymbol=function(e,t){iC["symbol".concat(wA()(e))]=t};var yC=32,vC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hC(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pC(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=yC/6,o=yC/3,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:yC,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(yC,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(yC,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cC(Object(n),!0).forEach((function(t){mC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(aC,{fill:a,cx:n,cy:n,size:yC,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,u={x:0,y:0,width:yC,height:yC},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,h=sT(mC(mC({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=NT()(t.value)?null:t.value;AT(!NT()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return i.createElement("li",uC({className:h,style:c,key:"legend-item-".concat(n)},qT(e.props,t,n)),i.createElement(kI,{width:r,height:r,viewBox:u,style:l},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(d,t,n):d))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&lC(n.prototype,r),o&&lC(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function bC(e){return bC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bC(e)}mC(vC,"displayName","Legend"),mC(vC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wC=["ref"];function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xC(Object(n),!0).forEach((function(t){AC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CC(r.key),r)}}function EC(e,t,n){return t=OC(t),function(e,t){if(t&&("object"===bC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TC(e)}(e,kC()?Reflect.construct(t,n||[],OC(e).constructor):t.apply(e,n))}function kC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kC=function(){return!!e})()}function OC(e){return OC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OC(e)}function TC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IC(e,t)}function AC(e,t,n){return(t=CC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CC(e){var t=function(e,t){if("object"!=bC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bC(t)?t:String(t)}function PC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jC(e){return e.value}var NC=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return AC(TC(e=EC(this,t,[].concat(r))),"lastBoundingBox",{width:-1,height:-1}),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}(t,e),n=t,o=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&xT(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?SC({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,u=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((u||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),SC(SC({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,u=t.payload,c=SC(SC({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var n=PC(t,wC);return i.createElement(vC,n)}(n,SC(SC({},this.props),{},{payload:aA(u,s,jC)})))}}])&&_C(n.prototype,r),o&&_C(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DC.apply(this,arguments)}AC(NC,"displayName","Legend"),AC(NC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RC=function(e){var t=e.cx,n=e.cy,r=e.r,o=e.className,a=sT("recharts-dot",o);return t===+t&&n===+n&&r===+r?i.createElement("circle",DC({},iI(e,!1),zT(e),{className:a,cx:t,cy:n,r:r})):null},MC=n(5173),LC=n.n(MC),FC=Object.getOwnPropertyNames,UC=Object.getOwnPropertySymbols,BC=Object.prototype.hasOwnProperty;function VC(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function zC(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function qC(e){return FC(e).concat(UC(e))}var $C=Object.hasOwn||function(e,t){return BC.call(e,t)};function WC(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var KC="_owner",GC=Object.getOwnPropertyDescriptor,HC=Object.keys;function QC(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function XC(e,t){return WC(e.getTime(),t.getTime())}function YC(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.entries(),s=0;(r=a.next())&&!r.done;){for(var u=t.entries(),c=!1,l=0;(i=u.next())&&!i.done;){var h=r.value,d=h[0],f=h[1],p=i.value,m=p[0],g=p[1];c||o[l]||!(c=n.equals(d,m,s,l,e,t,n)&&n.equals(f,g,d,m,e,t,n))||(o[l]=!0),l++}if(!c)return!1;s++}return!0}function JC(e,t,n){var r,i=HC(e),o=i.length;if(HC(t).length!==o)return!1;for(;o-- >0;){if((r=i[o])===KC&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!$C(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1}return!0}function ZC(e,t,n){var r,i,o,a=qC(e),s=a.length;if(qC(t).length!==s)return!1;for(;s-- >0;){if((r=a[s])===KC&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!$C(t,r))return!1;if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;if(i=GC(e,r),o=GC(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function eP(e,t){return WC(e.valueOf(),t.valueOf())}function tP(e,t){return e.source===t.source&&e.flags===t.flags}function nP(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.values();(r=a.next())&&!r.done;){for(var s=t.values(),u=!1,c=0;(i=s.next())&&!i.done;)u||o[c]||!(u=n.equals(r.value,i.value,r.value,i.value,e,t,n))||(o[c]=!0),c++;if(!u)return!1}return!0}function rP(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var iP="[object Arguments]",oP="[object Boolean]",aP="[object Date]",sP="[object Map]",uP="[object Number]",cP="[object Object]",lP="[object RegExp]",hP="[object Set]",dP="[object String]",fP=Array.isArray,pP="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,mP=Object.assign,gP=Object.prototype.toString.call.bind(Object.prototype.toString);var yP=vP();vP({strict:!0}),vP({circular:!0}),vP({circular:!0,strict:!0}),vP({createInternalComparator:function(){return WC}}),vP({strict:!0,createInternalComparator:function(){return WC}}),vP({circular:!0,createInternalComparator:function(){return WC}}),vP({circular:!0,createInternalComparator:function(){return WC},strict:!0});function vP(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,u=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?ZC:QC,areDatesEqual:XC,areMapsEqual:r?VC(YC,ZC):YC,areObjectsEqual:r?ZC:JC,arePrimitiveWrappersEqual:eP,areRegExpsEqual:tP,areSetsEqual:r?VC(nP,ZC):nP,areTypedArraysEqual:r?ZC:rP};if(n&&(i=mP({},i,n(i))),t){var o=zC(i.areArraysEqual),a=zC(i.areMapsEqual),s=zC(i.areObjectsEqual),u=zC(i.areSetsEqual);i=mP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,u=e.areTypedArraysEqual;return function(e,c,l){if(e===c)return!0;if(null==e||null==c||"object"!==typeof e||"object"!==typeof c)return e!==e&&c!==c;var h=e.constructor;if(h!==c.constructor)return!1;if(h===Object)return i(e,c,l);if(fP(e))return t(e,c,l);if(null!=pP&&pP(e))return u(e,c,l);if(h===Date)return n(e,c,l);if(h===RegExp)return a(e,c,l);if(h===Map)return r(e,c,l);if(h===Set)return s(e,c,l);var d=gP(e);return d===aP?n(e,c,l):d===lP?a(e,c,l):d===sP?r(e,c,l):d===hP?s(e,c,l):d===cP?"function"!==typeof e.then&&"function"!==typeof c.then&&i(e,c,l):d===iP?i(e,c,l):(d===oP||d===uP||d===dP)&&o(e,c,l)}}(u),l=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),u=s.cache,c=void 0===u?t?new WeakMap:void 0:u,l=s.meta;return n(e,a,{cache:c,equals:i,meta:l,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:l,strict:s})}function bP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function wP(e){return wP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wP(e)}function xP(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return SP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _P(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=xP(r),o=i[0],a=i.slice(1);return"number"===typeof o?void bP(n.bind(null,a),o):(n(o),void bP(n.bind(null,a)))}"object"===wP(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function EP(e){return EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EP(e)}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kP(Object(n),!0).forEach((function(t){TP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TP(e,t,n){return t=function(e){var t=function(e,t){if("object"!==EP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==EP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===EP(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IP=function(e){return e},AP=function(e,t){return Object.keys(t).reduce((function(n,r){return OP(OP({},n),{},TP({},r,e(r,t[r])))}),{})},CP=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function PP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||NP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jP(e){return function(e){if(Array.isArray(e))return DP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||NP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NP(e,t){if(e){if("string"===typeof e)return DP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DP(e,t):void 0}}function DP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var RP=1e-4,MP=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},LP=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},FP=function(e,t){return function(n){var r=MP(e,t);return LP(r,n)}},UP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var u=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=PP(u,4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var l,h,d=FP(r,o),f=FP(i,a),p=(l=r,h=o,function(e){var t=MP(l,h),n=[].concat(jP(t.map((function(e,t){return e*t})).slice(1)),[0]);return LP(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,o=p(n);if(Math.abs(i-t)<RP||o<RP)return f(n);n=m(n-i/o)}return f(n)};return g.isStepper=!1,g},BP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UP(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<RP&&Math.abs(o)<RP?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return UP(r)}return"function"===typeof r?r:null};function VP(e){return VP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VP(e)}function zP(e){return function(e){if(Array.isArray(e))return HP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||GP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qP(Object(n),!0).forEach((function(t){WP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WP(e,t,n){return t=function(e){var t=function(e,t){if("object"!==VP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===VP(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||GP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GP(e,t){if(e){if("string"===typeof e)return HP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HP(e,t):void 0}}function HP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var QP=function(e,t,n){return e+(t-e)*n},XP=function(e){return e.from!==e.to},YP=function e(t,n,r){var i=AP((function(e,n){if(XP(n)){var r=KP(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return $P($P({},n),{},{from:i,velocity:o})}return n}),n);return r<1?AP((function(e,t){return XP(t)?$P($P({},t),{},{velocity:QP(t.velocity,i[e].velocity,r),from:QP(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const JP=function(e,t,n,r,i){var o,a,s,u,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),l=c.reduce((function(n,r){return $P($P({},n),{},WP({},r,[e[r],t[r]]))}),{}),h=c.reduce((function(n,r){return $P($P({},n),{},WP({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),d=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=YP(n,h,o),i($P($P($P({},e),t),AP((function(e,t){return t.from}),h))),s=r,Object.values(h).filter(XP).length&&(d=requestAnimationFrame(f))}:function(o){u||(u=o);var a=(o-u)/r,s=AP((function(e,t){return QP.apply(void 0,zP(t).concat([n(a)]))}),l);if(i($P($P($P({},e),t),s)),a<1)d=requestAnimationFrame(f);else{var c=AP((function(e,t){return QP.apply(void 0,zP(t).concat([n(1)]))}),l);i($P($P($P({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(d)}}};function ZP(e){return ZP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZP(e)}var ej=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nj(e){return function(e){if(Array.isArray(e))return rj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return rj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ij(Object(n),!0).forEach((function(t){aj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aj(e,t,n){return(t=uj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uj(r.key),r)}}function uj(e){var t=function(e,t){if("object"!==ZP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ZP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ZP(t)?t:String(t)}function cj(e,t){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cj(e,t)}function lj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(aH){return!1}}();return function(){var n,r=fj(e);if(t){var i=fj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hj(this,n)}}function hj(e,t){if(t&&("object"===ZP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dj(e)}function dj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fj(e){return fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fj(e)}var pj=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cj(e,t)}(a,e);var t,n,r,o=lj(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,u=r.from,c=r.to,l=r.steps,h=r.children,d=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(dj(n)),n.changeStyle=n.changeStyle.bind(dj(n)),!i||d<=0)return n.state={style:{}},"function"===typeof h&&(n.state={style:c}),hj(n);if(l&&l.length)n.state={style:l[0].style};else if(u){if("function"===typeof h)return n.state={style:u},hj(n);n.state={style:s?aj({},s,u):u}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,u=this.state.style;if(r)if(n){if(!(yP(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var l=c||o?s:e.to;if(this.state&&u){var h={style:i?aj({},i,l):l};(i&&u[i]!==l||!i&&u!==l)&&this.setState(h)}this.runAnimation(oj(oj({},this.props),{},{from:l,begin:0}))}}else{var d={style:i?aj({},i,a):a};this.state&&u&&(i&&u[i]!==a||!i&&u!==a)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,u=e.onAnimationStart,c=JP(n,r,BP(o),i,this.changeStyle);this.manager.start([u,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,u=void 0===s?0:s;return this.manager.start([i].concat(nj(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,u=r.style,c=r.properties,l=r.onAnimationEnd,h=i>0?n[i-1]:r,d=c||Object.keys(u);if("function"===typeof s||"spring"===s)return[].concat(nj(e),[t.runJSAnimation.bind(t,{from:h.style,to:u,duration:o,easing:s}),o]);var f=CP(d,o,s),p=oj(oj(oj({},h.style),u),{},{transition:f});return[].concat(nj(e),[p,o,l]).filter(IP)}),[a,Math.max(u,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=_P());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,u=e.steps,c=e.children,l=this.manager;if(this.unSubscribe=l.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(u.length>1)this.runStepAnimation(e);else{var h=r?aj({},r,i):i,d=CP(Object.keys(h),n,o);l.start([a,t,oj(oj({},h),{},{transition:d}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,tj(e,ej)),a=i.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!r||0===a||n<=0)return t;var u=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return(0,i.cloneElement)(e,oj(oj({},o),{},{style:oj(oj({},r),s),className:a}))};return 1===a?u(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,(function(e){return u(e)})))}}],n&&sj(t.prototype,n),r&&sj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent);pj.displayName="Animate",pj.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},pj.propTypes={from:LC().oneOfType([LC().object,LC().string]),to:LC().oneOfType([LC().object,LC().string]),attributeName:LC().string,duration:LC().number,begin:LC().number,easing:LC().oneOfType([LC().string,LC().func]),steps:LC().arrayOf(LC().shape({duration:LC().number.isRequired,style:LC().object.isRequired,easing:LC().oneOfType([LC().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),LC().func]),properties:LC().arrayOf("string"),onAnimationEnd:LC().func})),children:LC().oneOfType([LC().node,LC().func]),isActive:LC().bool,canBegin:LC().bool,onAnimationEnd:LC().func,shouldReAnimate:LC().bool,onAnimationStart:LC().func,onAnimationReStart:LC().func};const mj=pj;function gj(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yj.apply(null,arguments)}function vj(e,t){return vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vj(e,t)}function bj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vj(e,t)}const wj=i.createContext(null);function xj(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function Sj(e,t,n){return null!=n[t]?n[t]:e.props[t]}function _j(e,t,n){var r=xj(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var u=a in t,c=a in r,l=t[a],h=(0,i.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&(0,i.isValidElement)(l)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:Sj(s,"exit",e),enter:Sj(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Sj(s,"exit",e),enter:Sj(s,"enter",e)})}})),o}var Ej=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},kj=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}bj(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,xj(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Sj(e,"appear",n),enter:Sj(e,"enter",n),exit:Sj(e,"exit",n)})}))):_j(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=xj(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=yj({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=gj(e,["component","childFactory"]),o=this.state.contextValue,a=Ej(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(wj.Provider,{value:o},a):i.createElement(wj.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);kj.propTypes={},kj.defaultProps={component:"div",childFactory:function(e){return e}};const Oj=kj,Tj=!1;var Ij="unmounted",Aj="exited",Cj="entering",Pj="entered",jj="exiting",Nj=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Aj,r.appearStatus=Cj):i=Pj:i=t.unmountOnExit||t.mountOnEnter?Ij:Aj,r.state={status:i},r.nextCallback=null,r}bj(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ij?{status:Aj}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Cj&&n!==Pj&&(t=Cj):n!==Cj&&n!==Pj||(t=jj)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Cj){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:AO.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Aj&&this.setState({status:Ij})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[AO.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Tj?this.safeSetState({status:Pj},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Cj},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:Pj},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:AO.findDOMNode(this);t&&!Tj?(this.props.onExit(r),this.safeSetState({status:jj},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Aj},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Aj},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:AO.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Ij)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,gj(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(wj.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function Dj(){}Nj.contextType=wj,Nj.propTypes={},Nj.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dj,onEntering:Dj,onEntered:Dj,onExit:Dj,onExiting:Dj,onExited:Dj},Nj.UNMOUNTED=Ij,Nj.EXITED=Aj,Nj.ENTERING=Cj,Nj.ENTERED=Pj,Nj.EXITING=jj;const Rj=Nj;var Mj=["children","appearOptions","enterOptions","leaveOptions"];function Lj(e){return Lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lj(e)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fj.apply(this,arguments)}function Uj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bj(Object(n),!0).forEach((function(t){Gj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hj(r.key),r)}}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qj(e,t)}function $j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(aH){return!1}}();return function(){var n,r=Kj(e);if(t){var i=Kj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Lj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wj(e)}(this,n)}}function Wj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kj(e)}function Gj(e,t,n){return(t=Hj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hj(e){var t=function(e,t){if("object"!==Lj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lj(t)?t:String(t)}var Qj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},Xj=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}(a,e);var t,n,r,o=$j(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Gj(Wj(e=o.call(this)),"handleEnter",(function(t,n){var r=e.props,i=r.appearOptions,o=r.enterOptions;e.handleStyleActive(n?i:o)})),Gj(Wj(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=a,(n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(Vj(Vj({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return Qj(t)+Qj(n)+Qj(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.appearOptions,t.enterOptions,t.leaveOptions,Uj(t,Mj));return i.createElement(Rj,Fj({},r,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return i.createElement(mj,e.state,i.Children.only(n))}))}}])&&zj(t.prototype,n),r&&zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component);Xj.propTypes={appearOptions:LC().object,enterOptions:LC().object,leaveOptions:LC().object,children:LC().element};const Yj=Xj;function Jj(e){var t=e.component,n=e.children,r=e.appear,o=e.enter,a=e.leave;return i.createElement(Oj,{component:t},i.Children.map(n,(function(e,t){return i.createElement(Yj,{appearOptions:r,enterOptions:o,leaveOptions:a,key:"child-".concat(t)},e)})))}Jj.propTypes={appear:LC().object,enter:LC().object,leave:LC().object,children:LC().oneOfType([LC().array,LC().element]),component:LC().any},Jj.defaultProps={component:"span"};const Zj=mj;function eN(e){return eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eN(e)}function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tN.apply(this,arguments)}function nN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iN(Object(n),!0).forEach((function(t){aN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=eN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eN(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sN=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var l=[0,0,0,0],h=0;h<4;h++)l[h]=i[h]>a?a:i[h];o="M".concat(e,",").concat(t+s*l[0]),l[0]>0&&(o+="A ".concat(l[0],",").concat(l[0],",0,0,").concat(c,",").concat(e+u*l[0],",").concat(t)),o+="L ".concat(e+n-u*l[1],",").concat(t),l[1]>0&&(o+="A ".concat(l[1],",").concat(l[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*l[1])),o+="L ".concat(e+n,",").concat(t+r-s*l[2]),l[2]>0&&(o+="A ".concat(l[2],",").concat(l[2],",0,0,").concat(c,",\n        ").concat(e+n-u*l[2],",").concat(t+r)),o+="L ".concat(e+u*l[3],",").concat(t+r),l[3]>0&&(o+="A ".concat(l[3],",").concat(l[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*l[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+u*d,",").concat(t,"\n            L ").concat(e+n-u*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n-u*d,",").concat(t+r,"\n            L ").concat(e+u*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*d," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},uN=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var u=Math.min(i,i+a),c=Math.max(i,i+a),l=Math.min(o,o+s),h=Math.max(o,o+s);return n>=u&&n<=c&&r>=l&&r<=h}return!1},cN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lN=function(e){var t=oN(oN({},cN),e),n=(0,i.useRef)(),r=nN((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,u=t.y,c=t.width,l=t.height,h=t.radius,d=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||u!==+u||c!==+c||l!==+l||0===c||0===l)return null;var v=sT("recharts-rectangle",d);return y?i.createElement(Zj,{canBegin:o>0,from:{width:c,height:l,x:s,y:u},to:{width:c,height:l,x:s,y:u},duration:p,animationEasing:f,isActive:y},(function(e){var r=e.width,a=e.height,s=e.x,u=e.y;return i.createElement(Zj,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},i.createElement("path",tN({},iI(t,!0),{className:v,d:sN(s,u,r,a,h),ref:n})))})):i.createElement("path",tN({},iI(t,!0),{className:v,d:sN(s,u,c,l,h)}))};function hN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function dN(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class fN extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yN;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(pN(this,e))}has(e){return super.has(pN(this,e))}set(e,t){return super.set(mN(this,e),t)}delete(e){return super.delete(gN(this,e))}}Set;function pN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function mN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function gN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function yN(e){return null!==e&&"object"===typeof e?e.valueOf():e}const vN=Symbol("implicit");function bN(){var e=new fN,t=[],n=[],r=vN;function i(i){let o=e.get(i);if(void 0===o){if(r!==vN)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new fN;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return bN(t,n).unknown(r)},hN.apply(i,arguments),i}function wN(){var e,t,n=bN().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,c=0,l=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;e=(f-d)/Math.max(1,n-u+2*c),s&&(e=Math.floor(e)),d+=(f-d-e*(n-u))*l,t=e*(1-u),s&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return d+e*t}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(u=Math.min(1,c=+e),h()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),h()):u},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),h()):l},n.copy=function(){return wN(r(),[o,a]).round(s).paddingInner(u).paddingOuter(c).align(l)},hN.apply(h(),arguments)}function xN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xN(t())},e}function SN(){return xN(wN.apply(null,arguments).paddingInner(1))}function _N(e){return _N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_N(e)}function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EN(Object(n),!0).forEach((function(t){ON(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ON(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_N(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TN={widthCache:{},cacheCount:0},IN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AN="recharts_measurement_span";var CN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||rA.isSsr)return{width:0,height:0};var n=function(e){var t=kN({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(TN.widthCache[r])return TN.widthCache[r];try{var i=document.getElementById(AN);i||((i=document.createElement("span")).setAttribute("id",AN),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=kN(kN({},IN),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return TN.widthCache[r]=s,++TN.cacheCount>2e3&&(TN.cacheCount=0,TN.widthCache={}),s}catch(aH){return{width:0,height:0}}};function PN(e){return PN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PN(e)}function jN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return NN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RN(r.key),r)}}function RN(e){var t=function(e,t){if("object"!=PN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PN(t)?t:String(t)}var MN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},VN=Object.keys(BN),zN="NaN";var qN=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||FN.test(n)||(this.num=NaN,this.unit=""),VN.includes(n)&&(this.num=function(e,t){return e*BN[t]}(t,n),this.unit="px")}var t,n,r;return t=e,r=[{key:"parse",value:function(t){var n,r=jN(null!==(n=UN.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&DN(t.prototype,n),r&&DN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $N(e){if(e.includes(zN))return zN;for(var t=e;t.includes("*")||t.includes("/");){var n,r=jN(null!==(n=MN.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=qN.parse(null!==i&&void 0!==i?i:""),u=qN.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(u):s.divide(u);if(c.isNaN())return zN;t=t.replace(MN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var l,h=jN(null!==(l=LN.exec(t))&&void 0!==l?l:[],4),d=h[1],f=h[2],p=h[3],m=qN.parse(null!==d&&void 0!==d?d:""),g=qN.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return zN;t=t.replace(LN,y.toString())}return t}var WN=/\(([^()]*)\)/;function KN(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=jN(WN.exec(t),2)[1];t=t.replace(WN,$N(n))}return t}(t),t=$N(t)}function GN(e){var t=function(e){try{return KN(e)}catch(aH){return zN}}(e.slice(5,-1));return t===zN?"":t}var HN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QN=["dx","dy","angle","className","breakAll"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XN.apply(this,arguments)}function YN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ZN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eD=/[ \f\n\r\t\v\u2028\u2029]+/,tD=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return PT()(t)||(i=n?t.toString().split(""):t.toString().split(eD)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:CN(e,r).width}})),spaceWidth:n?0:CN("\xa0",r).width}}catch(aH){return null}},nD=function(e){return[{words:PT()(e)?[]:e.toString().split(eD)}]},rD=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!rA.isSsr){var s=tD({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,u=e.breakAll,c=xT(o),l=a,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var u={words:[o],width:a};e.push(u)}return e}),[])},d=h(t);if(!c)return d;for(var f,p=function(e){var t=l.slice(0,e),n=tD({breakAll:u,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=h(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=l.length-1,y=0;m<=g&&y<=l.length-1;){var v=Math.floor((m+g)/2),b=JN(p(v-1),2),w=b[0],x=b[1],S=JN(p(v),1)[0];if(w||S||(m=v+1),w&&S&&(g=v-1),!w&&S){f=x;break}y++}return f||d}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):nD(r)}return nD(r)},iD="#808080",oD=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.lineHeight,s=void 0===a?"1em":a,u=e.capHeight,c=void 0===u?"0.71em":u,l=e.scaleToFit,h=void 0!==l&&l,d=e.textAnchor,f=void 0===d?"start":d,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?iD:g,v=YN(e,HN),b=(0,i.useMemo)((function(){return rD({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),w=v.dx,x=v.dy,S=v.angle,_=v.className,E=v.breakAll,k=YN(v,QN);if(!ST(n)||!ST(o))return null;var O,T=n+(xT(w)?w:0),I=o+(xT(x)?x:0);switch(m){case"start":O=GN("calc(".concat(c,")"));break;case"middle":O=GN("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=GN("calc(".concat(b.length-1," * -").concat(s,")"))}var A=[];if(h){var C=b[0].width,P=v.width;A.push("scale(".concat((xT(P)?P/C:1)/C,")"))}return S&&A.push("rotate(".concat(S,", ").concat(T,", ").concat(I,")")),A.length&&(k.transform=A.join(" ")),i.createElement("text",XN({},iI(k,!0),{x:T,y:I,className:sT("recharts-text",_),textAnchor:f,fill:y.includes("url")?iD:y}),b.map((function(e,t){var n=e.words.join(E?"":" ");return i.createElement("tspan",{x:T,dy:0===t?O:s,key:n},n)})))};const aD=Math.sqrt(50),sD=Math.sqrt(10),uD=Math.sqrt(2);function cD(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=aD?10:o>=sD?5:o>=uD?2:1;let s,u,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),u=Math.round(t*c),s/c<e&&++s,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),u=Math.round(t/c),s*c<e&&++s,u*c>t&&--u),u<s&&.5<=n&&n<2?cD(e,t,2*n):[s,u,c]}function lD(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?cD(t,e,n):cD(e,t,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)u[c]=(o-c)/-a;else for(let c=0;c<s;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)u[c]=(i+c)/-a;else for(let c=0;c<s;++c)u[c]=(i+c)*a;return u}function hD(e,t,n){return cD(e=+e,t=+t,n=+n)[2]}function dD(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?hD(t,e,n):hD(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function fD(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pD(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mD(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=fD,n=(t,n)=>fD(e(t),n),r=(t,n)=>e(t)-n):(t=e===fD||e===pD?e:gD,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function gD(){return 0}function yD(e){return null===e?NaN:+e}const vD=mD(fD),bD=vD.right,wD=(vD.left,mD(yD).center,bD);function xD(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function SD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _D(){}var ED=.7,kD=1/ED,OD="\\s*([+-]?\\d+)\\s*",TD="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ID="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AD=/^#([0-9a-f]{3,8})$/,CD=new RegExp(`^rgb\\(${OD},${OD},${OD}\\)$`),PD=new RegExp(`^rgb\\(${ID},${ID},${ID}\\)$`),jD=new RegExp(`^rgba\\(${OD},${OD},${OD},${TD}\\)$`),ND=new RegExp(`^rgba\\(${ID},${ID},${ID},${TD}\\)$`),DD=new RegExp(`^hsl\\(${TD},${ID},${ID}\\)$`),RD=new RegExp(`^hsla\\(${TD},${ID},${ID},${TD}\\)$`),MD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function LD(){return this.rgb().formatHex()}function FD(){return this.rgb().formatRgb()}function UD(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?BD(t):3===n?new qD(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?VD(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?VD(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=CD.exec(e))?new qD(t[1],t[2],t[3],1):(t=PD.exec(e))?new qD(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=jD.exec(e))?VD(t[1],t[2],t[3],t[4]):(t=ND.exec(e))?VD(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=DD.exec(e))?QD(t[1],t[2]/100,t[3]/100,1):(t=RD.exec(e))?QD(t[1],t[2]/100,t[3]/100,t[4]):MD.hasOwnProperty(e)?BD(MD[e]):"transparent"===e?new qD(NaN,NaN,NaN,0):null}function BD(e){return new qD(e>>16&255,e>>8&255,255&e,1)}function VD(e,t,n,r){return r<=0&&(e=t=n=NaN),new qD(e,t,n,r)}function zD(e,t,n,r){return 1===arguments.length?((i=e)instanceof _D||(i=UD(i)),i?new qD((i=i.rgb()).r,i.g,i.b,i.opacity):new qD):new qD(e,t,n,null==r?1:r);var i}function qD(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function $D(){return`#${HD(this.r)}${HD(this.g)}${HD(this.b)}`}function WD(){const e=KD(this.opacity);return`${1===e?"rgb(":"rgba("}${GD(this.r)}, ${GD(this.g)}, ${GD(this.b)}${1===e?")":`, ${e})`}`}function KD(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function GD(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function HD(e){return((e=GD(e))<16?"0":"")+e.toString(16)}function QD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new YD(e,t,n,r)}function XD(e){if(e instanceof YD)return new YD(e.h,e.s,e.l,e.opacity);if(e instanceof _D||(e=UD(e)),!e)return new YD;if(e instanceof YD)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new YD(a,s,u,e.opacity)}function YD(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function JD(e){return(e=(e||0)%360)<0?e+360:e}function ZD(e){return Math.max(0,Math.min(1,e||0))}function eR(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function tR(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}xD(_D,UD,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LD,formatHex:LD,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return XD(this).formatHsl()},formatRgb:FD,toString:FD}),xD(qD,zD,SD(_D,{brighter(e){return e=null==e?kD:Math.pow(kD,e),new qD(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ED:Math.pow(ED,e),new qD(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qD(GD(this.r),GD(this.g),GD(this.b),KD(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$D,formatHex:$D,formatHex8:function(){return`#${HD(this.r)}${HD(this.g)}${HD(this.b)}${HD(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:WD,toString:WD})),xD(YD,(function(e,t,n,r){return 1===arguments.length?XD(e):new YD(e,t,n,null==r?1:r)}),SD(_D,{brighter(e){return e=null==e?kD:Math.pow(kD,e),new YD(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ED:Math.pow(ED,e),new YD(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qD(eR(e>=240?e-240:e+120,i,r),eR(e,i,r),eR(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new YD(JD(this.h),ZD(this.s),ZD(this.l),KD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=KD(this.opacity);return`${1===e?"hsl(":"hsla("}${JD(this.h)}, ${100*ZD(this.s)}%, ${100*ZD(this.l)}%${1===e?")":`, ${e})`}`}}));const nR=e=>()=>e;function rR(e,t){return function(n){return e+n*t}}function iR(e){return 1===(e=+e)?oR:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):nR(isNaN(t)?n:t)}}function oR(e,t){var n=t-e;return n?rR(e,n):nR(isNaN(e)?t:e)}const aR=function e(t){var n=iR(t);function r(e,t){var r=n((e=zD(e)).r,(t=zD(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=oR(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function sR(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=zD(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}sR((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return tR((n-r/t)*t,a,i,o,s)}})),sR((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return tR((n-r/t)*t,i,o,a,s)}}));function uR(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=gR(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function cR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lR(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function hR(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=gR(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var dR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fR=new RegExp(dR.source,"g");function pR(e,t){var n,r,i,o=dR.lastIndex=fR.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=dR.exec(e))&&(r=fR.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:lR(n,r)})),o=fR.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function mR(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function gR(e,t){var n,r=typeof t;return null==t||"boolean"===r?nR(t):("number"===r?lR:"string"===r?(n=UD(t))?(t=n,aR):pR:t instanceof UD?aR:t instanceof Date?cR:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?mR:Array.isArray(t)?uR:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?hR:lR)(e,t)}function yR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vR(e){return+e}var bR=[0,1];function wR(e){return e}function xR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function SR(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=xR(i,r),o=n(a,o)):(r=xR(r,i),o=n(o,a)),function(e){return o(r(e))}}function _R(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=xR(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=wD(e,t,1,r)-1;return o[n](i[n](t))}}function ER(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kR(){var e,t,n,r,i,o,a=bR,s=bR,u=gR,c=wR;function l(){var e=Math.min(a.length,s.length);return c!==wR&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?_R:SR,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(s,a.map(e),lR)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,vR),l()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),u=yR,l()},h.clamp=function(e){return arguments.length?(c=!!e||wR,l()):c!==wR},h.interpolate=function(e){return arguments.length?(u=e,l()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,l()}}function OR(){return kR()(wR,wR)}var TR,IR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function AR(e){if(!(t=IR.exec(e)))throw new Error("invalid format: "+e);var t;return new CR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function CR(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function PR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function jR(e){return(e=PR(Math.abs(e)))?e[1]:NaN}function NR(e,t){var n=PR(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}AR.prototype=CR.prototype,CR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const DR={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>NR(100*e,t),r:NR,s:function(e,t){var n=PR(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(TR=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+PR(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RR(e){return e}var MR,LR,FR,UR=Array.prototype.map,BR=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function VR(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?RR:(t=UR.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?RR:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(UR.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=AR(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):DR[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?u:"",x=DR[v],S=/[defgprs%]/.test(v);function _(e){var i,o,u,d=b,_=w;if("c"===v)_=x(e)+_,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==h&&(E=!1),d=(E?"("===h?h:c:"-"===h||"("===h?"":h)+d,_=("s"===v?BR[8+TR/3]:"")+_+(E&&"("===h?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){_=(46===u?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var k=d.length+e.length+_.length,O=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(O+e,O.length?p-_.length:1/0),O=""),n){case"<":e=d+e+_+O;break;case"=":e=d+O+e+_;break;case"^":e=O.slice(0,k=O.length>>1)+d+e+_+O.slice(k);break;default:e=O+d+e+_}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:h,formatPrefix:function(e,t){var n=h(((e=AR(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(jR(t)/3))),i=Math.pow(10,-r),o=BR[8+r/3];return function(e){return n(i*e)+o}}}}function zR(e,t,n,r){var i,o=dD(e,t,n);switch((r=AR(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jR(t)/3)))-jR(Math.abs(e)))}(o,a))||(r.precision=i),FR(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jR(t)-jR(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-jR(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return LR(r)}function qR(e){var t=e.domain;return e.ticks=function(e){var n=t();return lD(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return zR(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=hD(u,c,n))===r)return o[a]=u,o[s]=c,t(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function $R(){var e=OR();return e.copy=function(){return ER(e,$R())},hN.apply(e,arguments),qR(e)}function WR(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,vR),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return WR(e).unknown(t)},e=arguments.length?Array.from(e,vR):[0,1],qR(n)}function KR(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function GR(e){return Math.log(e)}function HR(e){return Math.exp(e)}function QR(e){return-Math.log(-e)}function XR(e){return-Math.exp(-e)}function YR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JR(e){return(t,n)=>-e(-t,n)}function ZR(e){const t=e(GR,HR),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?YR:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=JR(r),i=JR(i),e(QR,XR)):e(GR,HR),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const u=s<a;u&&([a,s]=[s,a]);let c,l,h=r(a),d=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1;c<o;++c)if(l=h<0?c/i(-h):c*i(h),!(l<a)){if(l>s)break;p.push(l)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(l=h>0?c/i(-h):c*i(h),!(l<a)){if(l>s)break;p.push(l)}2*p.length<f&&(p=lD(a,s,f))}else p=lD(h,d,Math.min(d-h,f)).map(i);return u?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=AR(n)).precision||(n.trim=!0),n=LR(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(KR(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function eM(){const e=ZR(kR()).domain([1,10]);return e.copy=()=>ER(e,eM()).base(e.base()),hN.apply(e,arguments),e}function tM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rM(e){var t=1,n=e(tM(t),nM(t));return n.constant=function(n){return arguments.length?e(tM(t=+n),nM(t)):t},qR(n)}function iM(){var e=rM(kR());return e.copy=function(){return ER(e,iM()).constant(e.constant())},hN.apply(e,arguments)}function oM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function aM(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sM(e){return e<0?-e*e:e*e}function uM(e){var t=e(wR,wR),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(wR,wR):.5===n?e(aM,sM):e(oM(n),oM(1/n)):n},qR(t)}function cM(){var e=uM(kR());return e.copy=function(){return ER(e,cM()).exponent(e.exponent())},hN.apply(e,arguments),e}function lM(){return cM.apply(null,arguments).exponent(.5)}function hM(e){return Math.sign(e)*e*e}function dM(){var e,t=OR(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(hM(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,vR)).map(hM)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return dM(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},hN.apply(i,arguments),qR(i)}function fM(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function pM(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function mM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fD;if(e===fD)return gM;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function gM(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function yM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?gM:mM(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);yM(e,t,Math.max(n,Math.floor(t-a*u/o+c)),Math.min(r,Math.floor(t+(o-a)*u/o+c)),i)}const o=e[t];let a=n,s=r;for(vM(e,n,t),i(e[r],o)>0&&vM(e,n,r);a<s;){for(vM(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?vM(e,n,s):(++s,vM(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function vM(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function bM(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return pM(e);if(t>=1)return fM(e);var r,i=(r-1)*t,o=Math.floor(i),a=fM(yM(e,o).subarray(0,o+1));return a+(pM(e.subarray(o+1))-a)*(i-o)}}function wM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yD;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function xM(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=wM(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[wD(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(fD),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return xM().domain(t).range(n).unknown(e)},hN.apply(o,arguments)}function SM(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[wD(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return SM().domain([t,n]).range(o).unknown(e)},hN.apply(qR(a),arguments)}function _M(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[wD(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return _M().domain(t).range(n).unknown(e)},hN.apply(i,arguments)}MR=VR({thousands:",",grouping:[3],currency:["$",""]}),LR=MR.format,FR=MR.formatPrefix;const EM=1e3,kM=6e4,OM=36e5,TM=864e5,IM=6048e5,AM=2592e6,CM=31536e6,PM=new Date,jM=new Date;function NM(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>NM((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(PM.setTime(+t),jM.setTime(+r),e(PM),e(jM),Math.floor(n(PM,jM))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const DM=NM((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));DM.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?NM((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):DM:null);DM.range;const RM=NM((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*EM)}),((e,t)=>(t-e)/EM),(e=>e.getUTCSeconds())),MM=(RM.range,NM((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*EM)}),((e,t)=>{e.setTime(+e+t*kM)}),((e,t)=>(t-e)/kM),(e=>e.getMinutes()))),LM=(MM.range,NM((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*kM)}),((e,t)=>(t-e)/kM),(e=>e.getUTCMinutes()))),FM=(LM.range,NM((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*EM-e.getMinutes()*kM)}),((e,t)=>{e.setTime(+e+t*OM)}),((e,t)=>(t-e)/OM),(e=>e.getHours()))),UM=(FM.range,NM((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*OM)}),((e,t)=>(t-e)/OM),(e=>e.getUTCHours()))),BM=(UM.range,NM((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kM)/TM),(e=>e.getDate()-1))),VM=(BM.range,NM((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/TM),(e=>e.getUTCDate()-1))),zM=(VM.range,NM((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/TM),(e=>Math.floor(e/TM))));zM.range;function qM(e){return NM((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kM)/IM))}const $M=qM(0),WM=qM(1),KM=qM(2),GM=qM(3),HM=qM(4),QM=qM(5),XM=qM(6);$M.range,WM.range,KM.range,GM.range,HM.range,QM.range,XM.range;function YM(e){return NM((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/IM))}const JM=YM(0),ZM=YM(1),eL=YM(2),tL=YM(3),nL=YM(4),rL=YM(5),iL=YM(6),oL=(JM.range,ZM.range,eL.range,tL.range,nL.range,rL.range,iL.range,NM((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),aL=(oL.range,NM((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),sL=(aL.range,NM((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));sL.every=e=>isFinite(e=Math.floor(e))&&e>0?NM((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;sL.range;const uL=NM((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));uL.every=e=>isFinite(e=Math.floor(e))&&e>0?NM((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;uL.range;function cL(e,t,n,r,i,o){const a=[[RM,1,EM],[RM,5,5e3],[RM,15,15e3],[RM,30,3e4],[o,1,kM],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,OM],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,TM],[r,2,1728e5],[n,1,IM],[t,1,AM],[t,3,7776e6],[e,1,CM]];function s(t,n,r){const i=Math.abs(n-t)/r,o=mD((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(dD(t/CM,n/CM,r));if(0===o)return DM.every(Math.max(dD(t,n,r),1));const[s,u]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(u)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[lL,hL]=cL(uL,aL,JM,zM,UM,LM),[dL,fL]=cL(sL,oL,$M,BM,FM,MM);function pL(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mL(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gL(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var yL,vL,bL,wL={"-":"",_:" ",0:"0"},xL=/^\s*\d+/,SL=/^%/,_L=/[\\^$*+?|[\]().{}]/g;function EL(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function kL(e){return e.replace(_L,"\\$&")}function OL(e){return new RegExp("^(?:"+e.map(kL).join("|")+")","i")}function TL(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function IL(e,t,n){var r=xL.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function AL(e,t,n){var r=xL.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function CL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function PL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function jL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function NL(e,t,n){var r=xL.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function DL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function RL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ML(e,t,n){var r=xL.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function LL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function FL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function UL(e,t,n){var r=xL.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function BL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function VL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zL(e,t,n){var r=xL.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qL(e,t,n){var r=xL.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $L(e,t,n){var r=xL.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function WL(e,t,n){var r=SL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function KL(e,t,n){var r=xL.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function GL(e,t,n){var r=xL.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HL(e,t){return EL(e.getDate(),t,2)}function QL(e,t){return EL(e.getHours(),t,2)}function XL(e,t){return EL(e.getHours()%12||12,t,2)}function YL(e,t){return EL(1+BM.count(sL(e),e),t,3)}function JL(e,t){return EL(e.getMilliseconds(),t,3)}function ZL(e,t){return JL(e,t)+"000"}function eF(e,t){return EL(e.getMonth()+1,t,2)}function tF(e,t){return EL(e.getMinutes(),t,2)}function nF(e,t){return EL(e.getSeconds(),t,2)}function rF(e){var t=e.getDay();return 0===t?7:t}function iF(e,t){return EL($M.count(sL(e)-1,e),t,2)}function oF(e){var t=e.getDay();return t>=4||0===t?HM(e):HM.ceil(e)}function aF(e,t){return e=oF(e),EL(HM.count(sL(e),e)+(4===sL(e).getDay()),t,2)}function sF(e){return e.getDay()}function uF(e,t){return EL(WM.count(sL(e)-1,e),t,2)}function cF(e,t){return EL(e.getFullYear()%100,t,2)}function lF(e,t){return EL((e=oF(e)).getFullYear()%100,t,2)}function hF(e,t){return EL(e.getFullYear()%1e4,t,4)}function dF(e,t){var n=e.getDay();return EL((e=n>=4||0===n?HM(e):HM.ceil(e)).getFullYear()%1e4,t,4)}function fF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+EL(t/60|0,"0",2)+EL(t%60,"0",2)}function pF(e,t){return EL(e.getUTCDate(),t,2)}function mF(e,t){return EL(e.getUTCHours(),t,2)}function gF(e,t){return EL(e.getUTCHours()%12||12,t,2)}function yF(e,t){return EL(1+VM.count(uL(e),e),t,3)}function vF(e,t){return EL(e.getUTCMilliseconds(),t,3)}function bF(e,t){return vF(e,t)+"000"}function wF(e,t){return EL(e.getUTCMonth()+1,t,2)}function xF(e,t){return EL(e.getUTCMinutes(),t,2)}function SF(e,t){return EL(e.getUTCSeconds(),t,2)}function _F(e){var t=e.getUTCDay();return 0===t?7:t}function EF(e,t){return EL(JM.count(uL(e)-1,e),t,2)}function kF(e){var t=e.getUTCDay();return t>=4||0===t?nL(e):nL.ceil(e)}function OF(e,t){return e=kF(e),EL(nL.count(uL(e),e)+(4===uL(e).getUTCDay()),t,2)}function TF(e){return e.getUTCDay()}function IF(e,t){return EL(ZM.count(uL(e)-1,e),t,2)}function AF(e,t){return EL(e.getUTCFullYear()%100,t,2)}function CF(e,t){return EL((e=kF(e)).getUTCFullYear()%100,t,2)}function PF(e,t){return EL(e.getUTCFullYear()%1e4,t,4)}function jF(e,t){var n=e.getUTCDay();return EL((e=n>=4||0===n?nL(e):nL.ceil(e)).getUTCFullYear()%1e4,t,4)}function NF(){return"+0000"}function DF(){return"%"}function RF(e){return+e}function MF(e){return Math.floor(+e/1e3)}function LF(e){return new Date(e)}function FF(e){return e instanceof Date?+e:+new Date(+e)}function UF(e,t,n,r,i,o,a,s,u,c){var l=OR(),h=l.invert,d=l.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(u(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return l.invert=function(e){return new Date(h(e))},l.domain=function(e){return arguments.length?d(Array.from(e,FF)):d().map(LF)},l.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?x:c(t)},l.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(KR(n,e)):l},l.copy=function(){return ER(l,UF(e,t,n,r,i,o,a,s,u,c))},l}function BF(){return hN.apply(UF(dL,fL,sL,oL,$M,BM,FM,MM,RM,vL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VF(){return hN.apply(UF(lL,hL,uL,aL,JM,VM,UM,LM,RM,bL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zF(){var e,t,n,r,i,o=0,a=1,s=wR,u=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=l(gR),c.rangeRound=l(yR),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function qF(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $F(){var e=qR(zF()(wR));return e.copy=function(){return qF(e,$F())},dN.apply(e,arguments)}function WF(){var e=ZR(zF()).domain([1,10]);return e.copy=function(){return qF(e,WF()).base(e.base())},dN.apply(e,arguments)}function KF(){var e=rM(zF());return e.copy=function(){return qF(e,KF()).constant(e.constant())},dN.apply(e,arguments)}function GF(){var e=uM(zF());return e.copy=function(){return qF(e,GF()).exponent(e.exponent())},dN.apply(e,arguments)}function HF(){return GF.apply(null,arguments).exponent(.5)}function QF(){var e=[],t=wR;function n(n){if(null!=n&&!isNaN(n=+n))return t((wD(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(fD),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>bM(e,r/t)))},n.copy=function(){return QF(t).domain(e)},dN.apply(n,arguments)}function XF(){var e,t,n,r,i,o,a,s=0,u=.5,c=1,l=1,h=wR,d=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(l*e<l*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=gR);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,u,c]=a,e=o(s=+s),t=o(u=+u),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,f):[s,u,c]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=p(gR),f.rangeRound=p(yR),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(u),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,f}}function YF(){var e=qR(XF()(wR));return e.copy=function(){return qF(e,YF())},dN.apply(e,arguments)}function JF(){var e=ZR(XF()).domain([.1,1,10]);return e.copy=function(){return qF(e,JF()).base(e.base())},dN.apply(e,arguments)}function ZF(){var e=rM(XF());return e.copy=function(){return qF(e,ZF()).constant(e.constant())},dN.apply(e,arguments)}function eU(){var e=uM(XF());return e.copy=function(){return qF(e,eU()).exponent(e.exponent())},dN.apply(e,arguments)}function tU(){return eU.apply(null,arguments).exponent(.5)}function nU(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){yL=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,c=OL(i),l=TL(i),h=OL(o),d=TL(o),f=OL(a),p=TL(a),m=OL(s),g=TL(s),y=OL(u),v=TL(u),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:HL,e:HL,f:ZL,g:lF,G:dF,H:QL,I:XL,j:YL,L:JL,m:eF,M:tF,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:RF,s:MF,S:nF,u:rF,U:iF,V:aF,w:sF,W:uF,x:null,X:null,y:cF,Y:hF,Z:fF,"%":DF},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:pF,e:pF,f:bF,g:CF,G:jF,H:mF,I:gF,j:yF,L:vF,m:wF,M:xF,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:RF,s:MF,S:SF,u:_F,U:EF,V:OF,w:TF,W:IF,x:null,X:null,y:AF,Y:PF,Z:NF,"%":DF},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:FL,e:FL,f:$L,g:DL,G:NL,H:BL,I:BL,j:UL,L:qL,m:LL,M:VL,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:ML,Q:KL,s:GL,S:zL,u:AL,U:CL,V:PL,w:IL,W:jL,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:DL,Y:NL,Z:RL,"%":WL};function S(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=wL[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function _(e,t){return function(n){var r,i,o=gL(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=mL(gL(o.y,0,1))).getUTCDay(),r=i>4||0===i?ZM.ceil(r):ZM(r),r=VM.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=pL(gL(o.y,0,1))).getDay(),r=i>4||0===i?WM.ceil(r):WM(r),r=BM.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?mL(gL(o.y,0,1)).getUTCDay():pL(gL(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,mL(o)):pL(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in wL?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),vL=yL.format,yL.parse,bL=yL.utcFormat,yL.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function rU(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function iU(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function oU(e,t){return e[t]}function aU(e){const t=[];return t.key=e,t}var sU=n(539),uU=n.n(sU),cU=n(6745),lU=n.n(cU),hU=n(3538),dU=n.n(hU),fU=n(9853),pU=n.n(fU),mU=n(8210),gU=n.n(mU);function yU(e){return function(e){if(Array.isArray(e))return vU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bU=function(e){return e},wU={"@@functional/placeholder":!0},xU=function(e){return e===wU},SU=function(e){return function t(){return 0===arguments.length||1===arguments.length&&xU(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},_U=function e(t,n){return 1===t?n:SU((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==wU})).length;return a>=t?n.apply(void 0,i):e(t-a,SU((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return xU(e)?t.shift():e}));return n.apply(void 0,yU(o).concat(t))})))}))},EU=function(e){return _U(e.length,e)},kU=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},OU=EU((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),TU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return bU;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},IU=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AU=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var CU=EU((function(e,t,n){var r=+e;return r+n*(+t-r)})),PU=EU((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),jU=EU((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const NU={rangeStep:function(e,t,n){for(var r=new(gU())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(gU())(e).abs().log(10).toNumber())+1},interpolateNumber:CU,uninterpolateNumber:PU,uninterpolateTruncation:jU};function DU(e){return function(e){if(Array.isArray(e))return LU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||MU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||MU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MU(e,t){if(e){if("string"===typeof e)return LU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LU(e,t):void 0}}function LU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FU(e){var t=RU(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function UU(e,t,n){if(e.lte(0))return new(gU())(0);var r=NU.getDigitCount(e.toNumber()),i=new(gU())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(gU())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(gU())(Math.ceil(s))}function BU(e,t,n){var r=1,i=new(gU())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(gU())(10).pow(NU.getDigitCount(e)-1),i=new(gU())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(gU())(Math.floor(e)))}else 0===e?i=new(gU())(Math.floor((t-1)/2)):n||(i=new(gU())(Math.floor(e)));var a=Math.floor((t-1)/2);return TU(OU((function(e){return i.add(new(gU())(e-a).mul(r)).toNumber()})),kU)(0,t)}function VU(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(gU())(0),tickMin:new(gU())(0),tickMax:new(gU())(0)};var o,a=UU(new(gU())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(gU())(0):(o=new(gU())(e).add(t).div(2)).sub(new(gU())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new(gU())(t).sub(o).div(a).toNumber()),c=s+u+1;return c>n?VU(e,t,n,r,i+1):(c<n&&(u=t>0?u+(n-c):u,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(gU())(s).mul(a)),tickMax:o.add(new(gU())(u).mul(a))})}var zU=AU((function(e){var t=RU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=RU(FU([n,r]),2),u=s[0],c=s[1];if(u===-1/0||c===1/0){var l=c===1/0?[u].concat(DU(kU(0,i-1).map((function(){return 1/0})))):[].concat(DU(kU(0,i-1).map((function(){return-1/0}))),[c]);return n>r?IU(l):l}if(u===c)return BU(u,i,o);var h=VU(u,c,a,o),d=h.step,f=h.tickMin,p=h.tickMax,m=NU.rangeStep(f,p.add(new(gU())(.1).mul(d)),d);return n>r?IU(m):m})),qU=(AU((function(e){var t=RU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=RU(FU([n,r]),2),u=s[0],c=s[1];if(u===-1/0||c===1/0)return[n,r];if(u===c)return BU(u,i,o);var l=UU(new(gU())(c).sub(u).div(a-1),o,0),h=TU(OU((function(e){return new(gU())(u).add(new(gU())(e).mul(l)).toNumber()})),kU)(0,a).filter((function(e){return e>=u&&e<=c}));return n>r?IU(h):h})),AU((function(e,t){var n=RU(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=RU(FU([r,i]),2),s=a[0],u=a[1];if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(t,2),l=UU(new(gU())(u).sub(s).div(c-1),o,0),h=[].concat(DU(NU.rangeStep(new(gU())(s),new(gU())(u).sub(new(gU())(.99).mul(l)),l)),[u]);return r>i?IU(h):h}))),$U=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function WU(){return WU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WU.apply(this,arguments)}function KU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return GU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QU(e){var t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,u=e.xAxis,c=e.yAxis,l=HU(e,$U),h=iI(l,!1);"x"===e.direction&&"number"!==u.type&&xI(!1);var d=a.map((function(e){var a=s(e,o),l=a.x,d=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=KU(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=u.scale,w=d+t,x=w+r,S=w-r,_=b(f-m),E=b(f+g);y.push({x1:E,y1:x,x2:E,y2:S}),y.push({x1:_,y1:w,x2:E,y2:w}),y.push({x1:_,y1:x,x2:_,y2:S})}else if("horizontal"===n){var k=c.scale,O=l+t,T=O-r,I=O+r,A=k(f-m),C=k(f+g);y.push({x1:T,y1:C,x2:I,y2:C}),y.push({x1:O,y1:A,x2:O,y2:C}),y.push({x1:T,y1:A,x2:I,y2:A})}return i.createElement(AI,WU({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},h),y.map((function(e){return i.createElement("line",WU({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return i.createElement(AI,{className:"recharts-errorBars"},d)}function XU(e){return XU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XU(e)}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YU(Object(n),!0).forEach((function(t){ZU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=XU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XU(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}QU.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},QU.displayName="ErrorBar";var eB=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=eI(n,NC);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||o||"square",color:cB(t),value:i||r,payload:t.props}})),JU(JU(JU({},a.props),NC.getWithHeight(a,i)),{},{payload:t,item:a})):null};function tB(e){return tB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tB(e)}function nB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nB(Object(n),!0).forEach((function(t){iB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tB(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oB(e){return function(e){if(Array.isArray(e))return aB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return aB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sB(e,t,n){return PT()(e)||PT()(t)?n:ST(t)?gT()(e,t,n):NT()(t)?t(e):n}function uB(e,t,n,r){var i=dU()(e,(function(e){return sB(e,t)}));if("number"===n){var o=i.filter((function(e){return xT(e)||parseFloat(e)}));return o.length?[lU()(o),uU()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!PT()(e)})):i).map((function(e){return ST(e)||e instanceof Date?e:""}))}var cB=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,o=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:o;break;default:t=o}return t},lB=function(e,t,n,r,i){var o=ZT(t.props.children,QU).filter((function(e){return function(e,t,n){return!!PT()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=sB(t,n);if(PT()(r))return e;var i=Array.isArray(r)?[lU()(r),uU()(r)]:[r,r],o=a.reduce((function(e,n){var r=sB(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},hB=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&lB(e,t,o,r)||uB(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},dB=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},fB=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},pB=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,u=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return u="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*bT(a[0]-a[1])*u:u,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+u,value:e,offset:u}})).filter((function(e){return!pT()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+u,value:e,index:t,offset:u}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+u,value:e,offset:u}})):r.domain().map((function(e,t){return{coordinate:r(e)+u,value:i?i[e]:e,index:t,offset:u}}))},mB=new WeakMap,gB=function(e,t){if("function"!==typeof t)return e;mB.has(e)||mB.set(e,new WeakMap);var n=mB.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},yB=function(e,t,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:wN(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:$R(),realScaleType:"linear"}:"category"===o&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:SN(),realScaleType:"point"}:"category"===o?{scale:wN(),realScaleType:"band"}:{scale:$R(),realScaleType:"linear"};if(dT()(i)){var u="scale".concat(wA()(i));return{scale:(r[u]||SN)(),realScaleType:r[u]?u:"point"}}return NT()(i)?{scale:i}:{scale:SN(),realScaleType:"point"}},vB=1e-4,bB=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-vB,o=Math.max(r[0],r[1])+vB,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},wB={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=pT()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}nU(e,t)}},none:nU,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}nU(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=e[t[s]],h=l[a][1]||0,d=(h-(l[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}u+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,nU(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=pT()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},xB=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=wB[n],o=function(){var e=qA([]),t=iU,n=nU,r=oU;function i(i){var o,a,s=Array.from(e.apply(this,arguments),aU),u=s.length,c=-1;for(const e of i)for(o=0,++c;o<u;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=rU(t(s));o<u;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:qA(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:qA(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?iU:"function"===typeof e?e:qA(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?nU:e,i):n},i}().keys(r).value((function(e,t){return+sB(e,t,0)})).order(iU).offset(i);return o(e)},SB=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var u=e.domain();if(!u.length)return null;var c=zU(u,i,a);return e.domain([lU()(c),uU()(c)]),{niceTicks:c}}if(i&&"number"===r){var l=e.domain();return{niceTicks:qU(l,i,a)}}return null};function _B(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!PT()(i[t.dataKey])){var s=IT(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var u=sB(i,PT()(a)?t.dataKey:a);return PT()(u)?null:t.scale(u)}var EB=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=sB(o,t.dataKey,t.domain[a]);return PT()(s)?null:t.scale(s)-i/2+r},kB=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[lU()(t.concat([e[0]]).filter(xT)),uU()(t.concat([e[1]]).filter(xT))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},OB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IB=function(e,t,n){if(NT()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(xT(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(OB.test(e[0])){var i=+OB.exec(e[0])[1];r[0]=t[0]-i}else NT()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(xT(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(TB.test(e[1])){var o=+TB.exec(e[1])[1];r[1]=t[1]+o}else NT()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},AB=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=vI()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var u=i[a],c=i[a-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},CB=function(e,t,n){return e&&e.length?pU()(e,gT()(n,"type.defaultProps.domain"))?t:e:t},PB=function(e,t){var n=e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,u=n.chartType,c=n.hide;return rB(rB({},iI(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:cB(e),value:sB(t,r),type:s,payload:t,chartType:u,hide:c})};function jB(e){return jB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jB(e)}function NB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NB(Object(n),!0).forEach((function(t){RB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=jB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jB(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MB=["Webkit","Moz","O","ms"];function LB(e){return LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LB(e)}function FB(){return FB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FB.apply(this,arguments)}function UB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UB(Object(n),!0).forEach((function(t){GB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HB(r.key),r)}}function zB(e,t,n){return t=$B(t),function(e,t){if(t&&("object"===LB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return WB(e)}(e,qB()?Reflect.construct(t,n||[],$B(e).constructor):t.apply(e,n))}function qB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qB=function(){return!!e})()}function $B(e){return $B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$B(e)}function WB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KB(e,t){return KB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KB(e,t)}function GB(e,t,n){return(t=HB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(e){var t=function(e,t){if("object"!=LB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LB(t)?t:String(t)}var QB=function(e){return e.changedTouches&&!!e.changedTouches.length},XB=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),GB(WB(n=zB(this,t,[e])),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),GB(WB(n),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),GB(WB(n),"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),GB(WB(n),"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),GB(WB(n),"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),GB(WB(n),"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),GB(WB(n),"handleSlideDragStart",(function(e){var t=QB(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(WB(n),"startX"),endX:n.handleTravellerDragStart.bind(WB(n),"endX")},n.state={},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KB(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,u=Math.min(n,r),c=Math.max(n,r),l=t.getIndexInRange(i,u),h=t.getIndexInRange(i,c);return{startIndex:l-l%a,endIndex:h===s?s:h-h%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=sB(n[e],i,e);return NT()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,u=o.travellerWidth,c=o.startIndex,l=o.endIndex,h=o.onChange,d=e.pageX-n;d>0?d=Math.min(d,a+s-u-i,a+s-u-r):d<0&&(d=Math.max(d,a-r,a-i));var f=this.getIndex({startX:r+d,endX:i+d});f.startIndex===c&&f.endIndex===l||!h||h(f),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=QB(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,u=s.x,c=s.width,l=s.travellerWidth,h=s.onChange,d=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,u+c-l-a):m<0&&(m=Math.max(m,u-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(GB(GB({},r,a+m),"brushMoveStartX",e.pageX),(function(){h&&function(){var e=f.length-1;return"startX"===r&&(i>o?y%d===0:v%d===0)||i<o&&v===e||"endX"===r&&(i>o?v%d===0:y%d===0)||i>o&&v===e}()&&h(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],u=i.indexOf(s);if(-1!==u){var c=u+e;if(!(-1===c||c>=i.length)){var l=i[c];"startX"===t&&l>=a||"endX"===t&&l<=o||this.setState(GB({},t,l),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,s=e.children,u=e.padding,c=i.Children.only(s);return c?i.cloneElement(c,{x:t,y:n,width:r,height:o,margin:u,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,o,a=this,s=this.props,u=s.y,c=s.travellerWidth,l=s.height,h=s.traveller,d=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=BB(BB({},iI(this.props,!1)),{},{x:g,y:u,width:c,height:l}),v=d||"Min value: ".concat(null===(r=f[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return i.createElement(AI,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,u=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:u,y:r,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,u=this.state,c=u.startX,l=u.endX,h={pointerEvents:"none",fill:s};return i.createElement(AI,{className:"recharts-brush-texts"},i.createElement(oD,FB({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,l)-5,y:r+o/2},h),this.getTextOfTick(t)),i.createElement(oD,FB({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,l)+a+5,y:r+o/2},h),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,s=e.width,u=e.height,c=e.alwaysShowText,l=this.state,h=l.startX,d=l.endX,f=l.isTextActive,p=l.isSlideMoving,m=l.isTravellerMoving,g=l.isTravellerFocused;if(!t||!t.length||!xT(o)||!xT(a)||!xT(s)||!xT(u)||s<=0||u<=0)return null;var y=sT("recharts-brush",n),v=1===i.Children.count(r),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=MB.reduce((function(e,r){return DB(DB({},e),{},RB({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return i.createElement(AI,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(h,d),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(d,"endX"),(f||p||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return i.isValidElement(e)?i.cloneElement(e,n):NT()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,u=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return BB({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,u=SN().domain(gI()(0,s)).range([i,i+o-a]),c=u.domain().map((function(e){return u(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(r),scale:u,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:u}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&VB(n.prototype,r),o&&VB(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function YB(e){return YB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YB(e)}function JB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JB(Object(n),!0).forEach((function(t){eV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YB(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}GB(XB,"displayName","Brush"),GB(XB,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rV=Math.PI/180,iV=function(e){return 180*e/Math.PI},oV=function(e,t,n,r){return{x:e+Math.cos(-rV*r)*n,y:t+Math.sin(-rV*r)*n}},aV=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},sV=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,u=Math.acos(s);return r>o&&(u=2*Math.PI-u),{radius:a,angle:iV(u),angleInRadian:u}},uV=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},cV=function(e,t){var n=e.x,r=e.y,i=sV({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,u=t.outerRadius;if(o<s||o>u)return!1;if(0===o)return!0;var c,l=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),h=l.startAngle,d=l.endAngle,f=a;if(h<=d){for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}else{for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}return c?ZB(ZB({},t),{},{radius:o,angle:uV(f,t)}):null},lV=function(e){return(0,i.isValidElement)(e)||NT()(e)||"boolean"===typeof e?"":e.className};function hV(e){return hV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hV(e)}var dV=["offset"];function fV(e){return function(e){if(Array.isArray(e))return pV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gV(Object(n),!0).forEach((function(t){vV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hV(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bV(){return bV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bV.apply(this,arguments)}var wV=function(e){var t=e.value,n=e.formatter,r=PT()(e.children)?t:e.children;return NT()(n)?n(r):r},xV=function(e,t,n){var r,o,a=e.position,s=e.viewBox,u=e.offset,c=e.className,l=s,h=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,v=(f+p)/2,b=function(e,t){return bT(t-e)*Math.min(Math.abs(t-e),360)}(m,g),w=b>=0?1:-1;"insideStart"===a?(r=m+w*u,o=y):"insideEnd"===a?(r=g-w*u,o=!y):"end"===a&&(r=g+w*u,o=y),o=b<=0?o:!o;var x=oV(h,d,v,r),S=oV(h,d,v,r+359*(o?1:-1)),_="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),E=PT()(e.id)?ET("recharts-radial-line-"):e.id;return i.createElement("text",bV({},n,{dominantBaseline:"central",className:sT("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:E,d:_})),i.createElement("textPath",{xlinkHref:"#".concat(E)},t))},SV=function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,u=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var l=oV(o,a,u+n,c),h=l.x;return{x:h,y:l.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=oV(o,a,(s+u)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}},_V=function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,u=o.width,c=o.height,l=c>=0?1:-1,h=l*r,d=l>0?"end":"start",f=l>0?"start":"end",p=u>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return yV(yV({},{x:a+u/2,y:s-l*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:u}:{});if("bottom"===i)return yV(yV({},{x:a+u/2,y:s+c+h,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:u}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return yV(yV({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+u+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return yV(yV({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:u,height:c}:{};return"insideLeft"===i?yV({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===i?yV({x:a+u-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?yV({x:a+u/2,y:s+h,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?yV({x:a+u/2,y:s+c-h,textAnchor:"middle",verticalAnchor:d},w):"insideTopLeft"===i?yV({x:a+m,y:s+h,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===i?yV({x:a+u-m,y:s+h,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===i?yV({x:a+m,y:s+c-h,textAnchor:y,verticalAnchor:d},w):"insideBottomRight"===i?yV({x:a+u-m,y:s+c-h,textAnchor:g,verticalAnchor:d},w):RT()(i)&&(xT(i.x)||wT(i.x))&&(xT(i.y)||wT(i.y))?yV({x:a+kT(i.x,u),y:s+kT(i.y,c),textAnchor:"end",verticalAnchor:"end"},w):yV({x:a+u/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)},EV=function(e){return"cx"in e&&xT(e.cx)};function kV(e){var t,n=e.offset,r=yV({offset:void 0===n?5:n},mV(e,dV)),o=r.viewBox,a=r.position,s=r.value,u=r.children,c=r.content,l=r.className,h=void 0===l?"":l,d=r.textBreakAll;if(!o||PT()(s)&&PT()(u)&&!(0,i.isValidElement)(c)&&!NT()(c))return null;if((0,i.isValidElement)(c))return(0,i.cloneElement)(c,r);if(NT()(c)){if(t=(0,i.createElement)(c,r),(0,i.isValidElement)(t))return t}else t=wV(r);var f=EV(o),p=iI(r,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return xV(r,t,p);var m=f?SV(r):_V(r);return i.createElement(oD,bV({className:sT("recharts-label",h)},p,m,{breakAll:d}),t)}kV.displayName="Label";var OV=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,u=e.innerRadius,c=e.outerRadius,l=e.x,h=e.y,d=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(xT(p)&&xT(m)){if(xT(l)&&xT(h))return{x:l,y:h,width:p,height:m};if(xT(d)&&xT(f))return{x:d,y:f,width:p,height:m}}return xT(l)&&xT(h)?{x:l,y:h,width:0,height:0}:xT(t)&&xT(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:u||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};kV.parseViewBox=OV,kV.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=OV(e),a=ZT(r,kV).map((function(e,n){return(0,i.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?i.createElement(kV,{key:"label-implicit",viewBox:t}):ST(e)?i.createElement(kV,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===kV?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(kV,{key:"label-implicit",content:e,viewBox:t}):NT()(e)?i.createElement(kV,{key:"label-implicit",content:e,viewBox:t}):RT()(e)?i.createElement(kV,bV({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(fV(a))};var TV=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},IV=n(1733),AV=n.n(IV),CV=n(7002),PV=n.n(CV),jV=function(e){return null};jV.displayName="Cell";var NV=n(4065),DV=n.n(NV);function RV(e){return RV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RV(e)}var MV=["valueAccessor"],LV=["data","dataKey","clockWise","id","textBreakAll"];function FV(e){return function(e){if(Array.isArray(e))return UV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return UV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BV(){return BV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BV.apply(this,arguments)}function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VV(Object(n),!0).forEach((function(t){qV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RV(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $V(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var WV=function(e){return Array.isArray(e.value)?DV()(e.value):e.value};function KV(e){var t=e.valueAccessor,n=void 0===t?WV:t,r=$V(e,MV),o=r.data,a=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,l=$V(r,LV);return o&&o.length?i.createElement(AI,{className:"recharts-label-list"},o.map((function(e,t){var r=PT()(a)?n(e,t):sB(e&&e.payload,a),o=PT()(u)?{}:{id:"".concat(u,"-").concat(t)};return i.createElement(kV,BV({},iI(e,!0),l,o,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:kV.parseViewBox(PT()(s)?e:zV(zV({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}KV.displayName="LabelList",KV.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=ZT(e.children,KV).map((function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return r;var o=function(e,t){return e?!0===e?i.createElement(KV,{key:"labelList-implicit",data:t}):i.isValidElement(e)||NT()(e)?i.createElement(KV,{key:"labelList-implicit",data:t,content:e}):RT()(e)?i.createElement(KV,BV({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(FV(r))};var GV=n(2322),HV=n.n(GV),QV=n(6361),XV=n.n(QV);function YV(e){return YV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YV(e)}function JV(){return JV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JV.apply(this,arguments)}function ZV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ez(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ez(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tz(Object(n),!0).forEach((function(t){rz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YV(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iz=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},oz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},az=function(e){var t=nz(nz({},oz),e),n=(0,i.useRef)(),r=ZV((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,u=t.y,c=t.upperWidth,l=t.lowerWidth,h=t.height,d=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||u!==+u||c!==+c||l!==+l||h!==+h||0===c&&0===l||0===h)return null;var y=sT("recharts-trapezoid",d);return g?i.createElement(Zj,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:u},to:{upperWidth:c,lowerWidth:l,height:h,x:s,y:u},duration:p,animationEasing:f,isActive:g},(function(e){var r=e.upperWidth,a=e.lowerWidth,s=e.height,u=e.x,c=e.y;return i.createElement(Zj,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},i.createElement("path",JV({},iI(t,!0),{className:y,d:iz(u,c,r,a,s),ref:n})))})):i.createElement("g",null,i.createElement("path",JV({},iI(t,!0),{className:y,d:iz(s,u,c,l,h)})))};function sz(e){return sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sz(e)}function uz(){return uz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uz.apply(this,arguments)}function cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cz(Object(n),!0).forEach((function(t){hz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sz(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dz=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,u=e.cornerIsExternal,c=s*(a?1:-1)+r,l=Math.asin(s/c)/rV,h=u?i:i+o*l,d=u?i-o*l:i;return{center:oV(t,n,c,h),circleTangency:oV(t,n,r,h),lineTangency:oV(t,n,c*Math.cos(l*rV),d),theta:l}},fz=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return bT(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,u=oV(t,n,i,o),c=oV(t,n,i,s),l="M ".concat(u.x,",").concat(u.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=oV(t,n,r,o),d=oV(t,n,r,s);l+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else l+="L ".concat(t,",").concat(n," Z");return l},pz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mz=function(e){var t=lz(lz({},pz),e),n=t.cx,r=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,u=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,h=t.endAngle,d=t.className;if(a<o||l===h)return null;var f,p=sT("recharts-sector",d),m=a-o,g=kT(s,m,0,!0);return f=g>0&&Math.abs(l-h)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,l=bT(c-u),h=dz({cx:t,cy:n,radius:i,angle:u,sign:l,cornerRadius:o,cornerIsExternal:s}),d=h.circleTangency,f=h.lineTangency,p=h.theta,m=dz({cx:t,cy:n,radius:i,angle:c,sign:-l,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(u-c):Math.abs(u-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):fz({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(l<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=dz({cx:t,cy:n,radius:r,angle:u,sign:l,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=x.circleTangency,_=x.lineTangency,E=x.theta,k=dz({cx:t,cy:n,radius:r,angle:c,sign:-l,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=k.circleTangency,T=k.lineTangency,I=k.theta,A=s?Math.abs(u-c):Math.abs(u-c)-E-I;if(A<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(l>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:l,endAngle:h}):fz({cx:n,cy:r,innerRadius:o,outerRadius:a,startAngle:l,endAngle:h}),i.createElement("path",uz({},iI(t,!0),{className:p,d:f,role:"img"}))},gz=["option","shapeType","propTransformer","activeClassName","isActive"];function yz(e){return yz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yz(e)}function vz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bz(Object(n),!0).forEach((function(t){xz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=yz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yz(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sz(e,t){return wz(wz({},t),e)}function _z(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return i.createElement(lN,n);case"trapezoid":return i.createElement(az,n);case"sector":return i.createElement(mz,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(aC,n);break;default:return null}}function Ez(e){var t,n=e.option,r=e.shapeType,o=e.propTransformer,a=void 0===o?Sz:o,s=e.activeClassName,u=void 0===s?"recharts-active-shape":s,c=e.isActive,l=vz(e,gz);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,wz(wz({},l),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if(NT()(n))t=n(l);else if(HV()(n)&&!XV()(n)){var h=a(n,l);t=i.createElement(_z,{shapeType:r,elementProps:h})}else{var d=l;t=i.createElement(_z,{shapeType:r,elementProps:d})}return c?i.createElement(AI,{className:u},t):t}function kz(e,t){return null!=t&&"trapezoids"in e.props}function Oz(e,t){return null!=t&&"sectors"in e.props}function Tz(e,t){return null!=t&&"points"in e.props}function Iz(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function Az(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Cz(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Pz(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return kz(e,t)?n="trapezoids":Oz(e,t)?n="sectors":Tz(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return kz(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Oz(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Tz(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=pU()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return kz(e,t)?n=Iz:Oz(e,t)?n=Az:Tz(e,t)&&(n=Cz),n}(n,t);return r(e,t)})),u=n.props[i].indexOf(s[s.length-1]);return a&&r===u}));return r.indexOf(a[a.length-1])}var jz=["x","y"];function Nz(e){return Nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nz(e)}function Dz(){return Dz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dz.apply(this,arguments)}function Rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rz(Object(n),!0).forEach((function(t){Lz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Nz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nz(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uz(e,t){var n=e.x,r=e.y,i=Fz(e,jz),o="".concat(n),a=parseInt(o,10),s="".concat(r),u=parseInt(s,10),c="".concat(t.height||i.height),l=parseInt(c,10),h="".concat(t.width||i.width),d=parseInt(h,10);return Mz(Mz(Mz(Mz(Mz({},t),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:l,width:d,name:t.name,radius:t.radius})}function Bz(e){return i.createElement(Ez,Dz({shapeType:"rectangle",propTransformer:Uz,activeClassName:"recharts-active-bar"},e))}var Vz,zz=["value","background"];function qz(e){return qz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qz(e)}function $z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wz(){return Wz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wz.apply(this,arguments)}function Kz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kz(Object(n),!0).forEach((function(t){eq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tq(r.key),r)}}function Qz(e,t,n){return t=Yz(t),function(e,t){if(t&&("object"===qz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jz(e)}(e,Xz()?Reflect.construct(t,n||[],Yz(e).constructor):t.apply(e,n))}function Xz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xz=function(){return!!e})()}function Yz(e){return Yz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yz(e)}function Jz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zz(e,t){return Zz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zz(e,t)}function eq(e,t,n){return(t=tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=function(e,t){if("object"!=qz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qz(t)?t:String(t)}var nq=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eq(Jz(e=Qz(this,t,[].concat(r))),"state",{isAnimationFinished:!1}),eq(Jz(e),"id",ET("recharts-bar-")),eq(Jz(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),eq(Jz(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zz(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,u=iI(this.props,!1);return e&&e.map((function(e,n){var c=n===a,l=c?s:r,h=Gz(Gz(Gz({},u),e),{},{isActive:c,option:l,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(AI,Wz({className:"recharts-bar-rectangle"},qT(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),i.createElement(Bz,h))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,u=t.animationEasing,c=t.animationId,l=this.state.prevData;return i.createElement(Zj,{begin:a,duration:s,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=l&&l[t];if(n){var i=TT(n.x,e.x),a=TT(n.y,e.y),s=TT(n.width,e.width),u=TT(n.height,e.height);return Gz(Gz({},e),{},{x:i(o),y:a(o),width:s(o),height:u(o)})}if("horizontal"===r){var c=TT(0,e.height)(o);return Gz(Gz({},e),{},{y:e.y+e.height-c,height:c})}var h=TT(0,e.width)(o);return Gz(Gz({},e),{},{width:h})}));return i.createElement(AI,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&pU()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,o=t.activeIndex,a=iI(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,u=$z(t,zz);if(!s)return null;var c=Gz(Gz(Gz(Gz(Gz({},u),{},{fill:"#eee"},s),a),qT(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return i.createElement(Bz,Wz({option:e.props.background,isActive:n===o},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,u=ZT(n.children,QU);if(!u)return null;var c="vertical"===s?r[0].height/2:r[0].width/2,l=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:sB(e,t)}},h={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(AI,h,u.map((function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:l})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,o=e.xAxis,a=e.yAxis,s=e.left,u=e.top,c=e.width,l=e.height,h=e.isAnimationActive,d=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=sT("recharts-bar",r),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=PT()(f)?this.id:f;return i.createElement(AI,{className:m},g||y?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:g?s:s-c/2,y:y?u:u-l/2,width:g?c:2*c,height:y?l:2*l}))):null,i.createElement(AI,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!h||p)&&KV.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&Hz(n.prototype,r),o&&Hz(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function rq(e){return rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rq(e)}function iq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uq(r.key),r)}}function oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oq(Object(n),!0).forEach((function(t){sq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=function(e,t){if("object"!=rq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rq(t)?t:String(t)}Vz=nq,eq(nq,"displayName","Bar"),eq(nq,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!rA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),eq(nq,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,u=e.yAxisTicks,c=e.stackedData,l=e.dataStartIndex,h=e.displayedData,d=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.props,g=m.dataKey,y=m.children,v=m.minPointSize,b="horizontal"===p?a:o,w=c?b.scale.domain():null,x=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),S=ZT(y,jV),_=h.map((function(e,t){var r,h,d,m,y,b;c?r=function(e,t){if(!t||2!==t.length||!xT(t[0])||!xT(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!xT(e[0])||e[0]<n)&&(i[0]=n),(!xT(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[l+t],w):(r=sB(e,g),Array.isArray(r)||(r=[x,r]));var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||xI(!1),t)}}(v,Vz.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var E,k=[a.scale(r[0]),a.scale(r[1])],O=k[0],T=k[1];h=EB({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),d=null!==(E=null!==T&&void 0!==T?T:O)&&void 0!==E?E:void 0,m=f.size;var I=O-T;if(y=Number.isNaN(I)?0:I,b={x:h,y:a.y,width:m,height:a.height},Math.abs(_)>0&&Math.abs(y)<Math.abs(_)){var A=bT(y||_)*(Math.abs(_)-Math.abs(y));d-=A,y+=A}}else{var C=[o.scale(r[0]),o.scale(r[1])],P=C[0],j=C[1];if(h=P,d=EB({axis:a,ticks:u,bandSize:i,offset:f.offset,entry:e,index:t}),m=j-P,y=f.size,b={x:o.x,y:d,width:o.width,height:y},Math.abs(_)>0&&Math.abs(m)<Math.abs(_))m+=bT(m||_)*(Math.abs(_)-Math.abs(m))}return Gz(Gz(Gz({},e),{},{x:h,y:d,width:m,height:y,value:c?r:r[1],payload:e,background:b},S&&S[t]&&S[t].props),{},{tooltipPayload:[PB(n,e)],tooltipPosition:{x:h+m/2,y:d+y/2}})}));return Gz({data:_,layout:p},d)}));var cq=function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,u=e.children,c=Object.keys(t),l={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},h=!!eI(u,nq);return c.reduce((function(o,a){var u,c,d,f,p,m=t[a],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,w=m.mirror,x=m.reversed,S="".concat(g).concat(w?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var _=y[1]-y[0],E=1/0,k=m.categoricalDomain.sort();if(k.forEach((function(e,t){t>0&&(E=Math.min((e||0)-(k[t-1]||0),E))})),Number.isFinite(E)){var O=E/_,T="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(u=O*T/2),"no-gap"===m.padding){var I=kT(e.barCategoryGap,O*T),A=O*T/2;u=A-I-(A-I)/T*I}}}c="xAxis"===r?[n.left+(b.left||0)+(u||0),n.left+n.width-(b.right||0)-(u||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(u||0),n.top+n.height-(b.bottom||0)-(u||0)]:m.range,x&&(c=[c[1],c[0]]);var C=yB(m,i,h),P=C.scale,j=C.realScaleType;P.domain(y).range(c),bB(P);var N=SB(P,aq(aq({},m),{},{realScaleType:j}));"xAxis"===r?(p="top"===g&&!w||"bottom"===g&&w,d=n.left,f=l[S]-p*m.height):"yAxis"===r&&(p="left"===g&&!w||"right"===g&&w,d=l[S]-p*m.width,f=n.top);var D=aq(aq(aq({},m),N),{},{realScaleType:j,x:d,y:f,scale:P,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return D.bandSize=AB(D,N),m.hide||"xAxis"!==r?m.hide||(l[S]+=(p?-1:1)*D.width):l[S]+=(p?-1:1)*D.height,aq(aq({},o),{},sq({},a,D))}),{})},lq=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},hq=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&iq(t.prototype,n),r&&iq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();sq(hq,"EPS",1e-4);var dq=function(e){var t=Object.keys(e).reduce((function(t,n){return aq(aq({},t),{},sq({},n,hq.create(e[n])))}),{});return aq(aq({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return AV()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return PV()(e,(function(e,n){return t[n].isInRange(e)}))}})};var fq=function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)};function pq(e){return pq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pq(e)}function mq(){return mq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mq.apply(this,arguments)}function gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gq(Object(n),!0).forEach((function(t){vq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pq(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=e.x,n=e.y,r=e.r,o=e.alwaysShow,a=e.clipPathId,s=ST(t),u=ST(n);if(AT(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!u)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=dq({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return TV(e,"discard")&&!o.isInRange(a)?null:a}(e);if(!c)return null;var l=c.x,h=c.y,d=e.shape,f=e.className,p=yq(yq({clipPath:TV(e,"hidden")?"url(#".concat(a,")"):void 0},iI(e,!0)),{},{cx:l,cy:h});return i.createElement(AI,{className:sT("recharts-reference-dot",f)},bq.renderDot(d,p),kV.renderCallByParent(e,{x:l-r,y:h-r,width:2*r,height:2*r}))}bq.displayName="ReferenceDot",bq.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},bq.renderDot=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):NT()(e)?e(t):i.createElement(RC,mq({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var wq=n(4597),xq=n.n(wq),Sq=n(8990),_q=n.n(Sq),Eq=n(5797),kq=n.n(Eq)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var Oq=(0,i.createContext)(void 0),Tq=(0,i.createContext)(void 0),Iq=(0,i.createContext)(void 0),Aq=(0,i.createContext)({}),Cq=(0,i.createContext)(void 0),Pq=(0,i.createContext)(0),jq=(0,i.createContext)(0),Nq=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,u=e.width,c=e.height,l=kq(o);return i.createElement(Oq.Provider,{value:n},i.createElement(Tq.Provider,{value:r},i.createElement(Aq.Provider,{value:o},i.createElement(Iq.Provider,{value:l},i.createElement(Cq.Provider,{value:a},i.createElement(Pq.Provider,{value:c},i.createElement(jq.Provider,{value:u},s)))))))};var Dq=function(e){var t=(0,i.useContext)(Oq);null==t&&xI(!1);var n=t[e];return null==n&&xI(!1),n},Rq=function(e){var t=(0,i.useContext)(Tq);null==t&&xI(!1);var n=t[e];return null==n&&xI(!1),n},Mq=function(){return(0,i.useContext)(jq)},Lq=function(){return(0,i.useContext)(Pq)};function Fq(e){return Fq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fq(e)}function Uq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uq(Object(n),!0).forEach((function(t){Vq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Fq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fq(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $q(){return $q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$q.apply(this,arguments)}function Wq(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,u=e.className,c=e.alwaysShow,l=(0,i.useContext)(Cq),h=Dq(o),d=Rq(a),f=(0,i.useContext)(Iq);if(!l||!f)return null;AT(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,u){var c=i.x,l=i.y,h=i.width,d=i.height;if(n){var f=u.y,p=e.y.apply(f,{position:o});if(TV(u,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+h,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=u.x,y=e.x.apply(g,{position:o});if(TV(u,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:l+d},{x:y,y:l}];return"top"===a?v.reverse():v}if(r){var b=u.segment.map((function(t){return e.apply(t,{position:o})}));return TV(u,"discard")&&xq()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(dq({x:h.scale,y:d.scale}),ST(t),ST(n),r&&2===r.length,f,e.position,h.orientation,d.orientation,e);if(!p)return null;var m=zq(p,2),g=m[0],y=g.x,v=g.y,b=m[1],w=b.x,x=b.y,S=Bq(Bq({clipPath:TV(e,"hidden")?"url(#".concat(l,")"):void 0},iI(e,!0)),{},{x1:y,y1:v,x2:w,y2:x});return i.createElement(AI,{className:sT("recharts-reference-line",u)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):NT()(e)?e(t):i.createElement("line",$q({},t,{className:"recharts-reference-line-line"}))}(s,S),kV.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return lq({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:w,y2:x})))}function Kq(e){return Kq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kq(e)}function Gq(){return Gq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gq.apply(this,arguments)}function Hq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hq(Object(n),!0).forEach((function(t){Xq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Kq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kq(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Wq.displayName="ReferenceLine",Wq.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Yq(e){var t=e.x1,n=e.x2,r=e.y1,o=e.y2,a=e.className,s=e.alwaysShow,u=e.clipPathId;AT(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=ST(t),l=ST(n),h=ST(r),d=ST(o),f=e.shape;if(!c&&!l&&!h&&!d&&!f)return null;var p=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,u=i.y2,c=i.xAxis,l=i.yAxis;if(!c||!l)return null;var h=dq({x:c.scale,y:l.scale}),d={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},f={x:t?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(u,{position:"end"}):h.y.rangeMax};return!TV(i,"discard")||h.isInRange(d)&&h.isInRange(f)?lq(d,f):null}(c,l,h,d,e);if(!p&&!f)return null;var m=TV(e,"hidden")?"url(#".concat(u,")"):void 0;return i.createElement(AI,{className:sT("recharts-reference-area",a)},Yq.renderRect(f,Qq(Qq({clipPath:m},iI(e,!0)),p)),kV.renderCallByParent(e,p))}function Jq(e){return function(e){if(Array.isArray(e))return Zq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Zq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zq(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Yq.displayName="ReferenceArea",Yq.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},Yq.renderRect=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):NT()(e)?e(t):i.createElement(lN,Gq({},t,{className:"recharts-reference-area-rect"}))};var e$=function(e,t,n,r,i){var o=ZT(e,Wq),a=ZT(e,bq),s=[].concat(Jq(o),Jq(a)),u=ZT(e,Yq),c="".concat(r,"Id"),l=r[0],h=t;if(s.length&&(h=s.reduce((function(e,t){if(t.props[c]===n&&TV(t.props,"extendDomain")&&xT(t.props[l])){var r=t.props[l];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),h)),u.length){var d="".concat(l,"1"),f="".concat(l,"2");h=u.reduce((function(e,t){if(t.props[c]===n&&TV(t.props,"extendDomain")&&xT(t.props[d])&&xT(t.props[f])){var r=t.props[d],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),h)}return i&&i.length&&(h=i.reduce((function(e,t){return xT(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),h)),h},t$=n(7283),n$=new(n.n(t$)()),r$="recharts.syncMouseEvents";function i$(e){return i$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i$(e)}function o$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s$(r.key),r)}}function a$(e,t,n){return(t=s$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s$(e){var t=function(e,t){if("object"!=i$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i$(t)?t:String(t)}var u$=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a$(this,"activeIndex",0),a$(this,"coordinateList",[]),a$(this,"layout","horizontal")}var t,n,r;return t=e,n=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,u=e.offset,c=void 0===u?null:u,l=e.mouseHandlerCallback,h=void 0===l?null:l;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==h&&void 0!==h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,u=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,l=i+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:c,pageY:l})}}}],n&&o$(t.prototype,n),r&&o$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c$(){}function l$(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function h$(e){this._context=e}function d$(e){this._context=e}function f$(e){this._context=e}h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:l$(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:l$(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},d$.prototype={areaStart:c$,areaEnd:c$,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:l$(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},f$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:l$(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class p${constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function m$(e){this._context=e}function g$(e){this._context=e}function y$(e){return new g$(e)}function v$(e){return e<0?-1:1}function b$(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(v$(o)+v$(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function w$(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function x$(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function S$(e){this._context=e}function _$(e){this._context=new E$(e)}function E$(e){this._context=e}function k$(e){this._context=e}function O$(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function T$(e,t){this._context=e,this._t=t}function I$(e){return e[0]}function A$(e){return e[1]}function C$(e,t){var n=qA(!0),r=null,i=y$,o=null,a=XA(s);function s(s){var u,c,l,h=(s=rU(s)).length,d=!1;for(null==r&&(o=i(l=a())),u=0;u<=h;++u)!(u<h&&n(c=s[u],u,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(c,u,s),+t(c,u,s));if(l)return o=null,l+""||null}return e="function"===typeof e?e:void 0===e?I$:qA(e),t="function"===typeof t?t:void 0===t?A$:qA(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:qA(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:qA(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:qA(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function P$(e,t,n){var r=null,i=qA(!0),o=null,a=y$,s=null,u=XA(c);function c(c){var l,h,d,f,p,m=(c=rU(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=u())),l=0;l<=m;++l){if(!(l<m&&i(f=c[l],l,c))===g)if(g=!g)h=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=l-1;d>=h;--d)s.point(y[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(y[l]=+e(f,l,c),v[l]=+t(f,l,c),s.point(r?+r(f,l,c):y[l],n?+n(f,l,c):v[l]))}if(p)return s=null,p+""||null}function l(){return C$().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?I$:qA(+e),t="function"===typeof t?t:qA(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?A$:qA(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:qA(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:qA(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:qA(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:qA(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:qA(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:qA(+e),c):n},c.lineX0=c.lineY0=function(){return l().x(e).y(t)},c.lineY1=function(){return l().x(e).y(n)},c.lineX1=function(){return l().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:qA(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function j$(e){return j$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j$(e)}function N$(){return N$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N$.apply(this,arguments)}function D$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D$(Object(n),!0).forEach((function(t){M$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M$(e,t,n){return t=function(e){var t=function(e,t){if("object"!=j$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j$(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m$.prototype={areaStart:c$,areaEnd:c$,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},g$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},S$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x$(this,this._t0,w$(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,x$(this,w$(this,n=b$(this,e,t)),n);break;default:x$(this,this._t0,n=b$(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(_$.prototype=Object.create(S$.prototype)).point=function(e,t){S$.prototype.point.call(this,t,e)},E$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=O$(e),i=O$(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},T$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var L$={curveBasisClosed:function(e){return new d$(e)},curveBasisOpen:function(e){return new f$(e)},curveBasis:function(e){return new h$(e)},curveBumpX:function(e){return new p$(e,!0)},curveBumpY:function(e){return new p$(e,!1)},curveLinearClosed:function(e){return new m$(e)},curveLinear:y$,curveMonotoneX:function(e){return new S$(e)},curveMonotoneY:function(e){return new _$(e)},curveNatural:function(e){return new k$(e)},curveStep:function(e){return new T$(e,.5)},curveStepAfter:function(e){return new T$(e,1)},curveStepBefore:function(e){return new T$(e,0)}},F$=function(e){return e.x===+e.x&&e.y===+e.y},U$=function(e){return e.x},B$=function(e){return e.y},V$=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,u=e.connectNulls,c=void 0!==u&&u,l=function(e,t){if(NT()(e))return e;var n="curve".concat(wA()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?L$[n]||y$:L$["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),h=c?o.filter((function(e){return F$(e)})):o;if(Array.isArray(a)){var d=c?a.filter((function(e){return F$(e)})):a,f=h.map((function(e,t){return R$(R$({},e),{},{base:d[t]})}));return(t="vertical"===s?P$().y(B$).x1(U$).x0((function(e){return e.base.x})):P$().x(U$).y1(B$).y0((function(e){return e.base.y}))).defined(F$).curve(l),t(f)}return(t="vertical"===s&&xT(a)?P$().y(B$).x1(U$).x0(a):xT(a)?P$().x(U$).y1(B$).y0(a):C$().x(U$).y(B$)).defined(F$).curve(l),t(h)},z$=function(e){var t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?V$(e):r;return i.createElement("path",N$({},iI(e,!1),zT(e),{className:sT("recharts-curve",t),d:a,ref:o}))};function q$(e){return q$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q$(e)}var $$=["x","y","top","left","width","height","className"];function W$(){return W$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W$.apply(this,arguments)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G$(e,t,n){return t=function(e){var t=function(e,t){if("object"!=q$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q$(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Q$=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},X$=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.top,s=void 0===a?0:a,u=e.left,c=void 0===u?0:u,l=e.width,h=void 0===l?0:l,d=e.height,f=void 0===d?0:d,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K$(Object(n),!0).forEach((function(t){G$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:c,width:h,height:f},H$(e,$$));return xT(n)&&xT(o)&&xT(h)&&xT(f)&&xT(s)&&xT(c)?i.createElement("path",W$({},iI(m,!0),{className:sT("recharts-cross",p),d:Q$(n,o,h,f,s,c)})):null};function Y$(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[oV(t,n,r,i),oV(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function J$(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Y$(t);var s=t.cx,u=t.cy,c=t.innerRadius,l=t.outerRadius,h=t.angle,d=oV(s,u,c,h),f=oV(s,u,l,h);r=d.x,i=d.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function Z$(e){return Z$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z$(e)}function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach((function(t){nW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nW(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Z$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z$(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e){var t,n=e.element,r=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,u=e.offset,c=e.activeTooltipIndex,l=e.tooltipAxisBandSize,h=e.layout,d=e.chartName;if(!n||!n.props.cursor||!o||!a||"ScatterChart"!==d&&"axis"!==r)return null;var f=z$;if("ScatterChart"===d)t=a,f=X$;else if("BarChart"===d)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(h,a,u,l),f=lN;else if("radial"===h){var p=Y$(a),m=p.cx,g=p.cy,y=p.radius;t={cx:m,cy:g,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:y,outerRadius:y},f=mz}else t={points:J$(h,a,u)},f=z$;var v=tW(tW(tW(tW({stroke:"#ccc",pointerEvents:"none"},u),t),iI(n.props.cursor,!1)),{},{payload:s,payloadIndex:c,className:sT("recharts-tooltip-cursor",n.props.cursor.className)});return(0,i.isValidElement)(n.props.cursor)?(0,i.cloneElement)(n.props.cursor,v):(0,i.createElement)(f,v)}var iW=["item"],oW=["children","className","width","height","style","compact","title","desc"];function aW(e){return aW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aW(e)}function sW(){return sW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sW.apply(this,arguments)}function uW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||yW(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SW(r.key),r)}}function hW(e,t,n){return t=fW(t),function(e,t){if(t&&("object"===aW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pW(e)}(e,dW()?Reflect.construct(t,n||[],fW(e).constructor):t.apply(e,n))}function dW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dW=function(){return!!e})()}function fW(e){return fW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fW(e)}function pW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(e,t){return mW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mW(e,t)}function gW(e){return function(e){if(Array.isArray(e))return vW(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yW(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yW(e,t){if(e){if("string"===typeof e)return vW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vW(e,t):void 0}}function vW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bW(Object(n),!0).forEach((function(t){xW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xW(e,t,n){return(t=SW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SW(e){var t=function(e,t){if("object"!=aW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aW(t)?t:String(t)}var _W={xAxis:["bottom","top"],yAxis:["left","right"]},EW={width:"100%",height:"100%"},kW={x:0,y:0};function OW(e){return e}var TW=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(gW(e),gW(n)):e}),[]);return o.length>0?o:e&&e.length&&xT(r)&&xT(i)?e.slice(r,i+1):[]};function IW(e){return"number"===e?[0,"auto"]:void 0}var AW=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=TW(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var u,c,l=null!==(u=s.props.data)&&void 0!==u?u:t;(l&&e.dataStartIndex+e.dataEndIndex!==0&&(l=l.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=IT(void 0===l?a:l,o.dataKey,r):c=l&&l[n]||a[n];return c?[].concat(gW(i),[PB(s,c)]):i}),[])},CW=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,u=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,u=0;u<a;u++){var c=u>0?r[u-1].coordinate:r[a-1].coordinate,l=r[u].coordinate,h=u>=a-1?r[0].coordinate:r[u+1].coordinate,d=void 0;if(bT(l-c)!==bT(h-l)){var f=[];if(bT(h-l)===bT(s[1]-s[0])){d=h;var p=l+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{d=c;var m=h+s[1]-s[0];f[0]=Math.min(l,(m+l)/2),f[1]=Math.max(l,(m+l)/2)}var g=[Math.min(l,(d+l)/2),Math.max(l,(d+l)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[u].index;break}}else{var y=Math.min(c,h),v=Math.max(c,h);if(e>(y+l)/2&&e<=(v+l)/2){o=r[u].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,u,s);if(c>=0&&u){var l=u[c]&&u[c].value,h=AW(e,t,c,l),d=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return wW(wW(wW({},r),oV(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,u=r.angle;return wW(wW(wW({},r),oV(r.cx,r.cy,s,u)),{},{angle:u,radius:s})}return kW}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:l,activePayload:h,activeCoordinate:d}}return null},PW=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,u=t.dataEndIndex,c=e.layout,l=e.children,h=e.stackOffset,d=dB(c,i);return n.reduce((function(t,n){var f,p=n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,S=n.props[o];if(t[S])return t;var _,E,k,O=TW(e.data,{graphicalItems:r.filter((function(e){return e.props[o]===S})),dataStartIndex:s,dataEndIndex:u}),T=O.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&xT(r)&&xT(i))return!0}return!1})(n.props.domain,y,m)&&(_=IB(n.props.domain,null,y),!d||"number"!==m&&"auto"===b||(k=uB(O,g,"category")));var I=IW(m);if(!_||0===_.length){var A,C=null!==(A=n.props.domain)&&void 0!==A?A:I;if(g){if(_=uB(O,g,m),"category"===m&&d){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(_);v&&P?(E=_,_=gI()(0,T)):v||(_=CB(C,_,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(gW(e),[t])}),[]))}else if("category"===m)_=v?_.filter((function(e){return""!==e&&!PT()(e)})):CB(C,_,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||PT()(t)?e:[].concat(gW(e),[t])}),[]);else if("number"===m){var j=function(e,t,n,r,i){var o=t.map((function(t){return lB(e,t,n,i,r)})).filter((function(e){return!PT()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(O,r.filter((function(e){return e.props[o]===S&&(x||!e.props.hide)})),g,i,c);j&&(_=j)}!d||"number"!==m&&"auto"===b||(k=uB(O,g,"category"))}else _=d?gI()(0,T):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===h?[0,1]:kB(a[S].stackGroups,s,u):hB(O,r.filter((function(e){return e.props[o]===S&&(x||!e.props.hide)})),m,c,!0);if("number"===m)_=e$(l,_,S,i,w),C&&(_=IB(C,_,y));else if("category"===m&&C){var N=C;_.every((function(e){return N.indexOf(e)>=0}))&&(_=N)}}return wW(wW({},t),{},xW({},S,wW(wW({},n.props),{},{axisType:i,domain:_,categoricalDomain:k,duplicateDomain:E,originalDomain:null!==(f=n.props.domain)&&void 0!==f?f:I,isCategorical:d,layout:c})))}),{})},jW=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,u=t.dataEndIndex,c=e.children,l="".concat(r,"Id"),h=ZT(c,i),d={};return h&&h.length?d=PW(e,{axes:h,graphicalItems:o,axisType:r,axisIdKey:l,stackGroups:a,dataStartIndex:s,dataEndIndex:u}):o&&o.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,u=t.dataEndIndex,c=e.layout,l=e.children,h=TW(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:u}),d=h.length,f=dB(c,i),p=-1;return n.reduce((function(e,t){var m,g=t.props[o],y=IW("number");return e[g]?e:(p++,f?m=gI()(0,d):a&&a[g]&&a[g].hasStack?(m=kB(a[g].stackGroups,s,u),m=e$(l,m,g,i)):(m=IB(y,hB(h,n.filter((function(e){return e.props[o]===g&&!e.props.hide})),"number",c),r.defaultProps.allowDataOverflow),m=e$(l,m,g,i)),wW(wW({},e),{},xW({},g,wW(wW({axisType:i},r.defaultProps),{},{hide:!0,orientation:gT()(_W,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:l,stackGroups:a,dataStartIndex:s,dataEndIndex:u})),d},NW=function(e){var t=e.children,n=e.defaultShowTooltip,r=eI(t,XB),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},DW=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RW=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,u=n.height,c=n.children,l=n.margin||{},h=eI(c,XB),d=eI(c,NC),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:wW(wW({},e),{},xW({},r,e[r]+n.width))}),{left:l.left||0,right:l.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:wW(wW({},e),{},xW({},r,gT()(e,"".concat(r))+n.height))}),{top:l.top||0,bottom:l.bottom||0}),m=wW(wW({},p),f),g=m.bottom;h&&(m.bottom+=h.props.height||XB.defaultProps.height),d&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),u=eB({children:i,legendWidth:s});if(u){var c=r||{},l=c.width,h=c.height,d=u.align,f=u.verticalAlign,p=u.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==d&&xT(e[d]))return rB(rB({},e),{},iB({},d,e[d]+(l||0)));if(("horizontal"===p||"vertical"===p&&"center"===d)&&"middle"!==f&&xT(e[f]))return rB(rB({},e),{},iB({},f,e[f]+(h||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=u-m.top-m.bottom;return wW(wW({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},MW=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},LW=function(e){var t,n=e.chartName,r=e.GraphicalChild,o=e.defaultTooltipEventType,a=void 0===o?"axis":o,s=e.validateTooltipEventTypes,u=void 0===s?["axis"]:s,c=e.axisComponents,l=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,f=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,u=e.barSize,l=e.layout,h=e.barGap,d=e.barCategoryGap,f=e.maxBarSize,p=DW(l),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=QT(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=TW(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),w=n.props,x=w.dataKey,S=w.maxBarSize,_=n.props["".concat(m,"Id")],E=n.props["".concat(g,"Id")],k=c.reduce((function(e,r){var i=t["".concat(r.axisType,"Map")],o=n.props["".concat(r.axisType,"Id")];i&&i[o]||"zAxis"===r.axisType||xI(!1);var a=i[o];return wW(wW({},e),{},xW(xW({},r.axisType,a),"".concat(r.axisType,"Ticks"),pB(a)))}),{}),O=k[g],T=k["".concat(g,"Ticks")],I=r&&r[_]&&r[_].hasStack&&function(e,t){var n=e.props.stackId;if(ST(n)){var r=t[n];if(r){var i=r.items.indexOf(e);return i>=0?r.stackedData[i]:null}}return null}(n,r[_].stackGroups),A=QT(n.type).indexOf("Bar")>=0,C=AB(O,T),P=[],j=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,u=a.length;s<u;s++)for(var c=i[a[s]].stackGroups,l=Object.keys(c),h=0,d=l.length;h<d;h++){var f=c[l[h]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return QT(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].props.barSize,v=g[0].props[m];o[v]||(o[v]=[]);var b=PT()(y)?t:y;o[v].push({item:g[0],stackList:g.slice(1),barSize:PT()(b)?void 0:kT(b,n,0)})}}return o}({barSize:u,stackGroups:r,totalSize:MW(k,g)});if(A){var N,D,R=PT()(S)?f:S,M=null!==(N=null!==(D=AB(O,T,!0))&&void 0!==D?D:R)&&void 0!==N?N:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var u,c=kT(t,r,0,!0),l=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&d>0&&(h=!0,f=s*(d*=.9));var p={offset:((r-f)/2|0)-c,size:0};u=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:h?d:t.barSize}},r=[].concat(oB(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),l)}else{var m=kT(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;u=o.reduce((function(e,t,n){var r=[].concat(oB(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),l)}return u}({barGap:h,barCategoryGap:d,bandSize:M!==C?M:C,sizeList:j[E],maxBarSize:R}),M!==C&&(P=P.map((function(e){return wW(wW({},e),{},{position:wW(wW({},e.position),{},{offset:e.position.offset-M/2})})})))}var L,F,U=n&&n.type&&n.type.getComposedData;U&&v.push({props:wW(wW({},U(wW(wW({},k),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:C,barPosition:P,offset:i,stackedData:I,layout:l,dataStartIndex:a,dataEndIndex:s}))),{},xW(xW(xW({key:n.key||"item-".concat(p)},m,k[m]),g,k[g]),"animationId",o)),childIndex:(L=n,F=e.children,JT(F).indexOf(L)),item:n})})),v},p=function(e,t){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!tI({props:i}))return null;var u=i.children,l=i.layout,d=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=DW(l),y=g.numericAxisName,v=g.cateAxisName,b=ZT(u,r),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i=t.props,o=i.stackId;if(i.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(ST(o)){var u=s.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};u.items.push(t),s.hasStack=!0,s.stackGroups[o]=u}else s.stackGroups[ET("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return rB(rB({},e),{},iB({},a,s))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return rB(rB({},t),{},iB({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:xB(e,a.items,i)}))}),{})),rB(rB({},t),{},iB({},o,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),d,m),x=c.reduce((function(e,t){var n="".concat(t.axisType,"Map");return wW(wW({},e),{},xW({},n,jW(i,wW(wW({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),S=RW(wW(wW({},x),{},{props:i,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(x).forEach((function(e){x[e]=h(i,x[e],S,e.replace("Map",""),n)}));var _=function(e){var t=OT(e),n=pB(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vI()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:AB(t,n)}}(x["".concat(v,"Map")]),E=f(i,wW(wW({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return wW(wW({formattedGraphicalItems:E,graphicalItems:b,offset:S,stackGroups:w},_),x)};return t=function(e){function t(e){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xW(pW(a=hW(this,t,[e])),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xW(pW(a),"accessibilityManager",new u$),xW(pW(a),"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(wW({legendBBox:e},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},wW(wW({},a.state),{},{legendBBox:e}))))}})),xW(pW(a),"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),xW(pW(a),"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return wW({dataStartIndex:t,dataEndIndex:n},p({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),xW(pW(a),"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=wW(wW({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;NT()(r)&&r(n,e)}})),xW(pW(a),"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?wW(wW({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;NT()(r)&&r(n,e)})),xW(pW(a),"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),xW(pW(a),"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),xW(pW(a),"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),xW(pW(a),"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;NT()(n)&&n(t,e)})),xW(pW(a),"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&HT[t]?HT[t]:null}(e),r=gT()(a.props,"".concat(n));n&&NT()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),xW(pW(a),"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=wW(wW({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;NT()(r)&&r(n,e)}})),xW(pW(a),"handleMouseDown",(function(e){var t=a.props.onMouseDown;NT()(t)&&t(a.getMouseInfo(e),e)})),xW(pW(a),"handleMouseUp",(function(e){var t=a.props.onMouseUp;NT()(t)&&t(a.getMouseInfo(e),e)})),xW(pW(a),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),xW(pW(a),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),xW(pW(a),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),xW(pW(a),"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&n$.emit(r$,a.props.syncId,e,a.eventEmitterSymbol)})),xW(pW(a),"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(wW({dataStartIndex:o,dataEndIndex:s},p({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var u=e.chartX,c=e.chartY,l=e.activeTooltipIndex,h=a.state,d=h.offset,f=h.tooltipTicks;if(!d)return;if("function"===typeof r)l=r(f,e);else if("value"===r){l=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){l=m;break}}var g=wW(wW({},d),{},{x:d.left,y:d.top}),y=Math.min(u,g.x+g.width),v=Math.min(c,g.y+g.height),b=f[l]&&f[l].value,w=AW(a.state,a.props.data,l),x=f[l]?{x:"horizontal"===n?f[l].coordinate:y,y:"horizontal"===n?v:f[l].coordinate}:kW;a.setState(wW(wW({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:l}))}else a.setState(e)})),xW(pW(a),"renderCursor",(function(e){var t,r=a.state,o=r.isTooltipActive,s=r.activeCoordinate,u=r.activePayload,c=r.offset,l=r.activeTooltipIndex,h=r.tooltipAxisBandSize,d=a.getTooltipEventType(),f=null!==(t=e.props.active)&&void 0!==t?t:o,p=a.props.layout,m=e.key||"_recharts-cursor";return i.createElement(rW,{key:m,activeCoordinate:s,activePayload:u,activeTooltipIndex:l,chartName:n,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:h,tooltipEventType:d})})),xW(pW(a),"renderPolarAxis",(function(e,t,n){var r=gT()(e,"type.axisType"),o=gT()(a.state,"".concat(r,"Map")),s=o&&o[e.props["".concat(r,"Id")]];return(0,i.cloneElement)(e,wW(wW({},s),{},{className:sT(r,s.className),key:e.key||"".concat(t,"-").concat(n),ticks:pB(s,!0)}))})),xW(pW(a),"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,o=t.polarRadius,s=a.state,u=s.radiusAxisMap,c=s.angleAxisMap,l=OT(u),h=OT(c),d=h.cx,f=h.cy,p=h.innerRadius,m=h.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(r)?r:pB(h,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:pB(l,!0).map((function(e){return e.coordinate})),cx:d,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),xW(pW(a),"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,o=t.height,s=a.props.margin||{},u=r-(s.left||0)-(s.right||0),c=eB({children:n,formattedGraphicalItems:e,legendWidth:u,legendContent:l});if(!c)return null;var h=c.item,d=cW(c,iW);return(0,i.cloneElement)(h,wW(wW({},d),{},{chartWidth:r,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),xW(pW(a),"renderTooltip",(function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,o=eI(n,vA);if(!o)return null;var s=a.state,u=s.isTooltipActive,c=s.activeCoordinate,l=s.activePayload,h=s.activeLabel,d=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:u;return(0,i.cloneElement)(o,{viewBox:wW(wW({},d),{},{x:d.left,y:d.top}),active:f,label:h,payload:f?l:[],coordinate:c,accessibilityLayer:r})})),xW(pW(a),"renderBrush",(function(e){var t=a.props,n=t.margin,r=t.data,o=a.state,s=o.offset,u=o.dataStartIndex,c=o.dataEndIndex,l=o.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:gB(a.handleBrushChange,e.props.onChange),data:r,x:xT(e.props.x)?e.props.x:s.left,y:xT(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:xT(e.props.width)?e.props.width:s.width,startIndex:u,endIndex:c,updateId:"brush-".concat(l)})})),xW(pW(a),"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=pW(a).clipPathId,o=a.state,s=o.xAxisMap,u=o.yAxisMap,c=o.offset,l=e.props,h=l.xAxisId,d=l.yAxisId;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[h],yAxis:u[d],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})})),xW(pW(a),"renderActivePoints",(function(e){var n=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],u=n.props.key,c=n.item.props,l=c.activeDot,h=wW(wW({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:cB(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(u,"-activePoint-").concat(o)},iI(l,!1)),zT(l));return s.push(t.renderActiveDot(l,h)),i?s.push(t.renderActiveDot(l,wW(wW({},h),{},{cx:i.x,cy:i.y,key:"".concat(u,"-basePoint-").concat(o)}))):a&&s.push(null),s})),xW(pW(a),"renderGraphicChild",(function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var o=a.getTooltipEventType(),s=a.state,u=s.isTooltipActive,c=s.tooltipAxis,l=s.activeTooltipIndex,h=s.activeLabel,d=eI(a.props.children,vA),f=r.props,p=f.points,m=f.isRange,g=f.baseLine,y=r.item.props,v=y.activeDot,b=y.hide,w=y.activeBar,x=y.activeShape,S=Boolean(!b&&u&&d&&(v||w||x)),_={};"axis"!==o&&d&&"click"===d.props.trigger?_={onClick:gB(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(_={onMouseLeave:gB(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:gB(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,i.cloneElement)(e,wW(wW({},r.props),_));if(S){if(!(l>=0)){var k,O=(null!==(k=a.getItemByXY(a.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:E}).graphicalItem,T=O.item,I=void 0===T?e:T,A=O.childIndex,C=wW(wW(wW({},r.props),_),{},{activeIndex:A});return[(0,i.cloneElement)(I,C),null,null]}var P,j;if(c.dataKey&&!c.allowDuplicatedCategory){var N="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());P=IT(p,N,h),j=m&&g&&IT(g,N,h)}else P=null===p||void 0===p?void 0:p[l],j=m&&g&&g[l];if(x||w){var D=void 0!==e.props.activeIndex?e.props.activeIndex:l;return[(0,i.cloneElement)(e,wW(wW(wW({},r.props),_),{},{activeIndex:D})),null,null]}if(!PT()(P))return[E].concat(gW(a.renderActivePoints({item:r,activePoint:P,basePoint:j,childIndex:l,isRange:m})))}return m?[E,null,null]:[E,null]})),xW(pW(a),"renderCustomized",(function(e,t,n){return(0,i.cloneElement)(e,wW(wW({key:"recharts-customized-".concat(n)},a.props),a.state))})),xW(pW(a),"renderMap",{CartesianGrid:{handler:OW,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:OW},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:OW},YAxis:{handler:OW},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:ET("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=cT()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}var r,o,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mW(e,t)}(t,e),r=t,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=eI(t,vA);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,u=AW(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,l=(this.state.offset.top+r)/2,h="horizontal"===i?{x:c,y:l}:{y:c,x:l},d=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));d&&(h=wW(wW({},h),d.props.points[a].tooltipPosition),u=d.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:u,activeCoordinate:h};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){oI([eI(e.children,vA)],[eI(this.props.children,vA)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=eI(this.props.children,vA);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return u.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var u=this.state,c=u.xAxisMap,l=u.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&l){var h=OT(c).scale,d=OT(l).scale,f=h&&h.invert?h.invert(o.chartX):null,p=d&&d.invert?d.invert(o.chartY):null;return wW(wW({},o),{},{xValue:f,yValue:p})}var m=CW(this.state,this.props.data,this.props.layout,s);return m?wW(wW({},o),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,u=s.angleAxisMap,c=s.radiusAxisMap;if(u&&c){var l=OT(u);return cV({x:i,y:o},l)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=eI(e,vA),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),wW(wW({},zT(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){n$.on(r$,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){n$.removeListener(r$,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===QT(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=uW(t,2),r=n[0],i=n[1];return wW(wW({},e),{},xW({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=uW(t,2),r=n[0],i=n[1];return wW(wW({},e),{},xW({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,u=a.item,c=QT(u.type);if("Bar"===c){var l=(s.data||[]).find((function(t){return uN(e,t)}));if(l)return{graphicalItem:a,payload:l}}else if("RadialBar"===c){var h=(s.data||[]).find((function(t){return cV(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(kz(a,r)||Oz(a,r)||Tz(a,r)){var d=Pz({graphicalItem:a,activeTooltipItem:r,itemData:u.props.data}),f=void 0===u.props.activeIndex?d:u.props.activeIndex;return{graphicalItem:wW(wW({},a),{},{childIndex:f}),payload:Tz(a,r)?u.props.data[d]:a.props.data[d]}}}return null}},{key:"render",value:function(){var e=this;if(!tI(this))return null;var t,n,r=this.props,o=r.children,a=r.className,s=r.width,u=r.height,c=r.style,l=r.compact,h=r.title,d=r.desc,f=cW(r,oW),p=iI(f,!1);if(l)return i.createElement(Nq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement(kI,sW({},p,{width:s,height:u,title:h,desc:d}),this.renderClipPath(),sI(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(Nq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",sW({className:sT("recharts-wrapper",a),style:wW({position:"relative",cursor:"default",width:s,height:u},c)},m,{ref:function(t){e.container=t}}),i.createElement(kI,sW({},p,{width:s,height:u,title:h,desc:d,style:EW}),this.renderClipPath(),sI(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&lW(r.prototype,o),s&&lW(r,s),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component),xW(t,"displayName",n),xW(t,"defaultProps",wW({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),xW(t,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,u=e.stackOffset,c=e.margin,l=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var d=NW(e);return wW(wW(wW({},d),{},{updateId:0},p(wW(wW({props:e},d),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:u,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||u!==t.prevStackOffset||!MT(c,t.prevMargin)){var f=NW(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=wW(wW({},CW(t,r,s)),{},{updateId:t.updateId+1}),y=wW(wW(wW({},f),m),g);return wW(wW(wW({},y),p(wW({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:u,prevMargin:c,prevChildren:i})}if(!oI(i,t.prevChildren)){var v,b,w,x,S=eI(i,XB),_=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:l,E=S&&null!==(w=null===(x=S.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:h,k=_!==l||E!==h,O=!PT()(r)&&!k?t.updateId:t.updateId+1;return wW(wW({updateId:O},p(wW(wW({props:e},t),{},{updateId:O,dataStartIndex:_,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:_,dataEndIndex:E})}return null})),xW(t,"renderActiveDot",(function(e,t){var n;return n=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):NT()(e)?e(t):i.createElement(RC,t),i.createElement(AI,{className:"recharts-active-dot",key:t.key},n)})),t};function FW(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function UW(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function BW(e){return BW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BW(e)}function VW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VW(Object(n),!0).forEach((function(t){qW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qW(e,t,n){return t=function(e){var t=function(e,t){if("object"!=BW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BW(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,u=e.interval,c=e.tickFormatter,l=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(xT(u)||rA.isSsr)return function(e,t){return FW(e,t+1)}(i,"number"===typeof u&&xT(u)?u:0);var d=[],f="top"===s||"bottom"===s?"width":"height",p=l&&"width"===f?CN(l,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=NT()(c)?c(e.value,r):e.value;return"width"===f?function(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return fq(r,n)}(CN(i,{fontSize:t,letterSpacing:n}),p,h):CN(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?bT(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===u?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,u=t.end,c=0,l=1,h=s,d=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:FW(r,l)};var o,a=c,d=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||UW(e,f,d,h,u);p||(c=0,h=s,l+=1),p&&(h=f+e*(d()/2+i),c+=l)};l<=a.length;)if(o=d())return o.v;return[]}(g,y,m,i,a):(d="preserveStart"===u||"preserveStartEnd"===u?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,u=t.start,c=t.end;if(o){var l=r[s-1],h=n(l,s-1),d=e*(l.coordinate+e*h/2-c);a[s-1]=l=zW(zW({},l),{},{tickCoord:d>0?l.coordinate-d*e:l.coordinate}),UW(e,l.tickCoord,(function(){return h}),u,c)&&(c=l.tickCoord-e*(h/2+i),a[s-1]=zW(zW({},l),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var l=e*(o.coordinate-e*s()/2-u);a[t]=o=zW(zW({},o),{},{tickCoord:l<0?o.coordinate-l*e:o.coordinate})}else a[t]=o=zW(zW({},o),{},{tickCoord:o.coordinate});UW(e,o.tickCoord,s,u,c)&&(u=o.tickCoord+e*(s()/2+i),a[t]=zW(zW({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===u):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,u=t.end,c=function(t){var r,c=o[t],l=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var h=e*(c.coordinate+e*l()/2-u);o[t]=c=zW(zW({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate})}else o[t]=c=zW(zW({},c),{},{tickCoord:c.coordinate});UW(e,c.tickCoord,l,s,u)&&(u=c.tickCoord-e*(l()/2+i),o[t]=zW(zW({},c),{},{isShow:!0}))},l=a-1;l>=0;l--)c(l);return o}(g,y,m,i,a),d.filter((function(e){return e.isShow})))}var WW=["viewBox"],KW=["viewBox"],GW=["ticks"];function HW(e){return HW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HW(e)}function QW(){return QW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QW.apply(this,arguments)}function XW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XW(Object(n),!0).forEach((function(t){iK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oK(r.key),r)}}function eK(e,t,n){return t=nK(t),function(e,t){if(t&&("object"===HW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tK()?Reflect.construct(t,n||[],nK(e).constructor):t.apply(e,n))}function tK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tK=function(){return!!e})()}function nK(e){return nK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nK(e)}function rK(e,t){return rK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rK(e,t)}function iK(e,t,n){return(t=oK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=function(e,t){if("object"!=HW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HW(t)?t:String(t)}var aK=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=eK(this,t,[e])).state={fontSize:"",letterSpacing:""},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rK(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=JW(e,WW),i=this.props,o=i.viewBox,a=JW(i,KW);return!MT(n,o)||!MT(r,a)||!MT(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,u=s.x,c=s.y,l=s.width,h=s.height,d=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=xT(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*h)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=u+ +!p*l)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=u+ +p*l)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*h)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,s=e.mirror,u=e.axisLine,c=YW(YW(YW({},iI(this.props,!1)),iI(u,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var l=+("top"===a&&!s||"bottom"===a&&s);c=YW(YW({},c),{},{x1:t,y1:n+l*o,x2:t+r,y2:n+l*o})}else{var h=+("left"===a&&!s||"right"===a&&s);c=YW(YW({},c),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+o})}return i.createElement("line",QW({},c,{className:sT("recharts-cartesian-axis-line",gT()(u,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var o=this,a=this.props,s=a.tickLine,u=a.stroke,c=a.tick,l=a.tickFormatter,h=a.unit,d=$W(YW(YW({},this.props),{},{ticks:e}),n,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=iI(this.props,!1),g=iI(c,!1),y=YW(YW({},m),{},{fill:"none"},iI(s,!1)),v=d.map((function(e,n){var r=o.getTickLineCoord(e),a=r.line,v=r.tick,b=YW(YW(YW(YW({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:u},g),v),{},{index:n,payload:e,visibleTicksCount:d.length,tickFormatter:l});return i.createElement(AI,QW({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},qT(o.props,e,n)),s&&i.createElement("line",QW({},y,a,{className:sT("recharts-cartesian-axis-tick-line",gT()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(NT()(l)?l(e.value,n):e.value).concat(h||"")))}));return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var u=this.props,c=u.ticks,l=JW(u,GW),h=c;return NT()(a)&&(h=c&&c.length>0?a(this.props):a(l)),r<=0||o<=0||!h||!h.length?null:i.createElement(AI,{className:sT("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),kV.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):NT()(e)?e(t):i.createElement(oD,QW({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&ZW(n.prototype,r),o&&ZW(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.Component);function sK(){return sK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sK.apply(this,arguments)}iK(aK,"displayName","CartesianAxis"),iK(aK,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uK=function(e){var t=e.xAxisId,n=Mq(),r=Lq(),o=Dq(t);return null==o?null:i.createElement(aK,sK({},o,{className:sT("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return pB(e,!0)}}))};function cK(){return cK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cK.apply(this,arguments)}uK.displayName="XAxis",uK.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var lK=function(e){var t=e.yAxisId,n=Mq(),r=Lq(),o=Rq(t);return null==o?null:i.createElement(aK,cK({},o,{className:sT("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return pB(e,!0)}}))};lK.displayName="YAxis",lK.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var hK=LW({chartName:"BarChart",GraphicalChild:nq,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:uK},{axisType:"yAxis",AxisComp:lK}],formatAxisMap:cq}),dK=["x1","y1","x2","y2","key"],fK=["offset"];function pK(e){return pK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pK(e)}function mK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mK(Object(n),!0).forEach((function(t){yK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yK(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pK(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vK(){return vK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vK.apply(this,arguments)}function bK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var wK=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height;return i.createElement("rect",{x:r,y:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xK(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(NT()(e))n=e(t);else{var r=t.x1,o=t.y1,a=t.x2,s=t.y2,u=t.key,c=bK(t,dK),l=iI(c,!1),h=(l.offset,bK(l,fK));n=i.createElement("line",vK({},h,{x1:r,y1:o,x2:a,y2:s,fill:"none",key:u}))}return n}function SK(e){var t=e.x,n=e.width,r=e.horizontal,o=void 0===r||r,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=gK(gK({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return xK(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function _K(e){var t=e.y,n=e.height,r=e.vertical,o=void 0===r||r,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=gK(gK({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return xK(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function EK(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,u=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var l=u.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==l[0]&&l.unshift(0);var h=l.map((function(e,u){var c=!l[u+1]?o+s-e:l[u+1]-e;if(c<=0)return null;var h=u%t.length;return i.createElement("rect",{key:"react-".concat(u),y:e,x:r,height:c,width:a,stroke:"none",fill:t[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function kK(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,u=e.width,c=e.height,l=e.verticalPoints;if(!n||!r||!r.length)return null;var h=l.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==h[0]&&h.unshift(0);var d=h.map((function(e,t){var n=!h[t+1]?a+u-e:h[t+1]-e;if(n<=0)return null;var l=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:r[l],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var OK=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return fB($W(gK(gK(gK({},aK.defaultProps),n),{},{ticks:pB(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},TK=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return fB($W(gK(gK(gK({},aK.defaultProps),n),{},{ticks:pB(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},IK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function AK(e){var t,n,r,o,a,s,u=Mq(),c=Lq(),l=(0,i.useContext)(Aq),h=gK(gK({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:IK.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:IK.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:IK.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:IK.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:IK.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:IK.verticalFill,x:xT(e.x)?e.x:l.left,y:xT(e.y)?e.y:l.top,width:xT(e.width)?e.width:l.width,height:xT(e.height)?e.height:l.height}),d=h.x,f=h.y,p=h.width,m=h.height,g=h.syncWithTicks,y=h.horizontalValues,v=h.verticalValues,b=function(){var e=(0,i.useContext)(Oq);return OT(e)}(),w=function(){var e=(0,i.useContext)(Tq);return _q()(e,(function(e){return PV()(e.domain,Number.isFinite)}))||OT(e)}();if(!xT(p)||p<=0||!xT(m)||m<=0||!xT(d)||d!==+d||!xT(f)||f!==+f)return null;var x=h.verticalCoordinatesGenerator||OK,S=h.horizontalCoordinatesGenerator||TK,_=h.horizontalPoints,E=h.verticalPoints;if((!_||!_.length)&&NT()(S)){var k=y&&y.length,O=S({yAxis:w?gK(gK({},w),{},{ticks:k?y:w.ticks}):void 0,width:u,height:c,offset:l},!!k||g);AT(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pK(O),"]")),Array.isArray(O)&&(_=O)}if((!E||!E.length)&&NT()(x)){var T=v&&v.length,I=x({xAxis:b?gK(gK({},b),{},{ticks:T?v:b.ticks}):void 0,width:u,height:c,offset:l},!!T||g);AT(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pK(I),"]")),Array.isArray(I)&&(E=I)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(wK,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),i.createElement(SK,vK({},h,{offset:l,horizontalPoints:_,xAxis:b,yAxis:w})),i.createElement(_K,vK({},h,{offset:l,verticalPoints:E,xAxis:b,yAxis:w})),i.createElement(EK,vK({},h,{horizontalPoints:_})),i.createElement(kK,vK({},h,{verticalPoints:E})))}AK.displayName="CartesianGrid";const CK=()=>{const[e,t]=(0,i.useState)([]),n=b((e=>e.user.user)),[r,o]=(0,i.useState)([]),a=b((e=>e.showAddStore.mode)),s=b((e=>e.darkMode.mode)),u=P(),c=e=>{t((t=>t.filter((t=>t.id!==e))))};(0,i.useEffect)((()=>{fetch("https://my-duka-back-end.vercel.app/getAdmins").then((e=>e.json())).then((e=>t(e))).catch((e=>console.error(e)))}),[]),(0,i.useEffect)((()=>{fetch("https://my-duka-back-end.vercel.app/stores").then((e=>e.json())).then((e=>o(e))).catch((e=>console.error(e)))}),[e,n]);const[l,h]=(0,i.useState)(!1),d=()=>{h(!l)},[f,p]=(0,i.useState)({name:"",location:""}),m=e=>{const{name:t,value:n}=e.target;p((e=>({...e,[t]:n})))},g=()=>{fetch("https://my-duka-back-end.vercel.app/addStore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then((e=>e.json())),p({name:"",location:""}),u(li(!1))},y=r.map((e=>{const t=e.salesReports.reduce(((e,t)=>e+t.quantity_sold),0);return{storeName:e.name,sales:t}}));return"Merchant"===n.role?(0,di.jsxs)("div",{className:"admin-page "+(s?"dark-mode":""),children:[(0,di.jsx)(TO,{})," ",(0,di.jsxs)("div",{className:nT,children:[(0,di.jsxs)("div",{className:rT,children:[(0,di.jsxs)("h1",{children:["Merchant Dashboard - ",n.username]}),(0,di.jsx)("button",{onClick:d,className:iT,children:"Add Admin"})]}),e.map((e=>(0,di.jsx)(HO,{admin:e,removeAdmin:c},e.id))),(0,di.jsxs)("div",{className:oT,children:[(0,di.jsx)("h3",{children:"Top 3 Stores by Sales"}),(0,di.jsx)(pI,{width:"100%",height:400,children:(0,di.jsxs)(hK,{data:y,children:[(0,di.jsx)(AK,{strokeDasharray:"3 3"}),(0,di.jsx)(uK,{dataKey:"storeName"}),(0,di.jsx)(lK,{}),(0,di.jsx)(vA,{}),(0,di.jsx)(NC,{}),(0,di.jsx)(nq,{dataKey:"sales",fill:"#8884d8"})]})})]}),l&&(0,di.jsx)(tT,{onClose:d})]}),a&&(0,di.jsx)("div",{className:"popup",children:(0,di.jsxs)("div",{className:"popup-content",children:[(0,di.jsx)("h2",{children:"Add New Store"}),(0,di.jsx)("input",{type:"text",name:"name",value:f.name,placeholder:"Store Name",onChange:m}),(0,di.jsx)("input",{type:"text",name:"location",value:f.location,placeholder:"Store Location",onChange:m}),(0,di.jsx)("button",{onClick:g,children:"Add"}),(0,di.jsx)("button",{onClick:()=>u(li(!1)),children:"Cancel"})]})})]}):null},PK=n.p+"static/media/b916ee86f6025021330e27de0684542c.d79a1015ddffe9a84309.jpg",jK=()=>{const e=lo(),t=t=>{e("/login",{state:{role:t}})};return(0,di.jsxs)("div",{className:"landing-page",children:[(0,di.jsxs)("div",{className:"left-panel",children:[(0,di.jsx)("h1",{children:"Welcome to MyDuka"}),(0,di.jsx)("img",{src:PK,style:{width:"100%"},alt:"Background"})]}),(0,di.jsxs)("div",{className:"right-panel",children:[(0,di.jsx)("h2",{children:"Continue As"}),(0,di.jsx)("button",{className:"button_login",onClick:()=>t("Merchant"),children:"Merchant"}),(0,di.jsx)("button",{className:"button_login",onClick:()=>t("Admin"),children:"Admin"}),(0,di.jsx)("button",{className:"button_login",onClick:()=>t("Clerk"),children:"Clerk"})]})]})},NK=e=>{let{onClose:t}=e;const[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,u]=(0,i.useState)("");return(0,di.jsx)("div",{className:"popup-overlay",children:(0,di.jsxs)("div",{className:"popup-content",children:[(0,di.jsx)("h3",{children:"Reset Your Password"}),(0,di.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("https://my-duka-back-end.vercel.app/api/reset_password_request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,role:o})}),t=await e.json();u(t.message)}catch(t){console.error("Error:",t),u("Something went wrong. Please try again later.")}},children:[(0,di.jsxs)("div",{className:"input-group",children:[(0,di.jsx)("input",{type:"email",placeholder:"Enter your email",value:n,onChange:e=>r(e.target.value),required:!0}),(0,di.jsxs)("select",{value:o,onChange:e=>a(e.target.value),required:!0,children:[(0,di.jsx)("option",{value:"",disabled:!0,children:"Select your role"}),(0,di.jsx)("option",{value:"Merchant",children:"Merchant"}),(0,di.jsx)("option",{value:"Clerk",children:"Clerk"}),(0,di.jsx)("option",{value:"Admin",children:"Admin"})]})]}),(0,di.jsx)("button",{type:"submit",className:"button_login",children:"Send Reset Link"}),(0,di.jsx)("p",{children:s})]}),(0,di.jsx)("button",{className:"button_close",onClick:t,children:"Close"})]})})},DK=()=>{var e;const t=P(),n=lo(),[r,o]=(0,i.useState)(),a=(null===(e=uo().state)||void 0===e?void 0:e.role)||"user",[s,u]=(0,i.useState)({email:"",password:""}),[c,l]=(0,i.useState)(!1),h=e=>{u({...s,[e.target.name]:e.target.value})};return(0,di.jsxs)("div",{className:"login-container",children:[(0,di.jsxs)("div",{className:"left",children:[(0,di.jsx)("h1",{children:"Welcome to MyDuka"}),(0,di.jsx)("img",{src:LO,style:{width:"100%"},alt:"Background"})]}),(0,di.jsxs)("div",{className:"right",children:[(0,di.jsxs)("h2",{children:["Login as ",a]}),(0,di.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch("https://my-duka-back-end.vercel.app/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,role:a})}).then((e=>(e.ok||o("Unauthorized"),e.json()))).then((e=>{if("active"===e.user.account_status||"Merchant"===e.user.role){localStorage.setItem("access_token",e.access_token);let r=e.user;t(dt(r)),console.log(r),"Clerk"===r.role?n(`/clerk/${r.id}`):"Admin"===r.role?n(`/admin/${r.id}`):"Merchant"===r.role?n("/merchant"):n("/")}else alert("Account inactive, contact your supervisor")})).catch((e=>{console.error(e),console.log(e.message)}))},children:[(0,di.jsx)("div",{className:"input-group",children:(0,di.jsx)("input",{type:"email",placeholder:"Email",name:"email",value:s.email,required:!0,onChange:h})}),(0,di.jsx)("div",{className:"input-group",children:(0,di.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:s.password,required:!0,onChange:h})}),(0,di.jsx)("div",{className:"forgot-password",children:(0,di.jsx)("p",{style:{cursor:"pointer",textDecoration:"none"},onMouseEnter:e=>e.target.style.textDecoration="underline",onMouseLeave:e=>e.target.style.textDecoration="none",onClick:()=>{l(!0)},children:"Forgot password?"})}),(0,di.jsx)("p",{children:r}),(0,di.jsx)("button",{className:"button_login",type:"submit",children:"LOG IN"}),(0,di.jsx)("p",{onClick:()=>n("/"),style:{cursor:"pointer",textDecoration:"none"},onMouseEnter:e=>e.target.style.textDecoration="underline",onMouseLeave:e=>e.target.style.textDecoration="none",children:"Back to Home Page"})]})]}),c&&(0,di.jsx)(NK,{onClose:()=>{l(!1)}})]})};var RK=["type","layout","connectNulls","ref"];function MK(e){return MK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MK(e)}function LK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FK(){return FK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FK.apply(this,arguments)}function UK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UK(Object(n),!0).forEach((function(t){QK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VK(e){return function(e){if(Array.isArray(e))return zK(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zK(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XK(r.key),r)}}function $K(e,t,n){return t=KK(t),function(e,t){if(t&&("object"===MK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return GK(e)}(e,WK()?Reflect.construct(t,n||[],KK(e).constructor):t.apply(e,n))}function WK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(WK=function(){return!!e})()}function KK(e){return KK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KK(e)}function GK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HK(e,t){return HK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HK(e,t)}function QK(e,t,n){return(t=XK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XK(e){var t=function(e,t){if("object"!=MK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MK(t)?t:String(t)}var YK=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return QK(GK(e=$K(this,t,[].concat(r))),"state",{isAnimationFinished:!0,totalLength:0}),QK(GK(e),"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),QK(GK(e),"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,u=r-n,c=[],l=0,h=0;l<i.length;h+=i[l],++l)if(h+i[l]>s){c=[].concat(VK(i.slice(0,l)),[s-h]);break}var d=c.length%2===0?[0,u]:[u];return[].concat(VK(t.repeat(i,a)),VK(c),d).map((function(e){return"".concat(e,"px")})).join(", ")})),QK(GK(e),"id",ET("recharts-line-")),QK(GK(e),"pathRef",(function(t){e.mainCurve=t})),QK(GK(e),"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),QK(GK(e),"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HK(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,u=ZT(n.children,QU);if(!u)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:sB(e.payload,t)}},l={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(AI,l,u.map((function(e){return i.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,u=o.dataKey,c=iI(this.props,!1),l=iI(a,!0),h=s.map((function(e,n){var r=BK(BK(BK({key:"dot-".concat(n),r:3},c),l),{},{value:e.value,dataKey:u,cx:e.x,cy:e.y,index:n,payload:e.payload});return t.renderDotItem(a,r)})),d={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(AI,FK({className:"recharts-line-dots",key:"dots"},d),h)}},{key:"renderCurveStatically",value:function(e,t,n,r){var o=this.props,a=o.type,s=o.layout,u=o.connectNulls,c=(o.ref,LK(o,RK)),l=BK(BK(BK({},iI(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:s,connectNulls:u});return i.createElement(z$,FK({},l,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.strokeDasharray,s=r.isAnimationActive,u=r.animationBegin,c=r.animationDuration,l=r.animationEasing,h=r.animationId,d=r.animateNewValues,f=r.width,p=r.height,m=this.state,g=m.prevPoints,y=m.totalLength;return i.createElement(Zj,{begin:u,duration:c,isActive:s,easing:l,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(g){var s=g.length/o.length,u=o.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=TT(r.x,e.x),a=TT(r.y,e.y);return BK(BK({},e),{},{x:o(i),y:a(i)})}if(d){var u=TT(2*f,e.x),c=TT(p/2,e.y);return BK(BK({},e),{},{x:u(i),y:c(i)})}return BK(BK({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(u,e,t)}var c,l=TT(0,y)(i);if(a){var h="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(l,y,h)}else c=n.generateSimpleStrokeDasharray(y,l);return n.renderCurveStatically(o,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!pU()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,o=t.points,a=t.className,s=t.xAxis,u=t.yAxis,c=t.top,l=t.left,h=t.width,d=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=sT("recharts-line",a),v=s&&s.allowDataOverflow,b=u&&u.allowDataOverflow,w=v||b,x=PT()(p)?this.id:p,S=null!==(e=iI(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},_=S.r,E=void 0===_?3:_,k=S.strokeWidth,O=void 0===k?2:k,T=(function(e){return e&&"object"===GT(e)&&"cx"in e&&"cy"in e&&"r"in e}(r)?r:{}).clipDot,I=void 0===T||T,A=2*E+O;return i.createElement(AI,{className:y},v||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(x)},i.createElement("rect",{x:v?l:l-h/2,y:b?c:c-d/2,width:v?h:2*h,height:b?d:2*d})),!I&&i.createElement("clipPath",{id:"clipPath-dots-".concat(x)},i.createElement("rect",{x:l-A/2,y:c-A/2,width:h+A,height:d+A}))):null,!g&&this.renderCurve(w,x),this.renderErrorBar(w,x),(g||r)&&this.renderDots(w,I,x),(!f||m)&&KV.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(VK(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(VK(r),VK(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(NT()(e))n=e(t);else{var r=sT("recharts-line-dot","boolean"!==typeof e?e.className:"");n=i.createElement(RC,FK({},t,{className:r}))}return n}}],r&&qK(n.prototype,r),o&&qK(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);QK(YK,"displayName","Line"),QK(YK,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!rA.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),QK(YK,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,u=e.displayedData,c=e.offset,l=t.layout,h=u.map((function(e,t){var u=sB(e,a);return"horizontal"===l?{x:_B({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:PT()(u)?null:r.scale(u),value:u,payload:e}:{x:PT()(u)?null:n.scale(u),y:_B({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:u,payload:e}}));return BK({points:h,layout:l},c)}));var JK=LW({chartName:"LineChart",GraphicalChild:YK,axisComponents:[{axisType:"xAxis",AxisComp:uK},{axisType:"yAxis",AxisComp:lK}],formatAxisMap:cq}),ZK=["points","className","baseLinePoints","connectNulls"];function eG(){return eG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eG.apply(this,arguments)}function tG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nG(e){return function(e){if(Array.isArray(e))return rG(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return rG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iG=function(e){return e&&e.x===+e.x&&e.y===+e.y},oG=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){iG(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),iG(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(nG(e),nG(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},aG=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,o=e.connectNulls,a=tG(e,ZK);if(!t||!t.length)return null;var s=sT("recharts-polygon",n);if(r&&r.length){var u=a.stroke&&"none"!==a.stroke,c=function(e,t,n){var r=oG(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(oG(t.reverse(),n).slice(1))}(t,r,o);return i.createElement("g",{className:s},i.createElement("path",eG({},iI(a,!0),{fill:"Z"===c.slice(-1)?a.fill:"none",stroke:"none",d:c})),u?i.createElement("path",eG({},iI(a,!0),{fill:"none",d:oG(t,o)})):null,u?i.createElement("path",eG({},iI(a,!0),{fill:"none",d:oG(r,o)})):null)}var l=oG(t,o);return i.createElement("path",eG({},iI(a,!0),{fill:"Z"===l.slice(-1)?a.fill:"none",className:s,d:l}))};function sG(e){return sG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sG(e)}function uG(){return uG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uG.apply(this,arguments)}function cG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cG(Object(n),!0).forEach((function(t){gG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yG(r.key),r)}}function dG(e,t,n){return t=pG(t),function(e,t){if(t&&("object"===sG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fG()?Reflect.construct(t,n||[],pG(e).constructor):t.apply(e,n))}function fG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fG=function(){return!!e})()}function pG(e){return pG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pG(e)}function mG(e,t){return mG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mG(e,t)}function gG(e,t,n){return(t=yG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yG(e){var t=function(e,t){if("object"!=sG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sG(t)?t:String(t)}var vG=Math.PI/180,bG=1e-5,wG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dG(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mG(e,t)}(t,e),n=t,r=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickSize||8,s=oV(n,r,i,e.coordinate),u=oV(n,r,i+("inner"===o?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:u.x,y2:u.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*vG);return n>bG?"outer"===t?"start":"end":n<-bG?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,o=e.axisLine,a=e.axisLineType,s=lG(lG({},iI(this.props,!1)),{},{fill:"none"},iI(o,!1));if("circle"===a)return i.createElement(RC,uG({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:r}));var u=this.props.ticks.map((function(e){return oV(t,n,r,e.coordinate)}));return i.createElement(aG,uG({className:"recharts-polar-angle-axis-line"},s,{points:u}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,r=n.ticks,o=n.tick,a=n.tickLine,s=n.tickFormatter,u=n.stroke,c=iI(this.props,!1),l=iI(o,!1),h=lG(lG({},c),{},{fill:"none"},iI(a,!1)),d=r.map((function(n,r){var d=e.getTickLineCoord(n),f=lG(lG(lG({textAnchor:e.getTickTextAnchor(n)},c),{},{stroke:"none",fill:u},l),{},{index:r,payload:n,x:d.x2,y:d.y2});return i.createElement(AI,uG({className:sT("recharts-polar-angle-axis-tick",lV(o)),key:"tick-".concat(n.coordinate)},qT(e.props,n,r)),a&&i.createElement("line",uG({className:"recharts-polar-angle-axis-tick-line"},h,d)),o&&t.renderTickItem(o,f,s?s(n.value,r):n.value))}));return i.createElement(AI,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:i.createElement(AI,{className:sT("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}],o=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):NT()(e)?e(t):i.createElement(oD,uG({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],r&&hG(n.prototype,r),o&&hG(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);gG(wG,"displayName","PolarAngleAxis"),gG(wG,"axisType","angleAxis"),gG(wG,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xG=n(2794),SG=n.n(xG),_G=n(9364),EG=n.n(_G),kG=["cx","cy","angle","ticks","axisLine"],OG=["ticks","tick","angle","tickFormatter","stroke"];function TG(e){return TG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TG(e)}function IG(){return IG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IG.apply(this,arguments)}function AG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AG(Object(n),!0).forEach((function(t){LG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FG(r.key),r)}}function NG(e,t,n){return t=RG(t),function(e,t){if(t&&("object"===TG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DG()?Reflect.construct(t,n||[],RG(e).constructor):t.apply(e,n))}function DG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DG=function(){return!!e})()}function RG(e){return RG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RG(e)}function MG(e,t){return MG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MG(e,t)}function LG(e,t,n){return(t=FG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FG(e){var t=function(e,t){if("object"!=TG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TG(t)?t:String(t)}var UG,BG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),NG(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MG(e,t)}(t,e),n=t,r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,o=n.cy;return oV(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=SG()(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:EG()(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,o=e.ticks,a=e.axisLine,s=PG(e,kG),u=o.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=oV(t,n,u[0],r),l=oV(t,n,u[1],r),h=CG(CG(CG({},iI(s,!1)),{},{fill:"none"},iI(a,!1)),{},{x1:c.x,y1:c.y,x2:l.x,y2:l.y});return i.createElement("line",IG({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var e=this,n=this.props,r=n.ticks,o=n.tick,a=n.angle,s=n.tickFormatter,u=n.stroke,c=PG(n,OG),l=this.getTickTextAnchor(),h=iI(c,!1),d=iI(o,!1),f=r.map((function(n,r){var c=e.getTickValueCoord(n),f=CG(CG(CG(CG({textAnchor:l,transform:"rotate(".concat(90-a,", ").concat(c.x,", ").concat(c.y,")")},h),{},{stroke:"none",fill:u},d),{},{index:r},c),{},{payload:n});return i.createElement(AI,IG({className:sT("recharts-polar-radius-axis-tick",lV(o)),key:"tick-".concat(n.coordinate)},qT(e.props,n,r)),t.renderTickItem(o,f,s?s(n.value,r):n.value))}));return i.createElement(AI,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?i.createElement(AI,{className:sT("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),kV.renderCallByParent(this.props,this.getViewBox())):null}}],o=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):NT()(e)?e(t):i.createElement(oD,IG({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],r&&jG(n.prototype,r),o&&jG(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function VG(e){return VG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VG(e)}function zG(){return zG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zG.apply(this,arguments)}function qG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qG(Object(n),!0).forEach((function(t){YG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JG(r.key),r)}}function KG(e,t,n){return t=HG(t),function(e,t){if(t&&("object"===VG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QG(e)}(e,GG()?Reflect.construct(t,n||[],HG(e).constructor):t.apply(e,n))}function GG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(GG=function(){return!!e})()}function HG(e){return HG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HG(e)}function QG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XG(e,t){return XG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XG(e,t)}function YG(e,t,n){return(t=JG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JG(e){var t=function(e,t){if("object"!=VG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VG(t)?t:String(t)}LG(BG,"displayName","PolarRadiusAxis"),LG(BG,"axisType","radiusAxis"),LG(BG,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var ZG=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),YG(QG(n=KG(this,t,[e])),"pieRef",null),YG(QG(n),"sectorRefs",[]),YG(QG(n),"id",ET("recharts-pie-")),YG(QG(n),"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),NT()(e)&&e()})),YG(QG(n),"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),NT()(e)&&e()})),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XG(e,t)}(t,e),n=t,r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,o=n.labelLine,a=n.dataKey,s=n.valueKey,u=iI(this.props,!1),c=iI(r,!1),l=iI(o,!1),h=r&&r.offsetRadius||20,d=e.map((function(e,n){var d=(e.startAngle+e.endAngle)/2,f=oV(e.cx,e.cy,e.outerRadius+h,d),p=$G($G($G($G({},u),e),{},{stroke:"none"},c),{},{index:n,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=$G($G($G($G({},u),e),{},{fill:"none",stroke:e.fill},l),{},{index:n,points:[oV(e.cx,e.cy,e.outerRadius,d),f],key:"line"}),g=a;return PT()(a)&&PT()(s)?g="value":PT()(a)&&(g=s),i.createElement(AI,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},o&&t.renderLabelLineItem(o,m),t.renderLabelItem(r,p,sB(e,g)))}));return i.createElement(AI,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,o=n.blendStroke,a=n.inactiveShape;return e.map((function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var u=t.isActiveIndex(s),c=a&&t.hasActiveIndex()?a:null,l=u?r:c,h=$G($G({},n),{},{stroke:o?n.fill:n.stroke,tabIndex:-1});return i.createElement(AI,zG({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},qT(t.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),i.createElement(Ez,zG({option:l,isActive:u,shapeType:"sector"},h)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,s=t.animationEasing,u=t.animationId,c=this.state,l=c.prevSectors,h=c.prevIsAnimationActive;return i.createElement(Zj,{begin:o,duration:a,isActive:r,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var r=t.t,o=[],a=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=l&&l[t],i=t>0?gT()(e,"paddingAngle",0):0;if(n){var s=TT(n.endAngle-n.startAngle,e.endAngle-e.startAngle),u=$G($G({},e),{},{startAngle:a+i,endAngle:a+s(r)+i});o.push(u),a=u.endAngle}else{var c=e.endAngle,h=e.startAngle,d=TT(0,c-h)(r),f=$G($G({},e),{},{startAngle:a+i,endAngle:a+d+i});o.push(f),a=f.endAngle}})),i.createElement(AI,null,e.renderSectorsStatically(o))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&pU()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,o=t.className,a=t.label,s=t.cx,u=t.cy,c=t.innerRadius,l=t.outerRadius,h=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!r||!r.length||!xT(s)||!xT(u)||!xT(c)||!xT(l))return null;var f=sT("recharts-pie",o);return i.createElement(AI,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(r),kV.renderCallByParent(this.props,null,!1),(!h||d)&&KV.renderCallByParent(this.props,r,!1))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if(NT()(e))return e(t);var n=sT("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return i.createElement(z$,zG({},t,{type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,n){if(i.isValidElement(e))return i.cloneElement(e,t);var r=n;if(NT()(e)&&(r=e(t),i.isValidElement(r)))return r;var o=sT("recharts-pie-label-text","boolean"===typeof e||NT()(e)?"":e.className);return i.createElement(oD,zG({},t,{alignmentBaseline:"middle",className:o}),r)}}],r&&WG(n.prototype,r),o&&WG(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);UG=ZG,YG(ZG,"displayName","Pie"),YG(ZG,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!rA.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),YG(ZG,"parseDeltaAngle",(function(e,t){return bT(t-e)*Math.min(Math.abs(t-e),360)})),YG(ZG,"getRealPieData",(function(e){var t=e.props,n=t.data,r=t.children,i=iI(e.props,!1),o=ZT(r,jV);return n&&n.length?n.map((function(e,t){return $G($G($G({payload:e},i),e),o&&o[t]&&o[t].props)})):o&&o.length?o.map((function(e){return $G($G({},i),e.props)})):[]})),YG(ZG,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=aV(i,o);return{cx:r+kT(e.props.cx,i,i/2),cy:n+kT(e.props.cy,o,o/2),innerRadius:kT(e.props.innerRadius,a,0),outerRadius:kT(e.props.outerRadius,a,.8*a),maxRadius:e.props.maxRadius||Math.sqrt(i*i+o*o)/2}})),YG(ZG,"getComposedData",(function(e){var t=e.item,n=e.offset,r=UG.getRealPieData(t);if(!r||!r.length)return null;var i=t.props,o=i.cornerRadius,a=i.startAngle,s=i.endAngle,u=i.paddingAngle,c=i.dataKey,l=i.nameKey,h=i.valueKey,d=i.tooltipType,f=Math.abs(t.props.minAngle),p=UG.parseCoordinateOfPie(t,n),m=UG.parseDeltaAngle(a,s),g=Math.abs(m),y=c;PT()(c)&&PT()(h)?(AT(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):PT()(c)&&(AT(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=h);var v,b,w=r.filter((function(e){return 0!==sB(e,y,0)})).length,x=g-w*f-(g>=360?w:w-1)*u,S=r.reduce((function(e,t){var n=sB(t,y,0);return e+(xT(n)?n:0)}),0);S>0&&(v=r.map((function(e,t){var n,r=sB(e,y,0),i=sB(e,l,t),s=(xT(r)?r:0)/S,c=(n=t?b.endAngle+bT(m)*u*(0!==r?1:0):a)+bT(m)*((0!==r?f:0)+s*x),h=(n+c)/2,g=(p.innerRadius+p.outerRadius)/2,v=[{name:i,value:r,payload:e,dataKey:y,type:d}],w=oV(p.cx,p.cy,g,h);return b=$G($G($G({percent:s,cornerRadius:o,name:i,tooltipPayload:v,midAngle:h,middleRadius:g,tooltipPosition:w},e),p),{},{value:sB(e,y),startAngle:n,endAngle:c,payload:e,paddingAngle:bT(m)*u})})));return $G($G({},p),{},{sectors:v,data:r})}));var eH=LW({chartName:"PieChart",GraphicalChild:ZG,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:wG},{axisType:"radiusAxis",AxisComp:BG}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.startAngle,u=e.endAngle,c=kT(e.cx,o,o/2),l=kT(e.cy,a,a/2),h=aV(o,a,n),d=kT(e.innerRadius,h,0),f=kT(e.outerRadius,h,.8*h);return Object.keys(t).reduce((function(e,n){var o,a=t[n],h=a.domain,p=a.reversed;if(PT()(a.range))"angleAxis"===r?o=[s,u]:"radiusAxis"===r&&(o=[d,f]),p&&(o=[o[1],o[0]]);else{var m=tV(o=a.range,2);s=m[0],u=m[1]}var g=yB(a,i),y=g.realScaleType,v=g.scale;v.domain(h).range(o),bB(v);var b=SB(v,ZB(ZB({},a),{},{realScaleType:y})),w=ZB(ZB(ZB({},a),b),{},{range:o,radius:f,realScaleType:y,scale:v,cx:c,cy:l,innerRadius:d,outerRadius:f,startAngle:s,endAngle:u});return ZB(ZB({},e),{},eV({},n,w))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const tH=()=>{const e=P(),[t,n]=(lo(),(0,i.useState)("")),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(!1),[u,c]=(0,i.useState)({}),[l,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[g,y]=(0,i.useState)([]),[v,w]=(0,i.useState)(!1),{supplyRequests:x=[],products:S=[],clerks:_=[],reports:E={}}=b((e=>e.admin)),k=b((e=>e.user.user)),O=b((e=>e.storeAdmin.value)),T=b((e=>e.showAddProduct.mode)),I="Admin"===k.role?k.store_id:O.store_id,A=b((e=>e.darkMode.mode)),[C,j]=(0,i.useState)({brand_name:"",product_name:"",number_of_items:"",buying_price:"",selling_price:""}),N=e=>{const{name:t,value:n}=e.target;j((e=>({...e,[t]:n})))},D=()=>{fetch(`https://my-duka-back-end.vercel.app/addProduct/${I}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}).then((e=>e.json())).then((e=>w((e=>!e)))),j({brand_name:"",product_name:"",number_of_items:"",buying_price:"",selling_price:""}),e(si(!1))},R=()=>{h(null)};(0,i.useEffect)((()=>{c((e=>e.reduce(((e,t)=>{const{product_name:n}=t;return e[n]||(e[n]=[]),e[n].push(t),e}),{}))(g))}),[g]),(0,i.useEffect)((()=>{e(ii(u))}),[u]),(0,i.useEffect)((()=>{const t=fetch(`https://my-duka-back-end.vercel.app/sales/${I}`).then((e=>e.json())),n=fetch(`https://my-duka-back-end.vercel.app/requests/${I}`).then((e=>e.json())),r=fetch(`https://my-duka-back-end.vercel.app/getProducts/${I}`).then((e=>e.json())),i=fetch(`https://my-duka-back-end.vercel.app/getClerk/${I}`).then((e=>e.json()));Promise.all([t,n,r,i]).then((t=>{let[n,r,i,o]=t;const a=n.sales.sort(((e,t)=>new Date(e.date)-new Date(t.date)));y(a),e(Xr(r)),e(Zr(i)),e(ti(o)),e(ii(u))})).catch((e=>{console.error("Error fetching data:",e)}))}),[v,k]);const M=()=>{t.trim()&&r.trim()&&fetch("https://my-duka-back-end.vercel.app/inviteClerk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({store_id:I,email:r})}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{n(""),o(""),s(!1)})).catch((e=>{console.error("There was a problem with the fetch operation:",e),alert("Failed to add new admin.")}))},L=(e=>e.reduce(((e,t)=>{const{username:n}=t.clerk;return e[n]||(e[n]=[]),e[n].push(t),e}),{}))(g),F=(e=>Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>e+t.quantity_sold),0),r=e[t].reduce(((e,t)=>e+t.profit),0);return{name:t.charAt(0).toUpperCase()+t.slice(1),quantitySold:n,profit:r}})))(u),U=["#8884d8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#8dd1e1","#83a6ed","#d074cb","#8884d8","#ff8042","#ffbb28","#00C49F","#FF8042","#FFBB28","#FF7F50","#FF4500","#FFD700","#9ACD32","#32CD32","#6495ED"],B=(e=>{if(e[0])return e.map(((e,t)=>{const n=e.salesReports.reduce(((e,t)=>e+t.quantity_sold),0);return{name:e.username,value:n,fill:U[t]||"#000000"}}))})(_);if("Admin"===k.role||"Merchant"===k.role)return(0,di.jsxs)("div",{className:"admin-page "+(A?"dark-mode":""),children:[(0,di.jsx)(TO,{}),(0,di.jsxs)("main",{className:"main-content",children:[(0,di.jsxs)("header",{children:[(0,di.jsx)("h1",{children:"Admin"===k.role?k.username:O.username}),(0,di.jsxs)("button",{className:"add-clerk-btn",onClick:()=>s(!0),children:[(0,di.jsx)("span",{className:"plus-icon",children:"+"})," Add Clerk"]})]}),(0,di.jsxs)("section",{className:"supply-requests",children:[(0,di.jsx)("h2",{children:"Supply Requests"}),(0,di.jsx)("div",{className:"table-responsive",children:(0,di.jsxs)("table",{children:[(0,di.jsx)("thead",{children:(0,di.jsxs)("tr",{children:[(0,di.jsx)("th",{children:"Clerk"}),(0,di.jsx)("th",{children:"Product"}),(0,di.jsx)("th",{children:"Quantity"}),(0,di.jsx)("th",{children:"Status"}),(0,di.jsx)("th",{children:"Actions"})]})}),x[0]&&(0,di.jsx)("tbody",{children:x.map((t=>(0,di.jsxs)("tr",{children:[(0,di.jsx)("td",{children:t.clerk.username}),(0,di.jsx)("td",{children:t.product.product_name}),(0,di.jsx)("td",{children:t.quantity}),(0,di.jsx)("td",{children:t.status}),(0,di.jsxs)("td",{children:["Pending"===t.status&&(0,di.jsx)("button",{className:"approve-btn",onClick:()=>{return n=t.id,fetch(`https://my-duka-back-end.vercel.app/acceptRequests/${n}`).then((e=>e.json())).then((e=>console.log(e))).then((()=>w((e=>!e)))),void e(Yr(n));var n},children:"Approve"}),"Pending"===t.status&&(0,di.jsx)("button",{className:"decline-btn",onClick:()=>{return n=t.id,fetch(`https://my-duka-back-end.vercel.app/acceptRequests/${n}`,{method:"DELETE"}).then((e=>e.json())).then((e=>console.log(e))),e(Jr(n)),void w((e=>!e));var n},children:"Decline"})]})]},t.id)))})]})})]}),(0,di.jsxs)("section",{className:"products",children:[(0,di.jsx)("h2",{children:"Products"}),(0,di.jsx)("div",{className:"table-responsive",children:(0,di.jsxs)("table",{children:[(0,di.jsx)("thead",{children:(0,di.jsxs)("tr",{children:[(0,di.jsx)("th",{children:"Item"}),(0,di.jsx)("th",{children:"Paid Status"}),(0,di.jsx)("th",{children:"Spoilt"}),(0,di.jsx)("th",{children:"Remaining Stock"}),(0,di.jsx)("th",{children:"Unit Price"}),(0,di.jsx)("th",{children:"Buying Price"}),(0,di.jsx)("th",{children:"Actions"})]})}),(0,di.jsx)("tbody",{children:S.map((t=>(0,di.jsxs)("tr",{children:[(0,di.jsx)("td",{children:t.product_name}),(0,di.jsx)("td",{children:"paid"===t.payment_status?"Paid":(0,di.jsx)("button",{onClick:()=>{return n=t.id,fetch(`https://my-duka-back-end.vercel.app/paymentStatus/${n}`).then((e=>e.json())).then((e=>console.log(e))),void e(ei(n));var n},children:"Mark as Paid"})}),(0,di.jsx)("td",{children:t.spoilt_items}),(0,di.jsx)("td",{children:t.closing_stock}),(0,di.jsx)("td",{children:l===t.id?(0,di.jsx)("input",{type:"number",value:d,onChange:e=>f(e.target.value)}):t.selling_price}),(0,di.jsx)("td",{children:l===t.id?(0,di.jsx)("input",{type:"number",value:p,onChange:e=>m(e.target.value)}):t.buying_price}),(0,di.jsx)("td",{children:l===t.id?(0,di.jsxs)(di.Fragment,{children:[(0,di.jsx)("button",{onClick:()=>{return e=t.id,void fetch(`https://my-duka-back-end.vercel.app/updateProduct/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({selling_price:d,buying_price:p})}).then((e=>e.json())).then((()=>{h(null),w((e=>!e))}));var e},children:"Save"}),(0,di.jsx)("button",{onClick:R,children:"Cancel"})]}):(0,di.jsx)("button",{onClick:()=>(e=>{h(e.id),f(e.selling_price),m(e.buying_price)})(t),children:"Edit"})})]},t.id)))})]})})]}),(0,di.jsxs)("section",{className:"clerks",children:[(0,di.jsx)("h2",{children:"Clerks"}),(0,di.jsx)("div",{className:"table-responsive",children:(0,di.jsxs)("table",{children:[(0,di.jsx)("thead",{children:(0,di.jsxs)("tr",{children:[(0,di.jsx)("th",{children:"Name"}),(0,di.jsx)("th",{children:"Email"}),(0,di.jsx)("th",{children:"Status"}),(0,di.jsx)("th",{children:"Actions"})]})}),(0,di.jsx)("tbody",{children:_[0]&&_.map((t=>(0,di.jsxs)("tr",{children:[(0,di.jsx)("td",{children:t.username}),(0,di.jsx)("td",{children:t.email}),(0,di.jsx)("td",{children:t.account_status}),(0,di.jsxs)("td",{children:[(0,di.jsx)("button",{className:"inactivate-btn",onClick:()=>(async e=>{try{fetch(`https://my-duka-back-end.vercel.app/clerkAccountStatus/${e}`).then((e=>{if(e.ok)return console.log("Inactivated clerk"),w((e=>!e)),e.json();console.error("Error inactivating clerk:",e.statusText)}))}catch(t){console.error("Error inactivating clerk:",t)}console.log("Inactivate clerk",e)})(t.id),children:t.account_status}),(0,di.jsx)("button",{className:"delete-btn",onClick:()=>(async t=>{try{const e=await fetch(`https://my-duka-back-end.vercel.app/clerkAccountStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});e.ok?console.log("Deleted clerk"):console.error("Error deleting clerk:",e.statusText)}catch(n){console.error("Error deleting clerk:",n)}e(ri(t))})(t.id),children:"Delete"})]})]},t.id)))})]})})]}),Object.keys(L).map((e=>(0,di.jsxs)("section",{className:"clerk-sales",children:[(0,di.jsx)("h3",{children:e}),(0,di.jsx)("div",{className:"table-responsive",children:(0,di.jsxs)("table",{children:[(0,di.jsx)("thead",{children:(0,di.jsxs)("tr",{children:[(0,di.jsx)("th",{children:"DATE"}),(0,di.jsx)("th",{children:"ITEM"}),(0,di.jsx)("th",{children:"QUANTITY SOLD"}),(0,di.jsx)("th",{children:"QUANTITY UNSOLD"}),(0,di.jsx)("th",{children:"PROFIT"})]})}),(0,di.jsx)("tbody",{children:L[e].map((e=>(0,di.jsxs)("tr",{children:[(0,di.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,di.jsx)("td",{children:e.product_name}),(0,di.jsx)("td",{children:e.quantity_sold}),(0,di.jsx)("td",{children:e.quantity_in_hand}),(0,di.jsx)("td",{children:e.profit})]},e.id)))})]})})]},e))),(0,di.jsxs)("section",{className:"performance-reports",children:[(0,di.jsx)("h2",{children:"Performance Reports"}),Object.entries(E).map((e=>{let[t,n]=e;return(0,di.jsxs)("div",{className:"product-report",children:[(0,di.jsxs)("h3",{children:[t.charAt(0).toUpperCase()+t.slice(1)," Sales Trends"]}),(0,di.jsx)(pI,{width:"100%",height:400,children:(0,di.jsxs)(JK,{width:600,height:300,data:n,children:[(0,di.jsx)(uK,{dataKey:"date"}),(0,di.jsx)(lK,{yAxisId:"left"}),(0,di.jsx)(lK,{yAxisId:"right",orientation:"right"}),(0,di.jsx)(AK,{strokeDasharray:"3 3"}),(0,di.jsx)(vA,{}),(0,di.jsx)(NC,{}),(0,di.jsx)(YK,{yAxisId:"left",type:"monotone",dataKey:"quantity_sold",stroke:"#ffc658",name:"Quantity Sold"}),(0,di.jsx)(YK,{yAxisId:"left",type:"monotone",dataKey:"quantity_in_hand",stroke:A?"#ffd700":"#ffc658",name:"Quantity in Hand"}),(0,di.jsx)(YK,{yAxisId:"right",type:"monotone",dataKey:"profit",stroke:A?"#ff6b6b":"#ff0000",name:"Profit (KSH)"})]})})]},t)}))]}),(0,di.jsxs)("section",{className:"product-performance-comparison",children:[(0,di.jsx)("h2",{children:"Product Performance Comparison"}),(0,di.jsx)(pI,{width:"100%",height:400,children:(0,di.jsxs)(hK,{width:800,height:400,data:F,children:[(0,di.jsx)(uK,{dataKey:"name"}),(0,di.jsx)(lK,{yAxisId:"left"}),(0,di.jsx)(lK,{yAxisId:"right",orientation:"right"}),(0,di.jsx)(AK,{strokeDasharray:"3 3"}),(0,di.jsx)(vA,{}),(0,di.jsx)(NC,{}),(0,di.jsx)(nq,{yAxisId:"left",dataKey:"quantitySold",fill:"#8884d8",name:"Quantity Sold"}),(0,di.jsx)(nq,{yAxisId:"right",dataKey:"profit",fill:"#82ca9d",name:"Profit (KSH)"})]})})]}),(0,di.jsxs)("section",{className:"clerk-performance-comparison",children:[(0,di.jsx)("h2",{children:"Clerk Performance Comparison"}),(0,di.jsx)(pI,{width:"100%",height:400,children:(0,di.jsxs)(eH,{width:800,height:400,children:[(0,di.jsx)(ZG,{data:B,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:120,label:!0}),(0,di.jsx)(vA,{}),(0,di.jsx)(NC,{})]})})]})]}),T&&(0,di.jsx)("div",{className:"popup",children:(0,di.jsxs)("div",{className:"popup-content",children:[(0,di.jsx)("h2",{children:"Add New Product"}),(0,di.jsx)("input",{type:"text",name:"brand_name",value:C.brand_name,onChange:N,placeholder:"Brand Name"}),(0,di.jsx)("input",{type:"text",name:"product_name",value:C.product_name,onChange:N,placeholder:"Product Name"}),(0,di.jsx)("input",{type:"number",name:"number_of_items",value:C.number_of_items,onChange:N,placeholder:"Number of Items"}),(0,di.jsx)("input",{type:"number",name:"buying_price",value:C.buying_price,onChange:N,placeholder:"Buying Price"}),(0,di.jsx)("input",{type:"number",name:"selling_price",value:C.selling_price,onChange:N,placeholder:"Selling Price"}),(0,di.jsx)("button",{onClick:D,children:"Add"}),(0,di.jsx)("button",{onClick:()=>e(si(!1)),children:"Cancel"})]})}),a&&(0,di.jsx)("div",{className:"popup",children:(0,di.jsxs)("div",{className:"popup-content",children:[(0,di.jsx)("h2",{children:"Add New Clerk"}),(0,di.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Enter clerk name"}),(0,di.jsx)("input",{type:"email",value:r,onChange:e=>o(e.target.value),placeholder:"Enter clerk email"}),(0,di.jsx)("button",{onClick:M,children:"Add"}),(0,di.jsx)("button",{onClick:()=>s(!1),children:"Cancel"})]})})]})};const nH=function(){const{token:e}=function(){let{matches:e}=i.useContext(oo),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),u=lo();return(0,di.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{const n=await fetch(`https://my-duka-back-end.vercel.app/api/reset_password/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t,password:r})}),i=await n.json();s(i.message),n.ok&&u("/login",{state:{role:t}})}catch(i){console.error("Error:",i),s("Something went wrong. Please try again later.")}},children:[(0,di.jsx)("input",{type:"password",placeholder:"Enter your new password",value:r,onChange:e=>o(e.target.value),required:!0}),(0,di.jsxs)("select",{value:t,onChange:e=>n(e.target.value),required:!0,children:[(0,di.jsx)("option",{value:"",disabled:!0,children:"Select your role"}),(0,di.jsx)("option",{value:"Merchant",children:"Merchant"}),(0,di.jsx)("option",{value:"Clerk",children:"Clerk"}),(0,di.jsx)("option",{value:"Admin",children:"Admin"})]}),(0,di.jsx)("button",{type:"submit",children:"Reset Password"}),a&&(0,di.jsx)("p",{children:a})]})},rH=()=>{const e=P();return(0,i.useEffect)((()=>{const t=localStorage.getItem("access_token");t&&fetch("https://my-duka-back-end.vercel.app/check_session",{headers:{Authorization:`Bearer ${t}`}}).then((e=>{if(!e.ok)throw new Error("Failed to verify token");return e.json()})).then((t=>{e(dt(t))})).catch((e=>{console.error("Token verification failed:",e)}))}),[e]),(0,di.jsx)(NO,{children:(0,di.jsxs)(To,{children:[(0,di.jsx)(ko,{path:"/",element:(0,di.jsx)(jK,{})}),(0,di.jsx)(ko,{path:"/login",element:(0,di.jsx)(DK,{})}),(0,di.jsx)(ko,{path:"/signup",element:(0,di.jsx)(FO,{})}),(0,di.jsx)(ko,{path:"*",element:(0,di.jsx)(Eo,{to:"/"})}),(0,di.jsx)(ko,{path:"/clerk/:id",element:(0,di.jsx)(IO,{})}),(0,di.jsx)(ko,{path:"/merchant",element:(0,di.jsx)(CK,{})}),(0,di.jsx)(ko,{path:"/admin/:id",element:(0,di.jsx)(tH,{})}),(0,di.jsx)(ko,{path:"/chatBot",element:(0,di.jsx)(wO,{})}),(0,di.jsx)(ko,{path:"/reset-password/:token",element:(0,di.jsx)(nH,{})})]})})},iH=document.getElementById("root");(0,a.H)(iH).render((0,di.jsx)(i.StrictMode,{children:(0,di.jsx)(O,{store:hi,children:(0,di.jsx)(rH,{})})}))})()})();
//# sourceMappingURL=main.bde4fcdd.js.map